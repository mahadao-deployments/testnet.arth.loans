{"version":3,"sources":["assets/icons/misc/Default.svg","assets/icons/tokenSymbol/ARTH.svg","assets/icons lazy /^/.//.*/.svg$/ groupOptions: {} namespace object","scripts/headerWarning.js","assets/images/ComingSoon.svg","theme/colors.ts","theme/index.ts","theme/components/TextWrapper/index.tsx","components/NoPageFound/index.tsx","utils/Decimal.ts","ui-config/marketConfig.ts","protocol/constants.ts","config/baseGoerli.ts","config/ethereum.ts","assets/icons/markets/ethereum.png","assets/icons/markets/base.png","config.ts","utils/CustomChains.ts","utils/NetworksCustomHooks.ts","state/application/actions.ts","state/application/hooks.ts","state/transactions/actions.ts","state/transactions/hooks.tsx","state/stats/actions.ts","state/stats/controller.ts","state/token/actions.ts","state/token/controller.ts","state/trove/actions.ts","state/trove/controller.ts","utils/Trove.ts","protocol/ERC20.ts","protocol/Mulitcall.ts","protocol/deployments/abi.ts","protocol/Protocol.ts","contexts/ProtocolProvider.tsx","hooks/useCore.ts","analytics/Mixpanel.js","theme/components/Button/index.tsx","hooks/callbacks/useApprove.ts","theme/components/PageHeader/index.tsx","pages/faucet.page.tsx","hooks/callbacks/useFaucetClaim.ts","hooks/state/useGetProtocolCollateral.ts","modules/home/chainsCard.tsx","hooks/state/sortedTroves/useGetTroveIsAlreadyOpen.ts","theme/components/IconLoader/index.tsx","components/Sidebar/index.tsx","layouts/PageLayout.tsx","modules/home/guild.tsx","assets/images/maha.png","hooks/state/sortedTroves/useGetLinkedListSize.ts","pages/index.page.tsx","components/CustomDropDown/index.tsx","components/CustomInputContainer/RegexValidation.tsx","components/CustomInputContainer/index.tsx","hooks/state/useAllowance.ts","hooks/state/governance/useGetStabilityFee.ts","hooks/state/troveManager/useGetRedemptionFeeRateWithDecay.ts","hooks/useTokenDecimals.ts","hooks/state/useCollateralPriceFeed.ts","hooks/state/useGetNativeTokenBalance.ts","hooks/state/useTokenBalanceOf.ts","hooks/state/useTokenBalance.ts","assets/images/Tick.svg","theme/components/Modal/index.tsx","theme/components/SuccesModal/index.tsx","theme/components/Tooltip/index.tsx","utils/formatBalance.ts","utils/tokenDetails.ts","utils/index.ts","utils/fees.ts","utils/formatErrorMessage.ts","hooks/state/hinthelpers/helper.ts","hooks/callbacks/troveManager/useRedeemCollateral.ts","views/AddLoan/modal/StepConfirmationModal.tsx","modules/redeem/modal/ConfirmRedeemModal.tsx","modules/redeem/Redeem.tsx","hooks/state/controller/useMAHAPrice.ts","modules/redeem/RedeemDesc.tsx","hooks/state/troveManager/useGetBorrowingFeeRateWithDecay.ts","hooks/state/troveManager/useGetEntireSystemCollateral.ts","hooks/state/troveManager/useGetIsRecoveryMode.ts","hooks/state/troveManager/useGetTotalCollateralRatio.ts","hooks/state/useARTHCirculatingSupply.ts","hooks/state/useGetARTHInStabilityPoolWithPercent.ts","hooks/state/stabilityPool/useGetARTHInStabilityPool.ts","theme/components/DataField/index.tsx","views/LoanInfo/LoanInfo.tsx","hooks/state/useGetCollateralWithGMUValue.ts","hooks/state/troveManager/useGetEntireSystemDebt.ts","hooks/state/borrowerOperations/useGetIsFrontendRegistered.ts","pages/redeem.page.tsx","hooks/state/stabilityPool/useETHGain.ts","hooks/state/stabilityPool/useGetMAHARewards.ts","theme/components/InfoTip/index.tsx","modules/stabilityPool/Deposit.tsx","hooks/callbacks/stabilityPool/useStake.ts","utils/constants.ts","modules/stabilityPool/GlobalData.tsx","hooks/state/stabilityPool/useGetRemainingETHGain.ts","hooks/state/useGetTvlInARTH.ts","modules/stabilityPool/SPDesc.tsx","modules/stabilityPool/modal/WithdrawARTHModal.tsx","hooks/callbacks/stabilityPool/useWithdraw.ts","modules/stabilityPool/UsersData.tsx","hooks/state/stabilityPool/useGetPoolShare.ts","hooks/state/stabilityPool/useGetDepositedAmount.ts","pages/stabilityPool.page.tsx","theme/components/Page/Page.tsx","utils/crParameters.ts","hooks/callbacks/borrowerOperations/useOpenTrove.ts","views/AddLoan/modal/ConfirmLoanModal.tsx","views/AddLoan/components/AddLoanSection.tsx","views/AddLoan/components/UnclaimedCollateral.tsx","hooks/callbacks/borrowerOperations/useClaimCollateral.ts","hooks/state/borrowerOperations/useUnclaimedCollateral.ts","views/AddLoan/index.tsx","hooks/state/useGetAllTroves.ts","theme/components/HtmlTooltip/index.ts","views/AllLoans/components/AllLoansTable.tsx","hooks/state/sortedTroves/useGetStaticLinkedListSize.ts","hooks/callbacks/troveManager/useLiquidateTrove.ts","views/AllLoans/index.tsx","utils/tokens/constants.ts","hooks/state/useGetUSDValue.ts","views/Loan/components/SummaryBox.tsx","views/Loan/components/GlobalData.tsx","hooks/state/useGetProtocolDebt.ts","views/Loan/index.tsx","components/LoadingPage/index.tsx","hooks/state/troveManager/useGetTrove.ts","theme/components/TextButton/index.tsx","views/LoanDetails/modal/ConfirmCloseLoanModal.tsx","hooks/callbacks/borrowerOperations/useCloseTrove.ts","views/LoanDetails/component/OpenedLoan.tsx","views/LoanDetails/index.tsx","components/DepositModal/index.tsx","hooks/callbacks/useDepositWETH.ts","views/ModifyLoan/modal/ConfirmAddCollateral.tsx","hooks/callbacks/borrowerOperations/useAddColl.ts","views/ModifyLoan/modal/ConfirmRemoveCollateral.tsx","hooks/callbacks/borrowerOperations/useWithdrawColl.ts","views/ModifyLoan/CollateralModifyLoan.tsx","views/ModifyLoan/modal/ConfirmGenerateARTH.tsx","hooks/callbacks/borrowerOperations/useWithdrawARTH.ts","views/ModifyLoan/modal/ConfirmPaybackARTH.tsx","hooks/callbacks/borrowerOperations/useRepayARTH.ts","views/ModifyLoan/DebtModifyLoan.tsx","views/ModifyLoan/LoanDesc.tsx","views/ModifyLoan/index.tsx","views/Price/components/PriceDesc.tsx","theme/components/ProgressBar/index.tsx","views/Price/components/UpdateOraclePrice.tsx","hooks/state/updateOracle/useGetNextUpdateTime.ts","hooks/callbacks/updateOracle/useUpdatePrice.ts","views/Price/components/graphs/GMUvsETHGraph.tsx","views/Price/components/graphs/TWAPGraph.tsx","views/Price/index.tsx","Navigation.tsx","components/Disclaimer/index.tsx","components/Popups/TransactionSnackbar.tsx","components/Popups/index.tsx","theme/components/CustomComponent/index.ts","theme/components/WrongNetworkModal/index.tsx","theme/components/ConfirmationModal/index.tsx","components/TopBar/components/modal/Transaction/SingleTransaction.tsx","components/TopBar/components/modal/Transaction/TxModal.tsx","components/TopBar/components/modal/Transaction/MobileTransactionInfo.tsx","components/TopBar/components/MobileNav.tsx","components/TopBar/components/modal/Transaction/DesktopTransactionInfo.tsx","components/TopBar/TopBar.tsx","state/analytics/actions.ts","state/analytics/reducer.ts","state/application/reducer.ts","state/slippage/actions.ts","state/slippage/reducer.ts","state/stats/reducer.ts","state/token/reducer.ts","state/transactions/reducer.ts","state/trove/reducer.ts","state/index.ts","hooks/useIsWindowVisible.ts","utils/provider.ts","state/application/updater.ts","hooks/useDebounce.ts","state/transactions/updater.tsx","state/Updaters.tsx","utils/rainbowKitCustomTheme.ts","App.tsx","state/analytics/controller.ts","serviceWorker.js","index.tsx"],"names":["map","webpackAsyncContext","req","__webpack_require__","o","Promise","resolve","then","e","Error","code","ids","id","all","slice","keys","Object","module","exports","window","addEventListener","event","showWarning","document","getElementById","header","sidebar","main_page","showWarningBool","innerHTML","this","scrollY","style","display","marginTop","minHeight","paddingTop","teal","theme","borderRadius","color","black","grey","dark","pink","purple","primary","red","green","secondary","main","light","white","transparent","transparentog","gradients","brown_gradient","orange_gradient","gray_linear","dark_linear","yellow","siteWidth","spacing","topBarSize","TextWrapper","props","fontFamily","fontStyle","fontWeight","fontSize","FletterSpacing","Fcolor","text","className","align","StyledText","letterSpacing","fcolor","StyledDiv","styled","p","div","NoPageFound","MainContainer","src","ComingSoonImg","alt","decimalify","bigNumber","Decimal","fromBigNumberString","toHexString","getDigits","numDigits","TEN","pow","PRECISION","ONE","BigNumber","from","DIGITS","stringRepresentationFormat","trailingZeros","magnitudes","roundedMul","x","y","mul","add","HALF","hex","_bigNumber","isNegative","toString","isZero","eq","INFINITY","precision","infinite","undefined","_toStringWithPrecision","_toStringWithAutomaticPrecision","split","characteristic","mantissa","prettyCharacteristic","replace","characteristicLength","length","magnitude","Math","min","floor","max","prettify","addend","subtrahend","sub","multiplier","divider","exponent","assert","Number","isInteger","that","lt","gt","gte","lte","mod","trimmedMantissa","padStart","halfDigit","value","_roundUp","substr","bigNumberString","decimalish","_fromString","a","b","representation","match","includes","coefficient","startsWith","repeat","ZERO","CustomMarket","ZERO_ADDRESS","DECIMALS_18","BNZERO","ARTH_GAS_COMPENSATION","MIN_NET_DEBT","MAX_UINT_256","MINUTE_DECAY_FACTOR","MINIMUM_BORROWING_RATE","CRITICAL_COLLATERAL_RATIO","ARTH_LIQUIDATION_RESERVE","ARTH_MINIMUM_NET_DEBT","MINIMUM_COLLATERAL_RATIO","configurations","chainId","networkName","networkDisplayName","networkIconName","blockchainTokenName","blockchainToken","etherscanUrl","defaultProvider","blockchainTokenDecimals","deployments","require","vFatLink","tradingLink","networkSetupDocLink","analyticsLink","refreshInterval","gasLimitMultiplier","decimalOverrides","frontEndAddress","defaultCollateral","supportedTokens","troveStaticInfo","trove","depositToken","displayName","contractPrefix","crParameters","mcr","ccr","liquidationReserve","minDebtAmount","farmingConfigs","tokeniseStaticInfo","tradingCollaterals","crvTradeTokenIndexMapping","poolsStaticInfo","name","symbol","lpToken","removeLiquidityLink","token3Pool","minterContract","token3PoolUnderlyingTokens","desc","liquidityPoolsStaticInfo","marketsData","proto_mainnet","marketTitle","iconUrl","themeColor","marketAnalyticsUrl","proto_base_goerli","ethereum","baseGoerli","ConfigChains","chain","mainnet","network","nativeCurrency","decimals","rpcUrls","default","blockExplorers","url","testnet","getSupportedChains","i","useGetChainId","useNetwork","unsupported","useGetAccount","useAccount","address","entries","data","console","error","updateBlockNumber","createAction","toggleWalletModal","toggleSettingsMenu","addPopup","removePopup","useBlockNumber","useSelector","state","application","blockNumber","useAddPopup","dispatch","useDispatch","useCallback","content","key","addTransaction","clearAllTransactions","finalizeTransaction","checkedTransaction","useTransactionAdder","account","response","summary","approval","hash","txn","loading","success","useAllTransactions","transactions","isTransactionRecent","tx","Date","getTime","addedTime","updateARTHSupply","_initStats","core","multicall","on","bal","Actions","supply","addCallsArray","push","target","tokens","call","convertResult","val","addCalls","updateBalanceOf","updateApprovalOf","initUser","setTimeout","_initUser","config","token","who","myAccount","getPendingARTHDebtReward","getPendingETHReward","hasPendingRewards","_registerVariable","fn","to","reduxAction","input","calls","collaterals","getAllTroves","forEach","collateral","tm","getTroveManager","registerTroveManagerCalls","invalidTroveCreation","invalidTrove","type","troveCreation","params","troveClosure","troveAdjustment","setToZero","valueIsDefined","entry","allowedTroveCreationKeys","decimalize","k","v","nonZero","_normalizeTroveCreation","definedEntries","filter","badKeys","join","checkAllowedTroveCreationKeys","fromEntries","missingKeys","troveCreationParamsFromEntries","allowedTroveAdjustmentKeys","troveAdjustmentParamsFromEntries","collateralChange","depositCollateral","withdrawCollateral","collateralChangeFrom","debtChange","borrowARTH","repayARTH","debtChangeFrom","_normalizeTroveAdjustment","checkAllowedTroveAdjustmentKeys","nonZeroEntries","applyFee","borrowingRate","debtIncrease","unapplyFee","_divCeil","NOMINAL_COLLATERAL_RATIO_PRECISION","Trove","debt","mulDiv","price","collateralRatio","isEmpty","netDebt","_debtChange","zero","_collateralChange","change","_emptyTrove","collateralDecrease","collateralIncrease","debtDecrease","setCollateral","addDebt","subtractDebt","setDebt","addCollateral","subtractCollateral","subtract","apply","whatChanged","ERC20","provider","decimal","contract","Contract","ABI","estimateGas","signerOrProvider","totalSupply","balanceOf","recipient","amount","transfer","owner","spender","allowance","approve","sender","transferFro","balance","formatUnits","toFixed","anonymous","inputs","indexed","internalType","constant","outputs","payable","stateMutability","Multicall","rpcUrl","watcher","addCall","_recreateWatcher","tap","_getMutlicallCalls","removeCall","index","findIndex","d","splice","c","returns","_processUpdates","update","emit","stop","multicallAddress","createWatcher","subscribe","start","EventEmitter","ret","ActivePool","ARTHRedeemer","ARTHController","ARTHShares","ARTHStablecoin","BasicStaking","EllipsisStaking","DotDotStaking","LeverageAccount","BasicStakingSpecificReward","Boardroom","ILeverageStrategy","BorrowerOperations","CollSurplusPool","LPExpsoure","CommunityIssuance","Controller","DefaultPool","LeverageAccountRegistry","EcosystemFund","ERC20Mock","Faucet","FlashLoanLeverage","FlashLoanMinter","GasPool","GMUOracle","Governance","HintHelpers","IERC20","IWETH","IWrapper","LockupContractFactory","MahaToken","WMaticExposure","MockAggregator","MockMaha","MockUniswapOracle","MultiTroveGetter","PoolToken","PriceFeed","PriceFeedTestnet","ProxyRegistry","SortedTroves","StabilityPool","IncentivePool","TroveManager","UniswapPairOracle","UniswapV2Factory","UniswapV2Pair","UniswapV2Router02","WStakingRewards","ARTHUSDWrapper","CurveSwapRouter","IStableSwap","IZapDepositor","StableSwap","MAHAKeeper","BaseGaugeV2UniV3","BaseV2Bribes","IUniswapV3Pool","IARTHETHWithdraw","IStabilityPoolW","Protocol","cfg","web3","_signer","_config","_contracts","_tokens","_provider","_activeNetwork","signer","getBlockTimestamp","now","getTotal","getActivePoolTrove","getDefaultPoolTrove","activePool","defaultPool","getActivePool","getETH","getARTHDebt","getBigNumber","activeCollateral","activeDebt","chainIdString","ethers","providers","JsonRpcProvider","networkConfig","deployment","abi","ABIS","newProvider","Web3Provider","Web3","getSigner","connect","values","tokenState","troveState","statsState","getDefaultPool","liquidatedCollateral","closedDebt","contracts","Context","createContext","ProtocolProvider","children","useState","setCore","useEffect","newCore","BasisCash","unlockWallet","Provider","useCore","useContext","mixpanel","init","Mixpanel","identify","alias","track","people","set","ApprovalState","StyledButton","button","fg","normal","bg","border","radius","boxShadow","disabled","size","hover","radiusHover","selected","StyledLink","Link","StyledExternalLink","Button","buttonSize","buttonPadding","href","onClick","variant","tracking_id","tracking_params","fileTheme","variantStyle","variantToStyle","ButtonChild","useMemo","toLowerCase","padding","margin","PageHeader","title","subTitle","showLearnMore","learnMoreLink","Header","SubtitleDiv","LearnMoreLink","CustomInfoCard","PrimaryText","claimTokens","faucet","useFaucetClaim","isWalletConnected","Grid","container","item","lg","md","sm","xs","isLoading","setValue","activeChainId","fetchValue","getEntireSystemColl","isUnlocked","catch","err","ChainsCard","useSwitchNetwork","switchNetwork","isSuccess","status","useGetProtocolCollateral","open","Card","CardUpper","background","CardImg","CardContent","img","getSortedTroves","contains","IconLoader","iconName","iconType","height","width","DefaultIcon","Icon","setIcon","image","log","Sidebar","troveIsAlreadyPresent","useOneTroveIsAlreadyOpen","SidebarDiv","SidebarContainer","TopSideBar","activeClassName","exact","StyledLinkHref","BottomSideBar","NavLink","MainPageContainer","StyledPage","StyledMain","Guild","getSize","HomePage","useLinkedListSize","PageLayout","justify","CustomDropDownContainer","CustomDropDownLi","CustomDropDownLiText","span","CustomDropDown","dropDownValues","ondropDownValueChange","NumberInputRegex","mediatoryRegex","ValidateNumber","test","checkForAfterDecimalDigits","regex","correctString","initZeroCheck","charAt","removeLeadZeros","CustomInputContainer","ILabelValue","IBalanceValue","showBalance","ILabelInfoValue","DefaultValue","LogoSymbol","hasDropDown","SymbolText","tagText","multiIcons","symbols","Istate","msg","DisableMsg","IWarningstate","warningMsg","isBalanceLoading","tokenDecimals","isLpToken","modalOpen","setModalOpen","IState","IMsg","ICStates","setICStates","ICWarningStates","setICWarningStates","checkForErrorAndWarning","Default","errorCallback","DigitsStatus","temp","onValueChange","setText","position","TotalDisable","DMsg","IConatiner","returnObj","dontShowBackgroundContainer","IConatinerStyle","ILabelContainer","ILabelLeft","ILabel","HrefLink","ILabelInfo","ToLink","ILabelRight","ILabelBalance","toLocaleString","IFieldConatiner","InputBase","inputMode","placeholder","inputProps","flex","onChange","MaxTagConatiner","IFieldRightContainer","IFieldRightContainerLogo","LLabel","s","IFieldRightContainerText","IFieldRightContainerDropDown","BackgroundAbsolute","useAllowance","pendingApproval","setAllowance","fetchAllowance","stack","setInterval","clearInterval","APPROVE_AMOUNT","constants","MaxUint256","APPROVE_BASE_AMOUNT","useApprove","tokenAddress","allTransactions","some","receipt","useHasPendingApproval","currentAllowance","approvalState","PENDING","NOT_APPROVED","APPROVED","UNKNOWN","getGovernance","getStabilityFee","redemptionRateWithDecay","app","analytics","useTokenDecimals","setDecimals","fetchdecimals","setData","getPriceFeed","callStatic","fetchPrice","calcValue","useGetNativeTokenBalance","setBalance","fetchBalance","getBalance","useTokenBalanceOf","useTokenBalance","DialogTitle","withStyles","createStyles","root","borderBottom","closeButton","right","top","palette","classes","onClose","titleLogo","modalTitleStyle","other","disableTypography","IconButton","DialogContent","minWidth","borderTop","dividers","maxHeight","MuiDialogContent","useStyles","makeStyles","halfScreen","customPaper","alignItems","Modal","handleClose","modalContainerStyle","modalBodyStyle","mobile","useTheme","modalStyles","fullScreen","useMediaQuery","breakpoints","down","React","openModal","setOpen","handleCloseModal","modalJsx","Dialog","fullWidth","onBackdropClick","paper","paperFullScreen","scrollPaper","justifyContent","SuccessModal","buttonRedirection","subTitleLink","buttonText","subsubTitle","buttonType","buttonHref","buttonTo","CloseButton","TickContainer","TickBackgroundWave","TickImg","Tick","ContentConatiner","ContentTitle","ContentSubSubtitle","ContentSubtitle","TickAnimation","keyframes","TickBackground","HtmlTooltip","tooltip","backgroundColor","Tooltip","ToolTip","toolTipText","show","Fragment","ToolTipFont","disableHoverListener","onMouseEnter","onMouseLeave","getDisplayBalance","fractionDigits","formattedBalance","decimalsPointIndex","indexOf","truncateMiddle","fullStr","strLen","separator","sepLen","charsToShow","frontChars","ceil","backChars","formatToBN","beforeDecimals","afterDecimal","beforeDecimalsPrecisionText","afterDecimalsPrecisionText","fixedPrecisionValue","parseUnits","troveDetails","convertToDate","timestamp","MAXIMUM_BORROWING_RATE","MINIMUM_REDEMPTION_RATE","Fees","baseRateWithoutDecay","minuteDecayFactor","beta","lastFeeOperation","timeOfLatestBlock","recoveryMode","_baseRateWithoutDecay","_minuteDecayFactor","_beta","_lastFeeOperation","_timeOfLatestBlock","_recoveryMode","when","millisecondsSinceLastFeeOperation","minutesSinceLastFeeOperation","baseRate","redeemedFractionOfSupply","_getFeesFactory","troveManager","lastFeeOperationTime","blockTimestamp","toNumber","getFees","createFees","total","collateralRatioIsBelowCritical","formatErrorMessage","message","generateTrials","totalNumberOfTrials","numberOfTrials","randomInteger","random","MAX_SAFE_INTEGER","findHintsForNominalCollateralRatio","nominalCollateralRatio","sortedTroves","hintHelpers","ownAddress","getTroveOwnersCount","numberOfTroves","getFirst","sqrt","firstTrials","restOfTrials","collectApproxHint","latestRandomSeed","results","getApproxHint","result","reduce","diff","hintAddress","findInsertPosition","prev","next","getPrev","getNext","findRedemptionHints","priceFeed","getRedemptionHints","firstRedemptionHint","partialRedemptionHintNICR","truncatedARTHamount","partialRedemptionUpperHint","partialRedemptionLowerHint","LoanTxState","ConfirmRedeemModal","redemptionRate","arthValue","collateralValue","redeemFee","stabilityFee","stabilityFeeRate","stabilityFeeToken","onSuccess","troveDetail","setLoading","redeemCollateral","arthAmount","callback","errorHandler","getHintHelper","fees","truncatedAmount","partialHints","defaultRedemptionRateSlippageTolerance","maxRedemptionRateOrDefault","Sentry","REDEEM_MAX_ITERATIONS","toUpperCase","wait","useRedeemCollateral","maximumFractionDigits","minimumFractionDigits","action","LeftTopCard","RedeemTabContent","setArthValue","setCollateralValue","openConfirmationModal","setOpenConfirmationModal","isInputFieldError","setIsInputFieldError","successCollectModal","setSuccessCollectModal","mahaPrice","customState","setCustomState","fetchCashPrice","controller","consult","useMAHAPrice","arthBalance","collateralGMUPrice","useCollateralPriceFeed","useGetStabilityFeeAndToken","collateralBalance","useGetRedemptionFeeRateWithDecay","redemptionFee","mahaApprovalStatus","approveMAHA","isMAHAApproved","isMAHAApproving","scrollTo","onCollateralValueChange","check","String","valueInNumber","bnCollateralAmount","totalCollateralValue","onARTHValueChange","bnArthValue","finalCollateralValue","flag","borrowingRateWithDecay","entireSystemColl","priceFeedContract","checkRecoveryMode","getTCR","useARTHCirculatingSupply","setPrice","stats","percent","arthCirculatingSupply","arthInStabilityPool","getStabilityPool","getTotalARTHDeposits","useGetARTHInStabilityPool","DataField","label","labelToolTip","valueTag","isValueLoading","labelFontSize","labelFontColor","labelFontWeight","valueFontSize","valueFontColor","valueFontWeight","LoanInfo","useTotalSupply","tvl","gmuValue","entireSystemCollateral","useGetEntireSystemCollateral","useGetCollateralWithGMUValue","isRecoveryMode","useGetIsRecoveryMode","vaultLinkedListSize","stabiltyFee","entireSystemDebt","useGetEntireSystemDebt","totalCollteralRatio","useGetTotalCollateralRatio","isFrontEndRegistered","isRegistered","getBorrowerOperations","frontEnds","useGetIsFrontendRegistered","borrowingFeeRate","useGetBorrowingFeeRateWithDecay","redemptionFeeRate","amountOfARTHInStabilityPool","useGetARTHInStabilityPoolWithPercent","arthUSDValue","recoveryModelPriceThreshold","Numeral","format","Redeem","useParams","setTrove","RedeemDesc","location","getDepositorETHGain","getDepositorMAHAGain","InfoTip","CustomBadgeAlert","Text","Deposit","setARTHValue","ethGain","useETHGain","mahaGain","useGetMAHARewards","stake","provideToSP","useStake","t","LOADING_DEFAULT_BASIC_STATE","GlobalData","remainingETH","useGetRemainingETHGain","arthTvl","useGetTvlInARTH","mahaAprTvl","setMahaAprTvl","fetchAPY","fetch","res","json","displayApr","apr","current","StakeArthModal","depositedStake","unClaimedReward","withdrawing","setWithdrawing","withdraw","onError","withdrawFromSP","useWithdraw","reload","UsersData","poolShare","getCompoundedARTHDeposit","currentDeposit","useGetPoolShare","useGetDepositedAmount","openConfirmWithdrawModal","setOpenConfirmWithdrawModal","WithdrawARTHModal","isTroveValid","SPDesc","getDisplaycrParameters","ratio","borrowingFee","debtAmount","collateralAmount","openTrove","gasLimit","OrangeCheckBox","checked","Checkbox","StepConfirmationModal","selectedCollateralCoin","selectedContractPrefix","totalDebt","NOT_COMPLETED","loanTxState","setLoanTxState","collatApproveStatus","approveCollateral","isCollatApproved","isCollatApproving","useOpenTrove","handleButtonCallback","COMPLETED","handler","clearTimeout","CheckboxDiv","FormControlLabel","control","icon","StepNo","checkedIcon","labelPlacement","ConfirmLoanModal","entryPrice","liquidationPrice","leverage","openStepConfirmModal","setOpenStepConfirmModal","openSuccessModal","setOpenSuccessModal","calculateBorrowingFee","AddLoanSection","setdebtAmount","isCollateralRatioBelowMin","crData","isDebtBelowMinNetDebt","bn","collateralAmountBN","liquidationCR","onDebtAmounChange","swapAmount","rel","claimCollateral","useClaimCollateral","getCollSurplusPool","getCollateral","useUnclaimedCollateral","AddLoan","UnclaimedCollateral","fetchForCollaterals","pageNo","finalTroves","pageIndex","troveContract","multiTroveGetterContract","getMultiTroveGetter","getMultipleSortedTroves","troves","collateralPriceFeedContract","collateralPrice","tcr","spContract","arthInSp","coll","pendingETHReward","pendingARTHDebtReward","cr","deposit","isLiquidateable","SortedDescendingIcon","SortedAscendingIcon","cursor","gridStyle","AllLoansTable","setDoRefresh","doRefresh","selectedTrove","setPageNo","noOfSize","useGetStaticLinkedListSize","collateralTroveMapping","useGetAllTroves","liquidateTrove","borrower","liquidate","useLiquidateTrove","depositTokenDecimals","columns","field","headerName","sortable","renderCell","row","renderHeader","sortingOrder","cellClassName","clsx","negative","positive","zIndex","getRowId","rows","pagination","pageSize","rowCount","paginationMode","disableMultipleSelection","onRowClick","newSelection","rowHeight","onPageChange","newPage","page","autoHeight","disableColumnMenu","components","LoadingOverlay","NoRowsOverlay","ColumnSortedDescendingIcon","ColumnSortedAscendingIcon","disableColumnSelector","disableSelectionOnClick","AllLoans","maxWidth","coingeckoTokenMapping","WBNB","BUSD","ARTH","MAHA","WETH","ETH","WMATIC","DAI","BNB","MATIC","useGetUSDValue","setState","usd","usdValue","SummaryBox","subtitle","systemDebt","getEntireSystemDebt","useGetProtocolDebt","chainTokenUSD","arth","Loan","ButtonContainer","rotate","plus","MainDiv","ElementConatiner","LoadingIndicator","ArthLogo","LoadingPage","arthLogo","defaultTrove","troveColl","troveDebt","arrayIndex","ownerAddress","Troves","pendingColl","pendingDebt","frontEndTag","history","back","TextButton","trackMixpanel","ConfirmCloseLoanModal","getTrove","getController","arthApprovalStatus","approveARTH","closeTrove","useCloseTrove","isARTHApproved","isARTHApproving","balanceNeededAmount","amountNeededMore","OpenedLaon","onModifyLoan","closeLoanSuccessModal","setCloseLoanSuccessModal","useGetTrove","debtAmountBN","collateralValueBN","vaue","LaonInfoLine","LoanDetails","desposit","weth","useDepositWETH","onCancel","OneLine","BeforeChip","TagChips","ConfirmAddCollateral","addedValue","troveCollateral","newCR","addColl","addCollAmount","useAddColl","ConfirmRemoveCollateral","withdrawColl","withdrawCollAmount","useWithdrawColl","CollateralModifyLoan","depositModal","setdepositModal","addCollateralValue","setAddCollateralValue","withdrawCollateralValue","setWithdrawCollateralValue","openAddConfirmationModal","setOpenAddConfirmationModal","isWithdrawInputFieldError","openRemoveConfirmationModal","setOpenRemoveConfirmationModal","modifiedCollatreal","addCollateralBN","removeCollateralBN","isModifiedCollateralRatioBelowMin","avail_to_withdraw","expectedCollateral","isAmountMoreThanMaxWithdrawal","onAddCollateralChange","onWithdrawCollateralChange","DepositModal","onDeposit","ConfirmGenerateARTH","currentDebt","addedDebt","withdrawARTH","feeRate","withdrawARTHAmount","useWithdrawARTH","ConfirmPaybackARTH","removedDebt","paybackARTHAmount","useRepayARTH","DebtModifyLoan","currentSymbol","paybackDebtAmount","setPaybackDebtAmount","generateDebtAmount","setGenerateDebtAmount","isPaybackFieldError","setIsPaybackFieldError","openPaybackConfirmationModal","setOpenPaybackConfirmationModal","openGenerateConfirmationModal","setOpenGenerateConfirmationModal","borrowRate","modifiedCollatrealRatio","generateDebtBN","paybackDebtBN","bnDebt","isModifiedDebtBelowMinDebt","maxPaybackAmount","maxARTHGenerate","onGenerateValueChange","onPaybackValueChange","ModifyLoan","setType","LeftTopCardHeader","TabContainer","ActiveTab","TabText","LoanDesc","PriceDesc","ProgressBar","barColor","BorderLinearProgress","colorPrimary","bar","LinearProgress","UpdateOraclePrice","dateToCheckAgainst","time","getUpdateOracleContract","nextUpkeepTime","useGetNextUpdateTime","updateAction","performUpkeep","useUpdatePrice","percPassed","moment","addDayInDate","date","noOfDays","data1","setData1","data2","setData2","headers","protocolPrice","ethPrice","ConvertDateTimeToDate","Obj","numberDate","toDateString","fillInBetweenDataPoints","newArray","currentIndexData","prevIndexData","end","dateDiff","Array","addingDate","ProcessedData","data1Obj","data2Obj","ProcessedData1","ProcessedData2","TillDateGMUPrice","lastDate","lastValue","today","AddTillDateDays","reverse","CommonData","data1Keys","data2Keys","filteredArray","GetKeysWhichAreCommon","reversed","options","chart","pointFormat","valueDecimals","shared","xAxis","labels","formatter","Highcharts","dateFormat","yAxis","gridLineColor","opposite","plotOptions","line","marker","enabled","credits","series","showInLegend","fillColor","linearGradient","stops","getOptions","colors","setOpacity","get","legend","itemStyle","itemHoverStyle","highcharts","thirtyDayMA","sevenDayMA","ConvertToNumberArray","Price","GMUvsETHGraph","TWAPGraph","Navigation","path","Page","ModalText","Disclaimer","toggleModal","localStorage","getItem","setItem","AnchorTag","SnackBarInnerContainer","SnackBarBody","SnackBarParent","CustomizedSnackbars","handleCancel","openSnackbar","isScucess","reason","Snackbar","autoHideDuration","TransitionComponent","Slide","direction","anchorOrigin","vertical","horizontal","SnackHeader","SnackBody","Popups","activePopups","list","popupList","useActivePopups","TransactionSnackbar","notificationCount","WrongNetworkModal","getAvailableChains","switchMetamaskChain","request","method","utils","hexStripZeros","chainName","iconUrls","blockExplorerUrls","addNetworkToMetamask","ConfirmationModal","modalTitle","yesText","yesAction","noText","noAction","TransactionWrapper","IconWrapper","pending","primary1","green1","red1","StateWrapper","InfoSection","Title","SingleTransaction","confirmedTime","ModalHeader","RightSubHeader","ClearAll","CrossIcon","ModalBody","NoTransaction","CallToAction","StyledTransactionList","newTransactionsFirst","TxModal","onDismiss","useClearAllTransactions","sortedRecentTransactions","sort","DesktopTransactionInfo","StyledNav","nav","TopMenu","BottomMenu","MobileNav","visible","showTxModal","setShowTxModal","showWrongNeworkModal","setShowWrongNeworkModal","MobileTransactionInfo","openMenu","opacity","PositionDiv","WalletDiv","TopBarContainer","HideonPhone","HideOnBigScreen","StyledTopBar","StyledTopBarInner","TopBar","showMobileMenu","toggleMobileMenu","updateActiveNetwork","updateGMUPrice","getBorrowingRateWithDecay","getRedemptionRateWithDecay","getBorrowingRate","getRedemptionRate","createReducer","gmuPrice","builder","addCase","payload","walletModalOpen","settingsMenuOpen","removeAfterMs","popup","concat","nanoid","updateSlippage","initialState","approvals","txs","lastCheckedBlockNumber","PERSISTED_KEYS","store","configureStore","reducer","slippage","middleware","getDefaultMiddleware","serializableCheck","thunk","save","states","preloadedState","load","VISIBILITY_STATE_SUPPORTED","isWindowVisible","visibilityState","getDefaultProvider","_window","currentProvider","Updater","windowVisible","focused","setFocused","listener","removeEventListener","useIsWindowVisible","blockNumberCallback","getBlockNumber","removeListener","debouncedState","delay","debouncedValue","setDebouncedValue","useDebounce","lastBlockNumber","blocksSinceCheck","minutesPending","shouldCheck","getTransactionReceipt","blockHash","contractAddress","transactionHash","transactionIndex","Updaters","myCustomTheme","blurs","darkTheme","accentColor","fonts","body","radii","actionButton","connectButton","menuButton","modal","modalMobile","shadows","Providers","RainbowProvider","configureChains","alchemyProvider","apiKey","publicProvider","chains","connectors","getDefaultWallets","appName","wagmiClient","createClient","autoConnect","client","showRecentTransactions","AppContent","analyticsState","maxSnack","App","Boolean","hostname","ReactDOM","render","StrictMode","dsn","integrations","BrowserTracing","tracesSampleRate","navigator","serviceWorker","ready","registration","unregister"],"mappings":"sHAAA,OAAe,cAA0B,mC,mCCAzC,OAAe,cAA0B,gC,mmsUCAzC,IAAIA,EAAM,CACT,wBAAyB,CACxB,IACA,GAED,4BAA6B,CAC5B,IACA,GAED,wBAAyB,CACxB,IACA,GAED,wBAAyB,CACxB,IACA,GAED,+BAAgC,CAC/B,IACA,IAED,yBAA0B,CACzB,IACA,IAED,4BAA6B,CAC5B,IACA,IAED,4BAA6B,CAC5B,IACA,IAED,6BAA8B,CAC7B,IACA,IAED,0BAA2B,CAC1B,IACA,IAED,sBAAuB,CACtB,IACA,IAED,yBAA0B,CACzB,IACA,IAED,yBAA0B,CACzB,IACA,IAED,mBAAoB,CACnB,IACA,IAED,mBAAoB,CACnB,IACA,IAED,wBAAyB,CACxB,IACA,IAED,sBAAuB,CACtB,KACA,IAED,uBAAwB,CACvB,KACA,IAED,yBAA0B,CACzB,KACA,IAED,uBAAwB,CACvB,KACA,IAED,4BAA6B,CAC5B,KACA,IAED,iCAAkC,CACjC,KACA,IAED,uCAAwC,CACvC,KACA,IAED,uCAAwC,CACvC,KACA,IAED,kCAAmC,CAClC,KACA,IAED,+BAAgC,CAC/B,KACA,IAED,8BAA+B,CAC9B,KACA,IAED,gCAAiC,CAChC,KACA,IAED,kCAAmC,CAClC,KACA,IAED,kCAAmC,CAClC,KACA,IAED,qCAAsC,CACrC,KACA,IAED,uCAAwC,CACvC,KACA,IAED,iCAAkC,CACjC,KACA,IAED,mCAAoC,CACnC,KACA,IAED,mCAAoC,CACnC,KACA,IAED,iCAAkC,CACjC,KACA,IAED,sCAAuC,CACtC,KACA,IAED,6BAA8B,CAC7B,KACA,IAED,sBAAuB,CACtB,KACA,IAED,qBAAsB,CACrB,KACA,IAED,wBAAyB,CACxB,KACA,IAED,iBAAkB,CACjB,KACA,IAED,uBAAwB,CACvB,KACA,IAED,sBAAuB,CACtB,KACA,IAED,oBAAqB,CACpB,KACA,IAED,kBAAmB,CAClB,KACA,IAED,mBAAoB,CACnB,KACA,IAED,qBAAsB,CACrB,KAED,oBAAqB,CACpB,KACA,IAED,yBAA0B,CACzB,KACA,IAED,yBAA0B,CACzB,KACA,IAED,kBAAmB,CAClB,KACA,IAED,oBAAqB,CACpB,KACA,IAED,sBAAuB,CACtB,KACA,IAED,kBAAmB,CAClB,KACA,IAED,yBAA0B,CACzB,KACA,IAED,oBAAqB,CACpB,KACA,IAED,qBAAsB,CACrB,KACA,IAED,yBAA0B,CACzB,KACA,IAED,4BAA6B,CAC5B,KACA,IAED,6BAA8B,CAC7B,KACA,IAED,0BAA2B,CAC1B,KACA,IAED,2BAA4B,CAC3B,KACA,IAED,8BAA+B,CAC9B,KACA,IAED,2BAA4B,CAC3B,KACA,IAED,2BAA4B,CAC3B,KACA,IAED,6BAA8B,CAC7B,KACA,IAED,4BAA6B,CAC5B,KACA,IAED,qBAAsB,CACrB,KACA,IAED,uBAAwB,CACvB,KACA,IAED,4BAA6B,CAC5B,KACA,IAED,8BAA+B,CAC9B,KACA,IAED,8BAA+B,CAC9B,KACA,IAED,uBAAwB,CACvB,KACA,IAED,uBAAwB,CACvB,KACA,IAED,yBAA0B,CACzB,KACA,IAED,2BAA4B,CAC3B,KACA,IAED,yBAA0B,CACzB,KACA,IAED,+BAAgC,CAC/B,KACA,IAED,yBAA0B,CACzB,KAED,6BAA8B,CAC7B,KACA,IAED,0BAA2B,CAC1B,KACA,IAED,8BAA+B,CAC9B,KACA,IAED,6BAA8B,CAC7B,KACA,IAED,wBAAyB,CACxB,KACA,IAED,2BAA4B,CAC3B,KACA,IAED,yBAA0B,CACzB,KACA,IAED,sCAAuC,CACtC,KACA,IAED,oCAAqC,CACpC,KACA,IAED,sCAAuC,CACtC,KACA,IAED,oCAAqC,CACpC,KACA,IAED,wBAAyB,CACxB,KACA,IAED,2BAA4B,CAC3B,KACA,IAED,+BAAgC,CAC/B,KACA,IAED,wBAAyB,CACxB,KACA,IAED,kCAAmC,CAClC,KACA,IAED,gCAAiC,CAChC,KACA,KAED,yBAA0B,CACzB,KACA,KAED,wBAAyB,CACxB,KACA,KAED,yBAA0B,CACzB,KACA,KAED,wBAAyB,CACxB,KACA,KAED,yBAA0B,CACzB,KACA,KAE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","file":"static/js/main.2f59a2f4.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/Default.f7982fa6.svg\";","export default __webpack_public_path__ + \"static/media/ARTH.d09235e0.svg\";","var map = {\n\t\"./arrow/ArrowDown.svg\": [\n\t\t985,\n\t\t6\n\t],\n\t\"./arrow/ArrowFilledUp.svg\": [\n\t\t986,\n\t\t7\n\t],\n\t\"./arrow/ArrowLeft.svg\": [\n\t\t987,\n\t\t8\n\t],\n\t\"./arrow/ArrowLink.svg\": [\n\t\t988,\n\t\t9\n\t],\n\t\"./arrow/ArrowLinkColored.svg\": [\n\t\t989,\n\t\t10\n\t],\n\t\"./arrow/ArrowRight.svg\": [\n\t\t990,\n\t\t11\n\t],\n\t\"./arrow/ArrowTailDown.svg\": [\n\t\t991,\n\t\t12\n\t],\n\t\"./arrow/ArrowTailLeft.svg\": [\n\t\t992,\n\t\t13\n\t],\n\t\"./arrow/ArrowTailRight.svg\": [\n\t\t993,\n\t\t14\n\t],\n\t\"./arrow/ArrowTailUp.svg\": [\n\t\t994,\n\t\t15\n\t],\n\t\"./arrow/ArrowUp.svg\": [\n\t\t995,\n\t\t16\n\t],\n\t\"./brandLogo/ARTHlg.svg\": [\n\t\t996,\n\t\t17\n\t],\n\t\"./brandLogo/Mahalg.svg\": [\n\t\t997,\n\t\t18\n\t],\n\t\"./chains/BSC.svg\": [\n\t\t998,\n\t\t19\n\t],\n\t\"./chains/ETH.svg\": [\n\t\t999,\n\t\t20\n\t],\n\t\"./chains/Ethereum.svg\": [\n\t\t1000,\n\t\t21\n\t],\n\t\"./chains/Goerli.svg\": [\n\t\t1001,\n\t\t22\n\t],\n\t\"./chains/Polygon.svg\": [\n\t\t1002,\n\t\t23\n\t],\n\t\"./checkbox/Checked.svg\": [\n\t\t1003,\n\t\t24\n\t],\n\t\"./checkbox/Empty.svg\": [\n\t\t1004,\n\t\t25\n\t],\n\t\"./checkbox/GreenCheck.svg\": [\n\t\t1005,\n\t\t26\n\t],\n\t\"./exchangePlatform/ApeSwap.svg\": [\n\t\t1006,\n\t\t27\n\t],\n\t\"./exchangePlatform/CosmicFinance.svg\": [\n\t\t1007,\n\t\t28\n\t],\n\t\"./exchangePlatform/CreameFinance.svg\": [\n\t\t1008,\n\t\t29\n\t],\n\t\"./exchangePlatform/Cryption.svg\": [\n\t\t1009,\n\t\t30\n\t],\n\t\"./exchangePlatform/Curve.svg\": [\n\t\t1010,\n\t\t31\n\t],\n\t\"./exchangePlatform/Dfyn.svg\": [\n\t\t1011,\n\t\t32\n\t],\n\t\"./exchangePlatform/DotDot.svg\": [\n\t\t1012,\n\t\t33\n\t],\n\t\"./exchangePlatform/Ellipsis.svg\": [\n\t\t1013,\n\t\t34\n\t],\n\t\"./exchangePlatform/Firebird.svg\": [\n\t\t1014,\n\t\t35\n\t],\n\t\"./exchangePlatform/PancakeSwap.svg\": [\n\t\t1015,\n\t\t36\n\t],\n\t\"./exchangePlatform/PickleFinance.svg\": [\n\t\t1016,\n\t\t37\n\t],\n\t\"./exchangePlatform/Polydex.svg\": [\n\t\t1017,\n\t\t38\n\t],\n\t\"./exchangePlatform/QuickSwap.svg\": [\n\t\t1018,\n\t\t39\n\t],\n\t\"./exchangePlatform/Sushiswap.svg\": [\n\t\t1019,\n\t\t40\n\t],\n\t\"./exchangePlatform/Uniswap.svg\": [\n\t\t1020,\n\t\t41\n\t],\n\t\"./exchangePlatform/YearnFinance.svg\": [\n\t\t1021,\n\t\t42\n\t],\n\t\"./exchangePlatform/Yfi.svg\": [\n\t\t1022,\n\t\t43\n\t],\n\t\"./infoTip/Error.svg\": [\n\t\t1023,\n\t\t44\n\t],\n\t\"./infoTip/Info.svg\": [\n\t\t1024,\n\t\t45\n\t],\n\t\"./infoTip/Warning.svg\": [\n\t\t1025,\n\t\t46\n\t],\n\t\"./misc/Add.svg\": [\n\t\t1026,\n\t\t47\n\t],\n\t\"./misc/BentoMenu.svg\": [\n\t\t1027,\n\t\t48\n\t],\n\t\"./misc/Calendar.svg\": [\n\t\t1028,\n\t\t49\n\t],\n\t\"./misc/Copied.svg\": [\n\t\t1029,\n\t\t50\n\t],\n\t\"./misc/Copy.svg\": [\n\t\t1030,\n\t\t51\n\t],\n\t\"./misc/Cross.svg\": [\n\t\t1031,\n\t\t52\n\t],\n\t\"./misc/Default.svg\": [\n\t\t268\n\t],\n\t\"./misc/Delete.svg\": [\n\t\t1032,\n\t\t53\n\t],\n\t\"./misc/DeleteFaded.svg\": [\n\t\t1033,\n\t\t54\n\t],\n\t\"./misc/InfoToolTip.svg\": [\n\t\t1034,\n\t\t55\n\t],\n\t\"./misc/Menu.svg\": [\n\t\t1035,\n\t\t56\n\t],\n\t\"./misc/Search.svg\": [\n\t\t1036,\n\t\t57\n\t],\n\t\"./misc/Settings.svg\": [\n\t\t1037,\n\t\t58\n\t],\n\t\"./misc/Sync.svg\": [\n\t\t1038,\n\t\t59\n\t],\n\t\"./misc/Transaction.svg\": [\n\t\t1039,\n\t\t60\n\t],\n\t\"./misc/Wallet.svg\": [\n\t\t1040,\n\t\t61\n\t],\n\t\"./products/Gov.svg\": [\n\t\t1041,\n\t\t62\n\t],\n\t\"./products/Starter.svg\": [\n\t\t1042,\n\t\t63\n\t],\n\t\"./socialMedia/Discord.svg\": [\n\t\t1043,\n\t\t64\n\t],\n\t\"./socialMedia/Facebook.svg\": [\n\t\t1044,\n\t\t65\n\t],\n\t\"./socialMedia/Forum.svg\": [\n\t\t1045,\n\t\t66\n\t],\n\t\"./socialMedia/Github.svg\": [\n\t\t1046,\n\t\t67\n\t],\n\t\"./socialMedia/Instagram.svg\": [\n\t\t1047,\n\t\t68\n\t],\n\t\"./socialMedia/Medium.svg\": [\n\t\t1048,\n\t\t69\n\t],\n\t\"./socialMedia/Reddit.svg\": [\n\t\t1049,\n\t\t70\n\t],\n\t\"./socialMedia/Telegram.svg\": [\n\t\t1050,\n\t\t71\n\t],\n\t\"./socialMedia/Twitter.svg\": [\n\t\t1051,\n\t\t72\n\t],\n\t\"./status/Alert.svg\": [\n\t\t1052,\n\t\t73\n\t],\n\t\"./status/Caution.svg\": [\n\t\t1053,\n\t\t74\n\t],\n\t\"./status/ColoredAlert.svg\": [\n\t\t1054,\n\t\t75\n\t],\n\t\"./status/ColoredPending.svg\": [\n\t\t1055,\n\t\t76\n\t],\n\t\"./status/ColoredSuccess.svg\": [\n\t\t1056,\n\t\t77\n\t],\n\t\"./status/Pending.svg\": [\n\t\t1057,\n\t\t78\n\t],\n\t\"./status/Success.svg\": [\n\t\t1058,\n\t\t79\n\t],\n\t\"./tokenSymbol/3CRV.svg\": [\n\t\t1059,\n\t\t80\n\t],\n\t\"./tokenSymbol/3EPS-S.svg\": [\n\t\t1060,\n\t\t81\n\t],\n\t\"./tokenSymbol/3EPS.svg\": [\n\t\t1061,\n\t\t82\n\t],\n\t\"./tokenSymbol/ARTH-ETHLP.svg\": [\n\t\t1062,\n\t\t83\n\t],\n\t\"./tokenSymbol/ARTH.svg\": [\n\t\t329\n\t],\n\t\"./tokenSymbol/ARTH.usd.svg\": [\n\t\t1063,\n\t\t84\n\t],\n\t\"./tokenSymbol/ARTHX.svg\": [\n\t\t1064,\n\t\t85\n\t],\n\t\"./tokenSymbol/ARTHu3CRV.svg\": [\n\t\t1065,\n\t\t86\n\t],\n\t\"./tokenSymbol/ARTHu3PS.svg\": [\n\t\t1066,\n\t\t87\n\t],\n\t\"./tokenSymbol/BNB.svg\": [\n\t\t1067,\n\t\t88\n\t],\n\t\"./tokenSymbol/BUSD-A.svg\": [\n\t\t1068,\n\t\t89\n\t],\n\t\"./tokenSymbol/BUSD.svg\": [\n\t\t1069,\n\t\t90\n\t],\n\t\"./tokenSymbol/BUSDUSDC-APE-LP-S.svg\": [\n\t\t1070,\n\t\t91\n\t],\n\t\"./tokenSymbol/BUSDUSDC-APE-LP.svg\": [\n\t\t1071,\n\t\t92\n\t],\n\t\"./tokenSymbol/BUSDUSDT-APE-LP-S.svg\": [\n\t\t1072,\n\t\t93\n\t],\n\t\"./tokenSymbol/BUSDUSDT-APE-LP.svg\": [\n\t\t1073,\n\t\t94\n\t],\n\t\"./tokenSymbol/CNT.svg\": [\n\t\t1074,\n\t\t95\n\t],\n\t\"./tokenSymbol/COSMIC.svg\": [\n\t\t1075,\n\t\t96\n\t],\n\t\"./tokenSymbol/DAI-BUSDLP.svg\": [\n\t\t1076,\n\t\t97\n\t],\n\t\"./tokenSymbol/DAI.svg\": [\n\t\t1077,\n\t\t98\n\t],\n\t\"./tokenSymbol/DAIUSDC-ALP-S.svg\": [\n\t\t1078,\n\t\t99\n\t],\n\t\"./tokenSymbol/DAIUSDC-ALP.svg\": [\n\t\t1079,\n\t\t100\n\t],\n\t\"./tokenSymbol/DFYN.svg\": [\n\t\t1080,\n\t\t101\n\t],\n\t\"./tokenSymbol/ETH.svg\": [\n\t\t1081,\n\t\t102\n\t],\n\t\"./tokenSymbol/FRAX.svg\": [\n\t\t1082,\n\t\t103\n\t],\n\t\"./tokenSymbol/FXS.svg\": [\n\t\t1083,\n\t\t104\n\t],\n\t\"./tokenSymbol/HOPE.svg\": [\n\t\t1084,\n\t\t105\n\t],\n\t\"./tokenSymbol/MAHA-DAI-QLP-S.svg\": [\n\t\t1085,\n\t\t106\n\t],\n\t\"./tokenSymbol/MAHA-DAI-QLP.svg\": [\n\t\t1086,\n\t\t107\n\t],\n\t\"./tokenSymbol/MAHA.svg\": [\n\t\t1087,\n\t\t108\n\t],\n\t\"./tokenSymbol/MAHAX.svg\": [\n\t\t1088,\n\t\t109\n\t],\n\t\"./tokenSymbol/MATIC.svg\": [\n\t\t1089,\n\t\t110\n\t],\n\t\"./tokenSymbol/POLYGON.svg\": [\n\t\t1090,\n\t\t111\n\t],\n\t\"./tokenSymbol/USDC.svg\": [\n\t\t1091,\n\t\t112\n\t],\n\t\"./tokenSymbol/USDCUSDT-QLP-S.svg\": [\n\t\t1092,\n\t\t113\n\t],\n\t\"./tokenSymbol/USDCUSDT-QLP.svg\": [\n\t\t1093,\n\t\t114\n\t],\n\t\"./tokenSymbol/USDT.svg\": [\n\t\t1094,\n\t\t115\n\t],\n\t\"./tokenSymbol/USDTUSDC-ALP-S.svg\": [\n\t\t1095,\n\t\t116\n\t],\n\t\"./tokenSymbol/USDTUSDC-ALP.svg\": [\n\t\t1096,\n\t\t117\n\t],\n\t\"./tokenSymbol/WBNB.svg\": [\n\t\t1097,\n\t\t118\n\t],\n\t\"./tokenSymbol/WBTC.svg\": [\n\t\t1098,\n\t\t119\n\t],\n\t\"./tokenSymbol/WETH.svg\": [\n\t\t1099,\n\t\t120\n\t],\n\t\"./tokenSymbol/WMATIC.svg\": [\n\t\t1100,\n\t\t121\n\t],\n\t\"./tokenSymbol/oldARTH.svg\": [\n\t\t1101,\n\t\t122\n\t],\n\t\"./tokenSymbol/superMAHA.svg\": [\n\t\t1102,\n\t\t123\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn Promise.all(ids.slice(1).map(__webpack_require__.e)).then(function() {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 962;\nmodule.exports = webpackAsyncContext;","window.addEventListener(\n  'load',\n  function (event) {\n    var showWarning = document.getElementById('showWarning');\n    var header = document.getElementById('WarningMsg');\n    var sidebar = document.getElementById('sidebar_container');\n    var main_page = document.getElementById('main_page');\n    let showWarningBool = false;\n    if (showWarning) {\n      showWarningBool = showWarning.innerHTML === 'true';\n    }\n\n    const DontShow = () => {\n      if (header) {\n        header.style.display = 'none';\n      }\n      if (sidebar) {\n        sidebar.style.marginTop = 'calc(112px)';\n        sidebar.style.minHeight = 'calc(100vh - 144px)';\n      }\n      if (main_page) {\n        main_page.style.minHeight = 'calc(100vh - 112px)';\n        main_page.style.paddingTop = 'calc(112px)';\n      }\n    };\n\n    const Show = () => {\n      if (header) {\n        header.style.display = 'block';\n      }\n      if (sidebar) {\n        sidebar.style.marginTop = 'calc(112px + 41px)';\n        sidebar.style.minHeight = 'calc(100vh - 144px - 41px)';\n      }\n      if (main_page) {\n        main_page.style.minHeight = 'calc(100vh - 112px - 41px)';\n        main_page.style.paddingTop = 'calc(112px + 41px)';\n      }\n    };\n\n    if (showWarningBool) {\n      window.addEventListener(\n        'scroll',\n        function (event) {\n          var top = this.scrollY;\n          if (top > 180) {\n            DontShow();\n          } else {\n            // Show();\n          }\n        },\n        false,\n      );\n    } else {\n      // DontShow();\n    }\n  },\n  false,\n);\n","export default __webpack_public_path__ + \"static/media/ComingSoon.08768d1b.svg\";","export const dark = {\n  500: '#151414',\n  400: '#1F1E1E',\n  300: '#2A2827',\n  200: '#363130',\n  100: '#423B38',\n};\n\nexport const light = {\n  500: '#D9D5D3',\n  400: '#E2DFDF',\n  300: '#EBEAEA',\n  200: '#F5F5F5',\n  100: '#FAFAFA',\n};\n\nexport const primary = {\n  500: '#D74D26',\n  400: '#F7653B',\n  300: '#FF7F57',\n  200: '#FFA981',\n  100: '#FEE2D5',\n};\n\nexport const red = {\n  500: '#BA1E38',\n  400: '#EF3050',\n  300: '#FA4C69',\n  200: '#FF9EAE',\n  100: '#FFDCE2',\n};\n\nexport const green = {\n  500: '#178A50',\n  400: '#11AF60',\n  300: '#20C974',\n  200: '#88E0B4',\n  100: '#C4F7DD',\n};\n\nexport const yellow = {\n  500: '#B87503',\n  400: '#F09700',\n  300: '#FCB400',\n  200: '#FFD66E',\n  100: '#FFEAB6',\n};\n\nexport const purple = {\n  500: '#5427AE',\n  400: '#682AE5',\n  300: '#7A3CF6',\n  200: '#BD9CFF',\n  100: '#DFCFFF',\n};\n\nexport const transparent = {\n  500: '#FFFFFF08',\n  400: '#FFFFFF16',\n  300: '#FFFFFF32',\n  200: '#FFFFFF64',\n  100: '#FFFFFF88',\n};\n\nexport const transparentog = 'transparent';\n\nexport const pink = {\n  200: '#F47F57',\n  300: '#FF7F57',\n  400: '#FD5656',\n};\n\nexport const grey = {\n  100: '#f5f5f5',\n  200: '#eeeeee',\n  300: '#e0e0e0',\n  400: '#bdbdbd',\n  500: '#9e9e9e',\n  600: '#757575',\n  700: '#616161',\n  800: '#424242',\n  900: '#212121',\n};\n\nexport const gradients = {\n  brown_gradient: 'linear-gradient(180deg, #48423E 0%, #373030 100%)',\n  orange_gradient: 'linear-gradient(38.44deg, #F47F57 15.81%, #FD5656 87.57%)',\n  gray_linear: 'linear-gradient(180deg, #2A2827 0%, rgba(42, 40, 39, 0) 100%)',\n  dark_linear: 'linear-gradient(180deg, #2D2D2D 0%, #1C1C1C 100%)',\n};\n\nexport const black = '#000000';\n\nexport const white = '#FFFFFF';\n\nexport const teal = {\n  200: '#64ffda',\n};\n","import {\n  black,\n  dark,\n  gradients,\n  green,\n  grey,\n  light,\n  pink,\n  primary,\n  purple,\n  red,\n  teal,\n  transparent,\n  transparentog,\n  white,\n  yellow,\n} from './colors';\n\nconst theme = {\n  borderRadius: 12,\n  color: {\n    black,\n    grey,\n    dark,\n    pink,\n    purple,\n    primary,\n    red,\n    green,\n    secondary: {\n      main: teal[200],\n    },\n    light,\n    white,\n    teal,\n    transparent,\n    transparentog,\n    gradients,\n    yellow,\n  },\n  siteWidth: 1200,\n  spacing: {\n    1: 4,\n    2: 8,\n    3: 16,\n    4: 24,\n    5: 32,\n    6: 48,\n    7: 64,\n  },\n  topBarSize: 72,\n};\n\nexport default theme;\n","import React from 'react';\nimport styled from 'styled-components';\n\nexport interface TextWrapperProps {\n  fontFamily?: 'Inter' | 'Syne';\n  fontStyle?: string;\n  fontWeight?: 'bold' | 300 | 600;\n  fontSize?: 32 | 24 | 18 | 16 | 14 | 12;\n  FletterSpacing?: string;\n  Fcolor?: string;\n  text: string | JSX.Element;\n  align?: 'left' | 'center' | 'right';\n  className?: string;\n}\n\nconst TextWrapper = (props: TextWrapperProps) => {\n  const {\n    fontFamily = 'Inter',\n    fontStyle = 'normal',\n    fontWeight = 300,\n    fontSize = 14,\n    FletterSpacing = 'normal',\n    Fcolor = '#FFFFFF',\n    text = '',\n    className = '',\n    align = 'left',\n  } = props;\n\n  if (typeof text === 'string') {\n    return (\n      <StyledText\n        fontFamily={fontFamily}\n        fontSize={fontSize}\n        fontWeight={fontWeight}\n        fontStyle={fontStyle}\n        letterSpacing={FletterSpacing}\n        fcolor={Fcolor}\n        style={{ color: Fcolor }}\n        className={className}\n        align={align}\n      >\n        {text}\n      </StyledText>\n    );\n  } else {\n    return (\n      <StyledDiv\n        fontFamily={fontFamily}\n        fontSize={fontSize}\n        fontWeight={fontWeight}\n        fontStyle={fontStyle}\n        letterSpacing={FletterSpacing}\n        fcolor={Fcolor}\n        style={{ color: Fcolor }}\n        className={className}\n        align={align}\n      >\n        {text}\n      </StyledDiv>\n    );\n  }\n};\n\nexport default TextWrapper;\n\ninterface StyledTextProps {\n  fontFamily: 'Inter' | 'Syne';\n  fontStyle: string;\n  fontWeight: 'bold' | 300 | 600;\n  fontSize: 32 | 24 | 18 | 16 | 14 | 12;\n  letterSpacing: string;\n  align: 'left' | 'center' | 'right';\n  fcolor: string;\n}\n\nconst StyledText = styled.p<StyledTextProps>`\n  font-family: ${(props) => props.fontFamily};\n  font-style: ${(props) => props.fontStyle};\n  font-weight: ${(props) => props.fontWeight};\n  font-size: ${(props) => props.fontSize}px;\n  letter-spacing: ${(props) => props.letterSpacing};\n  text-align: ${(props) => props.align};\n`;\n\nconst StyledDiv = styled.div<StyledTextProps>`\n  font-family: ${(props) => props.fontFamily};\n  font-style: ${(props) => props.fontStyle};\n  font-weight: ${(props) => props.fontWeight};\n  font-size: ${(props) => props.fontSize}px;\n  letter-spacing: ${(props) => props.letterSpacing};\n  text-align: ${(props) => props.align};\n`;\n","import React from 'react';\nimport styled from 'styled-components';\n\nimport ComingSoonImg from '../../assets/images/ComingSoon.svg';\nimport theme from '../../theme';\nimport TextWrapper from '../../theme/components/TextWrapper';\n\nconst NoPageFound = () => {\n  return (\n    <MainContainer className=\"single-line-center-center mo-custom-container\">\n      <div className=\"text-center\">\n        <div className=\"single-line-center-center\">\n          <img src={ComingSoonImg} alt={'ComingSoon'} className=\"m-b-24\" />\n        </div>\n        <TextWrapper\n          text={'Oops'}\n          fontWeight={'bold'}\n          fontSize={32}\n          fontFamily={'Syne'}\n          className=\"m-b-4\"\n          align={'center'}\n        />\n        <TextWrapper\n          text={'No such page found.'}\n          fontWeight={300}\n          Fcolor={theme.color.transparent[100]}\n          align={'center'}\n        />\n      </div>\n    </MainContainer>\n  );\n};\n\nexport default NoPageFound;\n\nconst MainContainer = styled.div`\n  width: 100%;\n  height: 100%;\n`;\n","import assert from 'assert';\nimport { BigNumber } from 'ethers';\n\nexport const decimalify = (bigNumber: BigNumber): Decimal =>\n  Decimal.fromBigNumberString(bigNumber.toHexString());\n\nconst getDigits = (numDigits: number) => TEN.pow(numDigits);\n\nconst MAX_UINT_256 = '0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff';\nconst PRECISION = 18;\nconst ONE = BigNumber.from(1);\nconst TEN = BigNumber.from(10);\nconst DIGITS = getDigits(PRECISION);\n\nconst stringRepresentationFormat = /^[0-9]*(\\.[0-9]*)?(e[-+]?[0-9]+)?$/;\nconst trailingZeros = /0*$/;\nconst magnitudes = ['', 'K', 'M', 'B', 'T'];\n\nconst roundedMul = (x: BigNumber, y: BigNumber) => x.mul(y).add(Decimal.HALF.hex).div(DIGITS);\n\n/**\n * Types that can be converted into a Decimal.\n *\n * @public\n */\nexport type Decimalish = Decimal | number | string;\n\n/**\n * Fixed-point decimal bignumber with 18 digits of precision.\n *\n * @remarks\n * Used by Liquity libraries to precisely represent native currency (e.g. Ether), ARTH and LQTY\n * amounts, as well as derived metrics like collateral ratios.\n *\n * @public\n */\nexport class Decimal {\n  static readonly INFINITY = Decimal.fromBigNumberString(MAX_UINT_256);\n  static readonly ZERO = Decimal.from(0);\n  static readonly HALF = Decimal.from(0.5);\n  static readonly ONE = Decimal.from(1);\n\n  private readonly _bigNumber: BigNumber;\n\n  private constructor(bigNumber: BigNumber) {\n    if (bigNumber.isNegative()) {\n      throw new Error('negatives not supported by Decimal');\n    }\n\n    this._bigNumber = bigNumber;\n  }\n\n  /** @internal */\n  get hex(): string {\n    return this._bigNumber.toHexString();\n  }\n\n  /** @internal */\n  get bigNumber(): string {\n    return this._bigNumber.toString();\n  }\n\n  get isZero(): boolean {\n    return this._bigNumber.isZero();\n  }\n\n  get zero(): this | undefined {\n    if (this.isZero) return this;\n    return undefined;\n  }\n\n  get nonZero(): this | undefined {\n    if (!this.isZero) return this;\n    return undefined;\n  }\n\n  get infinite(): this | undefined {\n    if (this.eq(Decimal.INFINITY)) return this;\n    return undefined;\n  }\n\n  get finite(): this | undefined {\n    if (!this.eq(Decimal.INFINITY)) return this;\n    return undefined;\n  }\n\n  /** @internal */\n  get absoluteValue(): this {\n    return this;\n  }\n\n  static fromBigNumberString(bigNumberString: string): Decimal {\n    return new Decimal(BigNumber.from(bigNumberString));\n  }\n\n  static from(decimalish: Decimalish): Decimal {\n    switch (typeof decimalish) {\n      case 'object':\n        if (decimalish instanceof Decimal) {\n          return decimalish;\n        } else {\n          throw new Error('invalid Decimalish value');\n        }\n      case 'string':\n        return Decimal._fromString(decimalish);\n      case 'number':\n        return Decimal._fromString(decimalish.toString());\n      default:\n        throw new Error('invalid Decimalish value');\n    }\n  }\n\n  static min(a: Decimalish, b: Decimalish): Decimal {\n    a = Decimal.from(a);\n    b = Decimal.from(b);\n\n    return a.lt(b) ? a : b;\n  }\n\n  static max(a: Decimalish, b: Decimalish): Decimal {\n    a = Decimal.from(a);\n    b = Decimal.from(b);\n\n    return a.gt(b) ? a : b;\n  }\n\n  private static _fromString(representation: string): Decimal {\n    if (!representation || !representation.match(stringRepresentationFormat)) {\n      throw new Error(`bad decimal format: \"${representation}\"`);\n    }\n\n    if (representation.includes('e')) {\n      // eslint-disable-next-line prefer-const\n      let [coefficient, exponent] = representation.split('e');\n\n      if (exponent.startsWith('-')) {\n        return new Decimal(\n          Decimal._fromString(coefficient)._bigNumber.div(\n            TEN.pow(BigNumber.from(exponent.substr(1))),\n          ),\n        );\n      }\n\n      if (exponent.startsWith('+')) {\n        exponent = exponent.substr(1);\n      }\n\n      return new Decimal(\n        Decimal._fromString(coefficient)._bigNumber.mul(TEN.pow(BigNumber.from(exponent))),\n      );\n    }\n\n    if (!representation.includes('.')) {\n      return new Decimal(BigNumber.from(representation).mul(DIGITS));\n    }\n\n    // eslint-disable-next-line prefer-const\n    let [characteristic, mantissa] = representation.split('.');\n\n    if (mantissa.length < PRECISION) {\n      mantissa += '0'.repeat(PRECISION - mantissa.length);\n    } else {\n      mantissa = mantissa.substr(0, PRECISION);\n    }\n\n    return new Decimal(\n      BigNumber.from(characteristic || 0)\n        .mul(DIGITS)\n        .add(mantissa),\n    );\n  }\n\n  toString(precision?: number): string {\n    if (this.infinite) {\n      return '';\n    } else if (precision !== undefined) {\n      return this._toStringWithPrecision(precision);\n    } else {\n      return this._toStringWithAutomaticPrecision();\n    }\n  }\n\n  prettify(precision = 2): string {\n    const [characteristic, mantissa] = this.toString(precision).split('.');\n    const prettyCharacteristic = characteristic.replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, '$1,');\n\n    return mantissa !== undefined\n      ? prettyCharacteristic + '.' + mantissa\n      : prettyCharacteristic;\n  }\n\n  shorten(): string {\n    const characteristicLength = this.toString(0).length;\n    const magnitude = Math.min(\n      Math.floor((characteristicLength - 1) / 3),\n      magnitudes.length - 1,\n    );\n\n    const precision = Math.max(3 * (magnitude + 1) - characteristicLength, 0);\n    const normalized = this.div(new Decimal(getDigits(PRECISION + 3 * magnitude)));\n\n    return normalized.prettify(precision) + magnitudes[magnitude];\n  }\n\n  add(addend: Decimalish): Decimal {\n    return new Decimal(this._bigNumber.add(Decimal.from(addend)._bigNumber));\n  }\n\n  sub(subtrahend: Decimalish): Decimal {\n    return new Decimal(this._bigNumber.sub(Decimal.from(subtrahend)._bigNumber));\n  }\n\n  mul(multiplier: Decimalish): Decimal {\n    return new Decimal(this._bigNumber.mul(Decimal.from(multiplier)._bigNumber).div(DIGITS));\n  }\n\n  div(divider: Decimalish): Decimal {\n    divider = Decimal.from(divider);\n\n    if (divider.isZero) {\n      return Decimal.INFINITY;\n    }\n\n    return new Decimal(this._bigNumber.mul(DIGITS).div(divider._bigNumber));\n  }\n\n  /** @internal */\n  _divCeil(divider: Decimalish): Decimal {\n    divider = Decimal.from(divider);\n\n    if (divider.isZero) {\n      return Decimal.INFINITY;\n    }\n\n    return new Decimal(\n      this._bigNumber.mul(DIGITS).add(divider._bigNumber.sub(ONE)).div(divider._bigNumber),\n    );\n  }\n\n  mulDiv(multiplier: Decimalish, divider: Decimalish): Decimal {\n    multiplier = Decimal.from(multiplier);\n    divider = Decimal.from(divider);\n\n    if (divider.isZero) {\n      return Decimal.INFINITY;\n    }\n\n    return new Decimal(this._bigNumber.mul(multiplier._bigNumber).div(divider._bigNumber));\n  }\n\n  pow(exponent: number): Decimal {\n    assert(Number.isInteger(exponent));\n    assert(0 <= exponent && exponent <= 0xffffffff); // Ensure we're safe to use bitwise ops\n\n    if (exponent === 0) {\n      return Decimal.ONE;\n    }\n\n    if (exponent === 1) {\n      return this;\n    }\n\n    let x = this._bigNumber;\n    let y = DIGITS;\n\n    for (; exponent > 1; exponent >>>= 1) {\n      if (exponent & 1) {\n        y = roundedMul(x, y);\n      }\n\n      x = roundedMul(x, x);\n    }\n\n    return new Decimal(roundedMul(x, y));\n  }\n\n  lt(that: Decimalish): boolean {\n    return this._bigNumber.lt(Decimal.from(that)._bigNumber);\n  }\n\n  eq(that: Decimalish): boolean {\n    return this._bigNumber.eq(Decimal.from(that)._bigNumber);\n  }\n\n  gt(that: Decimalish): boolean {\n    return this._bigNumber.gt(Decimal.from(that)._bigNumber);\n  }\n\n  gte(that: Decimalish): boolean {\n    return this._bigNumber.gte(Decimal.from(that)._bigNumber);\n  }\n\n  lte(that: Decimalish): boolean {\n    return this._bigNumber.lte(Decimal.from(that)._bigNumber);\n  }\n\n  private _toStringWithAutomaticPrecision() {\n    const characteristic = this._bigNumber.div(DIGITS);\n    const mantissa = this._bigNumber.mod(DIGITS);\n\n    if (mantissa.isZero()) {\n      return characteristic.toString();\n    } else {\n      const paddedMantissa = mantissa.toString().padStart(PRECISION, '0');\n      const trimmedMantissa = paddedMantissa.replace(trailingZeros, '');\n      return characteristic.toString() + '.' + trimmedMantissa;\n    }\n  }\n\n  private _roundUp(precision: number) {\n    const halfDigit = getDigits(PRECISION - 1 - precision).mul(5);\n    return this._bigNumber.add(halfDigit);\n  }\n\n  private _toStringWithPrecision(precision: number) {\n    if (precision < 0) {\n      throw new Error('precision must not be negative');\n    }\n\n    const value = precision < PRECISION ? this._roundUp(precision) : this._bigNumber;\n    const characteristic = value.div(DIGITS);\n    const mantissa = value.mod(DIGITS);\n\n    if (precision === 0) {\n      return characteristic.toString();\n    } else {\n      const paddedMantissa = mantissa.toString().padStart(PRECISION, '0');\n      const trimmedMantissa = paddedMantissa.substr(0, precision);\n      return characteristic.toString() + '.' + trimmedMantissa;\n    }\n  }\n}\n\ntype DifferenceRepresentation = { sign: '' | '+' | '-'; absoluteValue: Decimal };\n\n/** @alpha */\nexport class Difference {\n  private _number?: DifferenceRepresentation;\n\n  private constructor(number?: DifferenceRepresentation) {\n    this._number = number;\n  }\n\n  get nonZero(): this | undefined {\n    return this._number?.absoluteValue.nonZero && this;\n  }\n\n  get positive(): this | undefined {\n    return this._number?.sign === '+' ? this : undefined;\n  }\n\n  get negative(): this | undefined {\n    return this._number?.sign === '-' ? this : undefined;\n  }\n\n  get absoluteValue(): Decimal | undefined {\n    return this._number?.absoluteValue;\n  }\n\n  get infinite(): this | undefined {\n    return this._number?.absoluteValue.infinite && this;\n  }\n\n  get finite(): this | undefined {\n    return this._number?.absoluteValue.finite && this;\n  }\n\n  static between(d1: Decimalish | undefined, d2: Decimalish | undefined): Difference {\n    if (d1 === undefined || d2 === undefined) {\n      return new Difference(undefined);\n    }\n\n    d1 = Decimal.from(d1);\n    d2 = Decimal.from(d2);\n\n    if (d1.infinite && d2.infinite) {\n      return new Difference(undefined);\n    } else if (d1.infinite) {\n      return new Difference({ sign: '+', absoluteValue: d1 });\n    } else if (d2.infinite) {\n      return new Difference({ sign: '-', absoluteValue: d2 });\n    } else if (d1.gt(d2)) {\n      return new Difference({ sign: '+', absoluteValue: Decimal.from(d1).sub(d2) });\n    } else if (d2.gt(d1)) {\n      return new Difference({ sign: '-', absoluteValue: Decimal.from(d2).sub(d1) });\n    } else {\n      return new Difference({ sign: '', absoluteValue: Decimal.ZERO });\n    }\n  }\n\n  toString(precision?: number): string {\n    if (!this._number) {\n      return 'N/A';\n    }\n\n    return this._number.sign + this._number.absoluteValue.toString(precision);\n  }\n\n  prettify(precision?: number): string {\n    if (!this._number) {\n      return this.toString();\n    }\n\n    return this._number.sign + this._number.absoluteValue.prettify(precision);\n  }\n\n  mul(multiplier: Decimalish): Difference {\n    return new Difference(\n      this._number && {\n        sign: this._number.sign,\n        absoluteValue: this._number.absoluteValue.mul(multiplier),\n      },\n    );\n  }\n}\n\n/** @alpha */\nexport class Percent<\n  T extends {\n    infinite?: T | undefined;\n    absoluteValue?: A | undefined;\n    mul?(hundred: 100): T;\n    toString(precision?: number): string;\n  },\n  A extends {\n    gte(n: string): boolean;\n  }\n> {\n  private _percent: T;\n\n  public constructor(ratio: T) {\n    this._percent = ratio.infinite || (ratio.mul && ratio.mul(100)) || ratio;\n  }\n\n  nonZeroish(precision: number): this | undefined {\n    const zeroish = `0.${'0'.repeat(precision)}5`;\n\n    if (this._percent.absoluteValue?.gte(zeroish)) {\n      return this;\n    }\n  }\n\n  toString(precision: number): string {\n    return (\n      this._percent.toString(precision) +\n      (this._percent.absoluteValue && !this._percent.infinite ? '%' : '')\n    );\n  }\n\n  prettify(): string {\n    if (this._percent.absoluteValue?.gte('1000')) {\n      return this.toString(0);\n    } else if (this._percent.absoluteValue?.gte('10')) {\n      return this.toString(1);\n    } else {\n      return this.toString(2);\n    }\n  }\n}\n","import base from '../assets/icons/markets/base.png';\nimport ethereum from '../assets/icons/markets/ethereum.png';\nimport linea from '../assets/icons/markets/linea.png';\n\nexport type MarketDataType = {\n  marketTitle: string;\n  chainId: number;\n  iconUrl: string;\n  themeColor: string;\n  desc: string;\n  marketAnalyticsUrl?: string;\n  isTestNet?: boolean;\n};\n\nexport enum CustomMarket {\n  // proto_base = 'proto_base',\n  proto_base_goerli = 'proto_base_goerli',\n  // proto_linea = 'proto_linea',\n  proto_mainnet = 'proto_mainnet',\n  // proto_ethereum_goerli = 'proto_ethereum_goerli',\n}\n\nexport const marketsData: {\n  [key in keyof typeof CustomMarket]: MarketDataType;\n} = {\n  [CustomMarket.proto_mainnet]: {\n    marketTitle: 'Mainnet',\n    chainId: 1,\n    iconUrl: ethereum,\n    themeColor: '#627EEA',\n    desc: 'ARTH Deployment on the original ethereum mainnet.',\n    marketAnalyticsUrl: 'https://dune.com/mahadao/arth',\n  },\n  /*\n  [CustomMarket.proto_ethereum_goerli]: {\n    marketTitle: 'Goerli',\n    chainId: 5,\n    iconUrl: ethereum,\n    themeColor: '#627EEA',\n    desc:\n      'Reference site about Lorem Ipsum, giving information on its origins, as well as a random Lipsum generator.',\n    marketAnalyticsUrl: 'https://dune.com/mahadao/arth',\n    isTestNet: true,\n  },*/\n  [CustomMarket.proto_base_goerli]: {\n    marketTitle: 'Base Goerli',\n    chainId: 84531,\n    iconUrl: base,\n    themeColor: '#0052FF',\n    desc: 'Base Goerli is the testnet of the Base ecosystem built by Coinbase',\n    marketAnalyticsUrl: 'https://dune.com/mahadao/arth',\n  },\n  /* [CustomMarket.proto_linea]: {\n    marketTitle: 'Linea',\n    chainId: 59144,\n    iconUrl: linea,\n    themeColor: '#62DFFF',\n    desc:\n      'Reference site about Lorem Ipsum, giving information on its origins, as well as a random Lipsum generator.',\n  },\n  [CustomMarket.proto_base]: {\n    marketTitle: 'Base',\n    chainId: 8453,\n    iconUrl: base,\n    themeColor: '#0052FF',\n    desc:\n      'Reference site about Lorem Ipsum, giving information on its origins, as well as a random Lipsum generator.',\n  },*/\n};\n","import { BigNumber } from 'ethers';\n\nimport { Decimal } from '../utils/Decimal';\n\nexport const PAGINATION_PAGE_SIZE = 4;\nexport const BETA = 2;\nexport const ZERO_ADDRESS = '0x0000000000000000000000000000000000000000';\nexport const DECIMALS_18 = BigNumber.from(10).pow(18);\nexport const BNZERO = BigNumber.from(0);\nexport const ARTH_GAS_COMPENSATION = DECIMALS_18.mul(5);\nexport const MIN_NET_DEBT = DECIMALS_18.mul(50);\nexport const REDEEM_MAX_ITERATIONS = 70;\nexport const MAX_UINT_256 =\n  '0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff';\nexport const MAX_TRIALS_AT_ONCE = 2500;\nexport const MINUTE_DECAY_FACTOR = BigNumber.from('999037758833783000');\nexport const ONE_INCH_ROUTER_ADDRESS = '0x11111112542d85b3ef69ae05771c2dccff4faa26';\nexport const noOp = () => {};\n\nexport const MINIMUM_BORROWING_RATE = Decimal.from(0.005);\nexport const MAXIMUM_BORROWING_RATE = Decimal.from(0.05);\nexport const MINIMUM_REDEMPTION_RATE = Decimal.from(0.005);\n\nexport const CRITICAL_COLLATERAL_RATIO = Decimal.from(1.5);\nexport const ARTH_LIQUIDATION_RESERVE = Decimal.from(200);\nexport const ARTH_MINIMUM_NET_DEBT = Decimal.from(250);\nexport const ARTH_MINIMUM_DEBT = ARTH_LIQUIDATION_RESERVE.add(ARTH_MINIMUM_NET_DEBT);\nexport const MINIMUM_COLLATERAL_RATIO = Decimal.from(1.1);\n","import { Configuration } from '../protocol/config';\nimport { DECIMALS_18, ZERO_ADDRESS } from '../protocol/constants';\n\nconst configurations: { [env: string]: Configuration } = {\n  84531: {\n    chainId: 84531,\n    networkName: 'Base',\n    networkDisplayName: 'Base',\n    networkIconName: 'Base',\n\n    blockchainTokenName: 'ETH',\n    blockchainToken: 'ETH',\n    etherscanUrl: 'https://basescan.org',\n    defaultProvider: 'https://1rpc.io/base-goerli',\n    blockchainTokenDecimals: 18,\n    deployments: require('../protocol/deployments/baseGoerli.json'),\n\n    vFatLink: null,\n    tradingLink: 'https://app.1inch.io/#/1/swap/ETH/0x8cc0f052fff7ead7f2edcccac895502e884a8a71',\n    networkSetupDocLink:\n      'https://docs.binance.org/smart-chain/developer/rpc.html#mainnetchainid-0x38-56-in-decimal',\n    analyticsLink: 'https://dune.com/mahadao/arth',\n\n    refreshInterval: 10000,\n    gasLimitMultiplier: 1.1,\n    decimalOverrides: {},\n    frontEndAddress: ZERO_ADDRESS,\n\n    defaultCollateral: 'ETH',\n    supportedTokens: ['ARTH', 'MAHA'],\n\n    troveStaticInfo: {\n      trove: 'ETH',\n      depositToken: 'ETH',\n      displayName: 'ETH',\n      contractPrefix: 'ETH',\n      crParameters: {\n        mcr: 109999, // 110%\n        ccr: 149999, // 150%\n      },\n      liquidationReserve: DECIMALS_18.mul(50),\n      minDebtAmount: DECIMALS_18.mul(250),\n    },\n\n    farmingConfigs: [],\n    tokeniseStaticInfo: [\n      /*{\n        depositToken: 'ARTH',\n        tokeniseToken: 'ARTH.usd',\n        platform: '',\n        rewardFee: 0,\n        link: 'https://arth.mahadao.com/#/loans/your-loans',\n        description:\n          \"Convert your ARTH into ARTH.usd which is a positive rebase token that is 100% backed by ARTH and maintains it's value at 1$\",\n        isTokeniseLP: false,\n      },*/\n    ],\n\n    tradingCollaterals: [],\n    crvTradeTokenIndexMapping: {},\n    poolsStaticInfo: {\n      name: '',\n      symbol: '',\n      lpToken: '',\n      removeLiquidityLink: '',\n      token3Pool: '',\n      minterContract: '',\n      token3PoolUnderlyingTokens: [],\n      desc: '',\n    },\n    liquidityPoolsStaticInfo: [],\n  },\n};\n\nexport default configurations;\n","import { Configuration } from '../protocol/config';\nimport { DECIMALS_18, ZERO_ADDRESS } from '../protocol/constants';\n\nconst configurations: { [env: string]: Configuration } = {\n  1: {\n    chainId: 1,\n    networkName: 'Ethereum',\n    networkDisplayName: 'ETH',\n    networkIconName: 'ETH',\n\n    blockchainTokenName: 'ETH',\n    blockchainToken: 'ETH',\n    etherscanUrl: 'https://etherscan.io',\n    defaultProvider: 'https://eth-mainnet.alchemyapi.io/v2/yFIea42iOou-1yrxEjr4tcxVXODp0uNs',\n    blockchainTokenDecimals: 18,\n    deployments: require('../protocol/deployments/ethereum.json'),\n\n    vFatLink: null,\n    tradingLink: 'https://curve.fi/#/ethereum/pools/factory-crypto-185/swap',\n    networkSetupDocLink:\n      'https://docs.binance.org/smart-chain/developer/rpc.html#mainnetchainid-0x38-56-in-decimal',\n    analyticsLink: 'https://dune.com/mahadao/arth',\n\n    refreshInterval: 10000,\n    gasLimitMultiplier: 1.1,\n    decimalOverrides: {},\n    frontEndAddress: ZERO_ADDRESS,\n\n    defaultCollateral: 'ETH',\n    supportedTokens: ['ARTH', 'MAHA'],\n\n    troveStaticInfo: {\n      trove: 'ETH',\n      depositToken: 'ETH',\n      displayName: 'ETH',\n      contractPrefix: 'ETH',\n      crParameters: {\n        mcr: 109999, // 110%\n        ccr: 149999, // 150%\n      },\n      liquidationReserve: DECIMALS_18.mul(50),\n      minDebtAmount: DECIMALS_18.mul(250),\n    },\n\n    farmingConfigs: [],\n    tokeniseStaticInfo: [\n      /*{\n        depositToken: 'ARTH',\n        tokeniseToken: 'ARTH.usd',\n        platform: '',\n        rewardFee: 0,\n        link: 'https://arth.mahadao.com/#/loans/your-loans',\n        description:\n          \"Convert your ARTH into ARTH.usd which is a positive rebase token that is 100% backed by ARTH and maintains it's value at 1$\",\n        isTokeniseLP: false,\n      },*/\n    ],\n\n    tradingCollaterals: [],\n    crvTradeTokenIndexMapping: {},\n    poolsStaticInfo: {\n      name: '',\n      symbol: '',\n      lpToken: '',\n      removeLiquidityLink: '',\n      token3Pool: '',\n      minterContract: '',\n      token3PoolUnderlyingTokens: [],\n      desc: '',\n    },\n    liquidityPoolsStaticInfo: [],\n  },\n};\n\nexport default configurations;\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAsCAMAAAApWqozAAAB9VBMVEUAAAAAAP9mgOZqgOpidutkfOhigOlffOljgOpgfOpkfuligOlhfuljgOpifupggOpigOtjgOlifulkgOlifulhgOpjfupifephfupjfetjfetifutjfupifulhf+pjfupif+phfupif+pifupifupjfutif+tifulif+pif+pifupifepjfuthfupifepifupifupifephfupifutifupifupjfupifupifupifupifupifupifupifupifulifupifupifupifupifupifupifupifupifupifupifulifupifupjf+pkgOplgepmgepmgutngutog+tphOtqhetrhutshutuiOxwiexxi+xzjOx0jex2ju13j+15ke17ku18k+18lO5+le5/lu6Alu6Al+6BmO6CmO6Fm++GnO+HnO+Ine+Jne+Jnu+LoPCNofCOovCRpfCTpvGUp/GVqPGYq/GbrfKcrvKhsvKjs/OktfOouPOpufSqufSruvSsu/StvPSwvvSxv/W0wfW0wvW1wvW2w/W3xPW5xvW6xva8yPa+yfa/yva/yvfAy/bAy/fBzPfDzffDzvfFz/fJ0vjO1/jQ2fnW3vrY3/re5Pvm6/vm6/zq7vzu8f3w8v3w8/3y9P34+f75+v77+/79/f/+/v////9VMfygAAAAS3RSTlMAAQoMDSEiIyQlRUZHSElKTlBRUlNUVVZXWFpbd4CDhIWGh4iUlpemp6mqq7Cys7a4ubq8zc7P0NLW19jZ6+3u7/Dx8vP19vf4+fp8SRcUAAAAAWJLR0Smt7AblQAAAidJREFUGBmFwQlfTGEUB+BzJ7RMTZE1ohqpGEXRqkmiZvo3iUG0CDEYolDWkCXiMse+b8X7Od2WX933zNLzkJCU6S6ta2htbajdXuBKogQM11YfbFpKMgyKY3U1olRlUyypFYipPIWirGxEHE05pDNykYDbIBtjCxIqNGhBARaxkeatxaLW05zU/RDaOyHsS6ZZFZBG70AqpxmrIHX/MfshrSCLUQ3pgzLHOyBUGUTkgjSolMnXIaUT0TYIh78rZXKkC0Ix0RIfhCdKKZN5tA26ZgdlQjg5pZQymfkCBCe5IXxSFpOZJ4LQ5VMpdCPKMvmcLSPQeWgPNEd/KvX7/atLQ2PMkV5oaskLjam+vo0wh0Ohq/ciYwHY1ZMfdue/vOZp4ZDl8q0B2PnID7vTj3lGODTt7AnY+cgLuyOBKy/YEg5ZetoPwa6e6mDX/a7n2EiEORwK9QUPDp2CXQ2VQnNjcjzY84DDZzrR/3QYGg8VQPdG/bgZuNjb1n2fH7VDk0cu6ILflPrcHxyO8Msu6NIoqQW6c1NK/Z1g5gHoDjiISiDcVUqZzLchFBFRBoS2j0qZ/CwIwUlExi4Ix38pM9IHodIgSzakwX/mNUhZNKMM0sTDAISdNCulCUJHJ4TGZTRnDRaVQ/M2YRG5tMAoREKbSbMBCbhJyN6LOJrWUZTkHYipbCnFsrwSUXZnURxGenEzbJqLnAYl4HDme2q8fr+3xpOX5iDdf73568EKXwihAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,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\"","import { chain } from 'wagmi';\n\nimport { isProduction } from './analytics/Mixpanel';\nimport base from './config/base';\nimport baseGoerli from './config/baseGoerli';\nimport ethereum from './config/ethereum';\nimport goerli from './config/goerli';\nimport linea from './config/linea';\nimport { Configuration } from './protocol/config';\nimport { baseChain, baseGoerliChain, lineaChain } from './utils/CustomChains';\nimport { marketsData } from \"./ui-config/marketConfig\";\n\nlet configurations: { [env: string]: Configuration } = {\n  ...ethereum,\n  ...baseGoerli,\n  // ...base,\n  // ...linea,\n  // ...goerli,\n};\n\nexport let ConfigChains = [chain.mainnet, baseGoerliChain];\n\n/*if (isProduction) {\n  configurations = {\n    ...ethereum,\n    ...base,\n    ...linea,\n  };\n  ConfigChains = [chain.mainnet, baseChain, lineaChain];\n}*/\n\nexport default configurations;\n\nexport const getSupportedChains = (): number[] =>\n  Object.keys(configurations).map((i) => Number(i));\n\nObject.entries(marketsData).map(([key, data])=> {\n  if (!getSupportedChains().includes(data.chainId)) console.error(`* ChainId: ${data.chainId} is not present in the src/config.ts please add that into it`);\n})\n","import { Chain } from 'wagmi';\n\nexport const bscChain: Chain = {\n  id: 56,\n  name: 'Binance',\n  network: 'binance',\n  nativeCurrency: {\n    decimals: 18,\n    name: 'Binance Coin',\n    symbol: 'BNB',\n  },\n  rpcUrls: {\n    default: 'https://bsc-dataseed1.defibit.io/',\n  },\n  blockExplorers: {\n    default: { name: 'BSC Scan', url: 'https://bscscan.com/' },\n  },\n  testnet: false,\n};\n\nexport const baseChain = {\n  id: 8453,\n  name: 'Base',\n  network: 'Base',\n  iconUrl: '/base.png',\n  nativeCurrency: {\n    decimals: 18,\n    name: 'ETH',\n    symbol: 'ETH',\n  },\n  rpcUrls: {\n    default: 'https://mainnet.base.org',\n  },\n  blockExplorers: {\n    default: { name: 'Base Explorer', url: 'https://basescan.org' },\n  },\n  testnet: false,\n};\n\nexport const baseGoerliChain: Chain = {\n  id: 84531,\n  name: 'Base Goerli',\n  network: 'Base Goerli',\n  // iconUrl: '/base.png',\n  nativeCurrency: {\n    decimals: 18,\n    name: 'ETH',\n    symbol: 'ETH',\n  },\n  rpcUrls: {\n    default: 'https://mainnet.base.org',\n  },\n  blockExplorers: {\n    default: { name: 'Base Explorer', url: 'https://basescan.org' },\n  },\n  testnet: false,\n};\n\nexport const lineaChain = {\n  id: 59144,\n  name: 'Linea',\n  network: 'Linea',\n  iconUrl: '/linea.png',\n  nativeCurrency: {\n    decimals: 18,\n    name: 'ETH',\n    symbol: 'ETH',\n  },\n  rpcUrls: {\n    default: 'https://rpc.linea.build',\n  },\n  blockExplorers: {\n    default: { name: 'Linea Explorer', url: 'https://lineascan.build' },\n  },\n  testnet: false,\n};\n","import { Chain, useAccount, useNetwork } from 'wagmi';\n\nimport { getSupportedChains } from '../config';\n\nexport function useGetChainId(): number {\n  const { chain } = useNetwork();\n  return chain\n    ? !chain.unsupported\n      ? chain.id\n      : getSupportedChains()[0]\n    : getSupportedChains()[0];\n}\n\nexport function useGetChains(): number[] {\n  const { chains } = useNetwork();\n  return chains.map((data) => data.id);\n}\n\nexport function useGetChainDetails(chainId: number): Chain | undefined {\n  const { chains } = useNetwork();\n  return chains.find((chains) => chains.id === chainId);\n}\n\nexport function useGetAccount(): string | undefined {\n  const { address } = useAccount();\n  return address;\n}\n","import { createAction } from '@reduxjs/toolkit';\n\nexport type PopupContent = {\n  txn?: {\n    hash: string;\n    success: boolean;\n    loading?: boolean;\n    summary?: string;\n  };\n  error?: {\n    message: string;\n    stack: string;\n  };\n};\n\nexport const updateBlockNumber = createAction<{ chainId: number; blockNumber: number }>(\n  'app/updateBlockNumber',\n);\n\nexport const toggleWalletModal = createAction<void>('app/toggleWalletModal');\n\nexport const toggleSettingsMenu = createAction<void>('app/toggleSettingsMenu');\n\nexport const addPopup = createAction<{\n  key?: string;\n  removeAfterMs?: number | null;\n  content: PopupContent;\n}>('app/addPopup');\n\nexport const removePopup = createAction<{ key: string }>('app/removePopup');\n","import { useCallback, useMemo } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport { useGetAccount, useGetChainId } from '../../utils/NetworksCustomHooks';\nimport { AppState } from '../index';\n\nimport {\n  PopupContent,\n  addPopup,\n  removePopup,\n  toggleSettingsMenu,\n  toggleWalletModal,\n} from './actions';\n\nexport function useBlockNumber(): number | undefined {\n  const account = useGetAccount();\n  const chainId = useGetChainId();\n  return useSelector((state: AppState) => state.application.blockNumber[chainId ?? -1]);\n}\n\nexport function useWalletModalOpen(): boolean {\n  return useSelector((state: AppState) => state.application.walletModalOpen);\n}\n\nexport function useWalletModalToggle(): () => void {\n  const dispatch = useDispatch();\n  return useCallback(() => dispatch(toggleWalletModal()), [dispatch]);\n}\n\nexport function useSettingsMenuOpen(): boolean {\n  return useSelector((state: AppState) => state.application.settingsMenuOpen);\n}\n\nexport function useToggleSettingsMenu(): () => void {\n  const dispatch = useDispatch();\n  return useCallback(() => dispatch(toggleSettingsMenu()), [dispatch]);\n}\n\n// Returns a function that allows adding a popup.\nexport function useAddPopup(): (content: PopupContent, key?: string) => void {\n  const dispatch = useDispatch();\n\n  return useCallback(\n    (content: PopupContent, key?: string) => {\n      dispatch(addPopup({ content, key }));\n    },\n    [dispatch],\n  );\n}\n\n// Returns a function that allows removing a popup via its key.\nexport function useRemovePopup(): (key: string) => void {\n  const dispatch = useDispatch();\n  return useCallback(\n    (key: string) => {\n      dispatch(removePopup({ key }));\n    },\n    [dispatch],\n  );\n}\n\n// Get the list of active popups.\nexport function useActivePopups(): AppState['application']['popupList'] {\n  const list = useSelector((state: AppState) => state.application.popupList);\n  return useMemo(() => list.filter((item) => item.show), [list]);\n}\n","import { createAction } from '@reduxjs/toolkit';\nimport { ChainId } from '@uniswap/sdk';\n\nexport interface SerializableTransactionReceipt {\n  to: string;\n  from: string;\n  contractAddress: string;\n  transactionIndex: number;\n  blockHash: string;\n  transactionHash: string;\n  blockNumber: number;\n  status?: number;\n}\n\nexport const addTransaction = createAction<{\n  chainId: ChainId;\n  hash: string;\n  from: string;\n  approval?: { tokenAddress: string; spender: string };\n  summary?: string;\n}>('transactions/addTransaction');\n\nexport const clearAllTransactions = createAction<{ chainId: ChainId }>(\n  'transactions/clearAllTransactions',\n);\n\nexport const finalizeTransaction = createAction<{\n  chainId: ChainId;\n  hash: string;\n  receipt: SerializableTransactionReceipt;\n}>('transactions/finalizeTransaction');\n\nexport const checkedTransaction = createAction<{\n  chainId: ChainId;\n  hash: string;\n  blockNumber: number;\n}>('transactions/checkedTransaction');\n","import { TransactionResponse } from '@ethersproject/providers';\nimport { useCallback, useMemo } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport { useGetAccount, useGetChainId } from '../../utils/NetworksCustomHooks';\nimport { useAddPopup } from '../application/hooks';\nimport { AppDispatch, AppState } from '../index';\n\nimport { addTransaction, clearAllTransactions } from './actions';\nimport { TransactionDetails } from './reducer';\n\n\n/**\n * Helper that can take a ethers library transaction response and\n * add it to the list of transactions.\n */\nexport function useTransactionAdder(): (\n  response: TransactionResponse,\n  customData?: { summary?: string; approval?: { tokenAddress: string; spender: string } },\n) => void {\n  const chainId = useGetChainId();\n  const account = useGetAccount();\n  const dispatch = useDispatch<AppDispatch>();\n  const addPopup = useAddPopup();\n\n  return useCallback(\n    (\n      response: TransactionResponse,\n      {\n        summary,\n        approval,\n      }: { summary?: string; approval?: { tokenAddress: string; spender: string } } = {},\n    ) => {\n      if (!account) return;\n      if (!chainId) return;\n\n      const { hash } = response;\n      if (!hash) {\n        throw Error('No transaction hash found.');\n      }\n\n      addPopup(\n        {\n          txn: {\n            hash,\n            loading: true,\n            success: false,\n            summary: summary,\n          },\n        },\n        hash,\n      );\n\n      dispatch(addTransaction({ hash, from: account, chainId, approval, summary }));\n    },\n    // eslint-disable-next-line\n    [dispatch, chainId, account],\n  );\n}\n\n// Returns all the transactions for the current chain.\nexport function useAllTransactions(): { [txHash: string]: TransactionDetails } {\n  const chainId = useGetChainId();\n  const state = useSelector<AppState, AppState['transactions']>((state) => state.transactions);\n\n  return chainId ? state[chainId] ?? {} : {};\n}\n\nexport function useIsTransactionPending(transactionHash?: string): boolean {\n  const transactions = useAllTransactions();\n  if (!transactionHash || !transactions[transactionHash]) {\n    return false;\n  }\n  return !transactions[transactionHash].receipt;\n}\n\n/**\n * Returns whether a transaction happened in the last day (86400 seconds * 1000 milliseconds / second)\n * @param tx to check for recency\n */\nexport function isTransactionRecent(tx: TransactionDetails): boolean {\n  return new Date().getTime() - tx.addedTime < 86_400_000;\n}\n\n// Returns whether a token has a pending approval transaction.\nexport function useHasPendingApproval(\n  tokenAddress: string | undefined,\n  spender: string | undefined,\n): boolean {\n  const allTransactions = useAllTransactions();\n  return useMemo(\n    () =>\n      typeof tokenAddress === 'string' &&\n      typeof spender === 'string' &&\n      Object.keys(allTransactions).some((hash) => {\n        const tx = allTransactions[hash];\n        if (!tx) return false;\n        if (tx.receipt) {\n          return false;\n        } else {\n          const approval = tx.approval;\n          if (!approval) return false;\n          return (\n            approval.spender === spender &&\n            approval.tokenAddress === tokenAddress &&\n            isTransactionRecent(tx)\n          );\n        }\n      }),\n    [allTransactions, spender, tokenAddress],\n  );\n}\n\nexport function useClearAllTransactions(): { clearAllTransactions: () => void } {\n  const chainId = useGetChainId();\n  const dispatch = useDispatch<AppDispatch>();\n  return {\n    clearAllTransactions: useCallback(() => dispatch(clearAllTransactions({ chainId })), [\n      chainId,\n      dispatch,\n    ]),\n  };\n}\n","import { createAction } from '@reduxjs/toolkit';\nimport { BigNumber } from 'ethers';\n\nexport type UpdateARTHSupply = { supply: BigNumber };\nexport const updateARTHSupply = createAction<UpdateARTHSupply>('token/updateARTHSupply');\n\n// export type ApprovalOfType = { approval: BigNumber; from: string; to:string; token: string };\n// export const updateApprovalOf = createAction<ApprovalOfType>('token/updateApprovalOf');\n","import { Dispatch } from '@reduxjs/toolkit';\n\nimport { IMulticallInput } from '../../protocol/Mulitcall';\nimport { Protocol } from '../../protocol/Protocol';\n\nimport * as Actions from './actions';\n\nexport const initStats = (core: Protocol, dispatch: Dispatch, chainId: number) => {\n  setTimeout(() => _initStats(core, dispatch, chainId), 100);\n};\n\nconst _initStats = (core: Protocol, dispatch: Dispatch, chainId: number) => {\n  core.multicall[chainId].on(`ARTH_CIRCULATING_SUPPLY`, (bal) =>\n    dispatch(\n      Actions.updateARTHSupply({\n        supply: bal,\n      }),\n    ),\n  );\n  const addCallsArray: Array<IMulticallInput> = [];\n\n  addCallsArray.push({\n    key: `ARTH_CIRCULATING_SUPPLY`,\n    target: core.tokens('ARTH', chainId).address,\n    call: ['totalSupply()(uint256)'],\n    convertResult: (val) => val,\n  });\n\n  core.multicall[chainId].addCalls(addCallsArray);\n};\n","import { createAction } from '@reduxjs/toolkit';\nimport { BigNumber } from 'ethers';\n\nexport type BalanceOfType = { bal: BigNumber; who: string; token: string };\nexport const updateBalanceOf = createAction<BalanceOfType>('token/updateBalanceOf');\n\nexport type ApprovalOfType = { approval: BigNumber; from: string; to: string; token: string };\nexport const updateApprovalOf = createAction<ApprovalOfType>('token/updateApprovalOf');\n","import { Dispatch } from '@reduxjs/toolkit';\n\nimport config from '../../config';\nimport { IMulticallInput } from '../../protocol/Mulitcall';\nimport { Protocol } from '../../protocol/Protocol';\n\nimport * as Actions from './actions';\n\nexport const initUser = (core: Protocol, dispatch: Dispatch, chainId: number) => {\n  setTimeout(() => _initUser(core, dispatch, chainId), 100);\n};\n\nconst _initUser = (core: Protocol, dispatch: Dispatch, chainId: number) => {\n  for (const token of config[chainId].supportedTokens) {\n    core.multicall[chainId].on(`BALANCE_OF_${token}`, (bal) =>\n      dispatch(\n        Actions.updateBalanceOf({\n          bal,\n          who: core.myAccount,\n          token: core.tokens(token, chainId).address,\n        }),\n      ),\n    );\n  }\n\n  const addCallsArray: Array<IMulticallInput> = [];\n  for (const token of config[chainId].supportedTokens) {\n    addCallsArray.push({\n      key: `BALANCE_OF_${token}`,\n      target: core.tokens(token, chainId).address,\n      call: ['balanceOf(address)(uint256)', core.myAccount],\n      convertResult: (val) => val,\n    });\n  }\n\n  core.multicall[chainId].addCalls(addCallsArray);\n};\n","import { createAction } from '@reduxjs/toolkit';\nimport { BigNumber } from 'ethers';\n\nexport type DefaultBNType = { val: BigNumber; for: string; collateral: string };\nexport type DefaultBoolType = { val: boolean; for: string; collateral: string };\n\nexport const getPendingARTHDebtReward = createAction<DefaultBNType>(\n  'trove/getPendingARTHDebtReward',\n);\nexport const getPendingETHReward = createAction<DefaultBNType>('trove/getPendingETHReward');\nexport const hasPendingRewards = createAction<DefaultBoolType>('trove/hasPendingRewards');\n","import { Dispatch } from '@reduxjs/toolkit';\nimport { BigNumber } from 'ethers';\n\nimport { IMulticallInput } from '../../protocol/Mulitcall';\nimport { Protocol } from '../../protocol/Protocol';\n\nimport * as Actions from './actions';\n\nexport const initUser = (core: Protocol, dispatch: Dispatch, chainId: number) => {\n  const _registerVariable = (\n    fn: string[],\n    to: string,\n    reduxAction: any,\n    convertResult: any,\n  ) => {\n    const input: IMulticallInput = {\n      key: `TROVE:${fn}:${to}`,\n      target: to,\n      call: fn,\n      convertResult,\n    };\n\n    core.multicall[chainId].on(input.key, (val) => {\n      dispatch(reduxAction(val));\n    });\n\n    return input;\n  };\n\n  const registerTroveManagerCalls = () => {\n    const calls: IMulticallInput[] = [];\n    const collaterals = core.getAllTroves(chainId);\n    // const collaterals = core.getCollateralTypes(chainId);\n\n    const who = core.myAccount;\n\n    collaterals.forEach((collateral) => {\n      const tm = core.getTroveManager(collateral, chainId);\n\n      calls.push(\n        _registerVariable(\n          ['getPendingETHReward(address)(uint256)', who],\n          tm.address,\n          Actions.getPendingETHReward,\n          (val: BigNumber) => ({ val, who, collateral }),\n        ),\n        _registerVariable(\n          ['getPendingARTHDebtReward(address)(uint256)', who],\n          tm.address,\n          Actions.getPendingARTHDebtReward,\n          (val: BigNumber) => ({ val, who, collateral }),\n        ),\n        _registerVariable(\n          ['hasPendingRewards(address)(bool)', who],\n          tm.address,\n          Actions.hasPendingRewards,\n          (val: boolean) => ({ val, who, collateral }),\n        ),\n      );\n    });\n\n    return calls;\n  };\n\n  const calls = registerTroveManagerCalls();\n  core.multicall[chainId].addCalls(calls);\n};\n","import assert from \"assert\";\n\n\n\nimport { ARTH_LIQUIDATION_RESERVE, CRITICAL_COLLATERAL_RATIO, MINIMUM_BORROWING_RATE, MINIMUM_COLLATERAL_RATIO } from \"../protocol/constants\";\n\n\n\nimport { Decimal, Decimalish } from \"./Decimal\";\n\n\n/** @internal */ export type _CollateralDeposit<T> = { depositCollateral: T };\n/** @internal */ export type _CollateralWithdrawal<T> = { withdrawCollateral: T };\n/** @internal */ export type _ARTHBorrowing<T> = { borrowARTH: T };\n/** @internal */ export type _ARTHRepayment<T> = { repayARTH: T };\n\n/** @internal */ export type _NoCollateralDeposit = Partial<_CollateralDeposit<undefined>>;\n/** @internal */ export type _NoCollateralWithdrawal = Partial<\n  _CollateralWithdrawal<undefined>\n>;\n/** @internal */ export type _NoARTHBorrowing = Partial<_ARTHBorrowing<undefined>>;\n/** @internal */ export type _NoARTHRepayment = Partial<_ARTHRepayment<undefined>>;\n\n/** @internal */\nexport type _CollateralChange<T> =\n  | (_CollateralDeposit<T> & _NoCollateralWithdrawal)\n  | (_CollateralWithdrawal<T> & _NoCollateralDeposit);\n\n/** @internal */\nexport type _NoCollateralChange = _NoCollateralDeposit & _NoCollateralWithdrawal;\n\n/** @internal */\nexport type _DebtChange<T> =\n  | (_ARTHBorrowing<T> & _NoARTHRepayment)\n  | (_ARTHRepayment<T> & _NoARTHBorrowing);\n\n/** @internal */\nexport type _NoDebtChange = _NoARTHBorrowing & _NoARTHRepayment;\n\n/**\n * Parameters of an {@link TransactableLiquity.openTrove | openTrove()} transaction.\n *\n * @remarks\n * The type parameter `T` specifies the allowed value type(s) of the particular `TroveCreationParams`\n * object's properties.\n *\n * <h2>Properties</h2>\n *\n * <table>\n *\n *   <tr>\n *     <th> Property </th>\n *     <th> Type </th>\n *     <th> Description </th>\n *   </tr>\n *\n *   <tr>\n *     <td> depositCollateral </td>\n *     <td> T </td>\n *     <td> The amount of collateral that's deposited. </td>\n *   </tr>\n *\n *   <tr>\n *     <td> borrowARTH </td>\n *     <td> T </td>\n *     <td> The amount of ARTH that's borrowed. </td>\n *   </tr>\n *\n * </table>\n *\n * @public\n */\nexport type TroveCreationParams<T = unknown> = _CollateralDeposit<T> &\n  _NoCollateralWithdrawal &\n  _ARTHBorrowing<T> &\n  _NoARTHRepayment;\n\n/**\n * Parameters of a {@link TransactableLiquity.closeTrove | closeTrove()} transaction.\n *\n * @remarks\n * The type parameter `T` specifies the allowed value type(s) of the particular `TroveClosureParams`\n * object's properties.\n *\n * <h2>Properties</h2>\n *\n * <table>\n *\n *   <tr>\n *     <th> Property </th>\n *     <th> Type </th>\n *     <th> Description </th>\n *   </tr>\n *\n *   <tr>\n *     <td> withdrawCollateral </td>\n *     <td> T </td>\n *     <td> The amount of collateral that's withdrawn. </td>\n *   </tr>\n *\n *   <tr>\n *     <td> repayARTH? </td>\n *     <td> T </td>\n *     <td> <i>(Optional)</i> The amount of ARTH that's repaid. </td>\n *   </tr>\n *\n * </table>\n *\n * @public\n */\nexport type TroveClosureParams<T> = _CollateralWithdrawal<T> &\n  _NoCollateralDeposit &\n  Partial<_ARTHRepayment<T>> &\n  _NoARTHBorrowing;\n\n/**\n * Parameters of an {@link TransactableLiquity.adjustTrove | adjustTrove()} transaction.\n *\n * @remarks\n * The type parameter `T` specifies the allowed value type(s) of the particular\n * `TroveAdjustmentParams` object's properties.\n *\n * Even though all properties are optional, a valid `TroveAdjustmentParams` object must define at\n * least one.\n *\n * Defining both `depositCollateral` and `withdrawCollateral`, or both `borrowARTH` and `repayARTH`\n * at the same time is disallowed, and will result in a type-checking error.\n *\n * <h2>Properties</h2>\n *\n * <table>\n *\n *   <tr>\n *     <th> Property </th>\n *     <th> Type </th>\n *     <th> Description </th>\n *   </tr>\n *\n *   <tr>\n *     <td> depositCollateral? </td>\n *     <td> T </td>\n *     <td> <i>(Optional)</i> The amount of collateral that's deposited. </td>\n *   </tr>\n *\n *   <tr>\n *     <td> withdrawCollateral? </td>\n *     <td> T </td>\n *     <td> <i>(Optional)</i> The amount of collateral that's withdrawn. </td>\n *   </tr>\n *\n *   <tr>\n *     <td> borrowARTH? </td>\n *     <td> T </td>\n *     <td> <i>(Optional)</i> The amount of ARTH that's borrowed. </td>\n *   </tr>\n *\n *   <tr>\n *     <td> repayARTH? </td>\n *     <td> T </td>\n *     <td> <i>(Optional)</i> The amount of ARTH that's repaid. </td>\n *   </tr>\n *\n * </table>\n *\n * @public\n */\nexport type TroveAdjustmentParams<T = unknown> =\n  | (_CollateralChange<T> & _NoDebtChange)\n  | (_DebtChange<T> & _NoCollateralChange)\n  | (_CollateralChange<T> & _DebtChange<T>);\n\n/**\n * Describes why a Trove could not be created.\n *\n * @remarks\n * See {@link TroveChange}.\n *\n * <h2>Possible values</h2>\n *\n * <table>\n *\n *   <tr>\n *     <th> Value </th>\n *     <th> Reason </th>\n *   </tr>\n *\n *   <tr>\n *     <td> \"missingLiquidationReserve\" </td>\n *     <td> A Trove's debt cannot be less than the liquidation reserve. </td>\n *   </tr>\n *\n * </table>\n *\n * More errors may be added in the future.\n *\n * @public\n */\nexport type TroveCreationError = 'missingLiquidationReserve';\n\n/**\n * Represents the change between two Trove states.\n *\n * @remarks\n * Returned by {@link Trove.whatChanged}.\n *\n * Passed as a parameter to {@link Trove.apply}.\n *\n * @public\n */\nexport type TroveChange<T> =\n  | { type: 'invalidCreation'; invalidTrove: Trove; error: TroveCreationError }\n  | { type: 'creation'; params: TroveCreationParams<T> }\n  | { type: 'closure'; params: TroveClosureParams<T> }\n  | { type: 'adjustment'; params: TroveAdjustmentParams<T>; setToZero?: 'collateral' | 'debt' };\n\n// This might seem backwards, but this way we avoid spamming the .d.ts and generated docs\ntype InvalidTroveCreation = Extract<TroveChange<never>, { type: 'invalidCreation' }>;\ntype TroveCreation<T> = Extract<TroveChange<T>, { type: 'creation' }>;\ntype TroveClosure<T> = Extract<TroveChange<T>, { type: 'closure' }>;\ntype TroveAdjustment<T> = Extract<TroveChange<T>, { type: 'adjustment' }>;\n\nconst invalidTroveCreation = (\n  invalidTrove: Trove,\n  error: TroveCreationError,\n): InvalidTroveCreation => ({\n  type: 'invalidCreation',\n  invalidTrove,\n  error,\n});\n\nconst troveCreation = <T>(params: TroveCreationParams<T>): TroveCreation<T> => ({\n  type: 'creation',\n  params,\n});\n\nconst troveClosure = <T>(params: TroveClosureParams<T>): TroveClosure<T> => ({\n  type: 'closure',\n  params,\n});\n\nconst troveAdjustment = <T>(\n  params: TroveAdjustmentParams<T>,\n  setToZero?: 'collateral' | 'debt',\n): TroveAdjustment<T> => ({\n  type: 'adjustment',\n  params,\n  setToZero,\n});\n\nconst valueIsDefined = <T>(entry: [string, T | undefined]): entry is [string, T] =>\n  entry[1] !== undefined;\n\ntype AllowedKey<T> = Exclude<\n  {\n    [P in keyof T]: T[P] extends undefined ? never : P;\n  }[keyof T],\n  undefined\n>;\n\nconst allowedTroveCreationKeys: AllowedKey<TroveCreationParams>[] = [\n  'depositCollateral',\n  'borrowARTH',\n];\n\nfunction checkAllowedTroveCreationKeys<T>(\n  entries: [string, T][],\n): asserts entries is [AllowedKey<TroveCreationParams>, T][] {\n  const badKeys = entries\n    .filter(([k]) => !(allowedTroveCreationKeys as string[]).includes(k))\n    .map(([k]) => `'${k}'`);\n\n  if (badKeys.length > 0) {\n    throw new Error(`TroveCreationParams: property ${badKeys.join(', ')} not allowed`);\n  }\n}\n\nconst troveCreationParamsFromEntries = <T>(\n  entries: [AllowedKey<TroveCreationParams>, T][],\n): TroveCreationParams<T> => {\n  const params = Object.fromEntries(entries) as Record<AllowedKey<TroveCreationParams>, T>;\n  const missingKeys = allowedTroveCreationKeys\n    .filter((k) => !(k in params))\n    .map((k) => `'${k}'`);\n\n  if (missingKeys.length > 0) {\n    throw new Error(`TroveCreationParams: property ${missingKeys.join(', ')} missing`);\n  }\n\n  return params;\n};\n\nconst decimalize = <T>([k, v]: [T, Decimalish]): [T, Decimal] => [k, Decimal.from(v)];\nconst nonZero = <T>([, v]: [T, Decimal]): boolean => !v.isZero;\n\n/** @internal */\nexport const _normalizeTroveCreation = (\n  params: Record<string, Decimalish | undefined>,\n): TroveCreationParams<Decimal> => {\n  const definedEntries = Object.entries(params).filter(valueIsDefined);\n  checkAllowedTroveCreationKeys(definedEntries);\n  const nonZeroEntries = definedEntries.map(decimalize);\n\n  return troveCreationParamsFromEntries(nonZeroEntries);\n};\n\nconst allowedTroveAdjustmentKeys: AllowedKey<TroveAdjustmentParams>[] = [\n  'depositCollateral',\n  'withdrawCollateral',\n  'borrowARTH',\n  'repayARTH',\n];\n\nfunction checkAllowedTroveAdjustmentKeys<T>(\n  entries: [string, T][],\n): asserts entries is [AllowedKey<TroveAdjustmentParams>, T][] {\n  const badKeys = entries\n    .filter(([k]) => !(allowedTroveAdjustmentKeys as string[]).includes(k))\n    .map(([k]) => `'${k}'`);\n\n  if (badKeys.length > 0) {\n    throw new Error(`TroveAdjustmentParams: property ${badKeys.join(', ')} not allowed`);\n  }\n}\n\nconst collateralChangeFrom = <T>({\n  depositCollateral,\n  withdrawCollateral,\n}: Partial<Record<AllowedKey<TroveAdjustmentParams>, T>>): _CollateralChange<T> | undefined => {\n  if (depositCollateral !== undefined && withdrawCollateral !== undefined) {\n    throw new Error(\n      \"TroveAdjustmentParams: 'depositCollateral' and 'withdrawCollateral' \" +\n        \"can't be present at the same time\",\n    );\n  }\n\n  if (depositCollateral !== undefined) {\n    return { depositCollateral };\n  }\n\n  if (withdrawCollateral !== undefined) {\n    return { withdrawCollateral };\n  }\n};\n\nconst debtChangeFrom = <T>({\n  borrowARTH,\n  repayARTH,\n}: Partial<Record<AllowedKey<TroveAdjustmentParams>, T>>): _DebtChange<T> | undefined => {\n  if (borrowARTH !== undefined && repayARTH !== undefined) {\n    throw new Error(\n      \"TroveAdjustmentParams: 'borrowARTH' and 'repayARTH' can't be present at the same time\",\n    );\n  }\n\n  if (borrowARTH !== undefined) {\n    return { borrowARTH };\n  }\n\n  if (repayARTH !== undefined) {\n    return { repayARTH };\n  }\n};\n\nconst troveAdjustmentParamsFromEntries = <T>(\n  entries: [AllowedKey<TroveAdjustmentParams>, T][],\n): TroveAdjustmentParams<T> => {\n  const params = Object.fromEntries(entries) as Partial<\n    Record<AllowedKey<TroveAdjustmentParams>, T>\n  >;\n\n  const collateralChange = collateralChangeFrom(params);\n  const debtChange = debtChangeFrom(params);\n\n  if (collateralChange !== undefined && debtChange !== undefined) {\n    return { ...collateralChange, ...debtChange };\n  }\n\n  if (collateralChange !== undefined) {\n    return collateralChange;\n  }\n\n  if (debtChange !== undefined) {\n    return debtChange;\n  }\n\n  throw new Error('TroveAdjustmentParams: must include at least one non-zero parameter');\n};\n\n/** @internal */\nexport const _normalizeTroveAdjustment = (\n  params: Record<string, Decimalish | undefined>,\n): TroveAdjustmentParams<Decimal> => {\n  const definedEntries = Object.entries(params).filter(valueIsDefined);\n  checkAllowedTroveAdjustmentKeys(definedEntries);\n  const nonZeroEntries = definedEntries.map(decimalize).filter(nonZero);\n\n  return troveAdjustmentParamsFromEntries(nonZeroEntries);\n};\n\nconst applyFee = (borrowingRate: Decimalish, debtIncrease: Decimal) =>\n  debtIncrease.mul(Decimal.ONE.add(borrowingRate));\n\nconst unapplyFee = (borrowingRate: Decimalish, debtIncrease: Decimal) =>\n  debtIncrease._divCeil(Decimal.ONE.add(borrowingRate));\n\nconst NOMINAL_COLLATERAL_RATIO_PRECISION = Decimal.from(100);\n\n/**\n * A combination of collateral and debt.\n *\n * @public\n */\nexport class Trove {\n  /** Amount of native currency (e.g. Ether) collateralized. */\n  readonly collateral: Decimal;\n\n  /** Amount of ARTH owed. */\n  readonly debt: Decimal;\n\n  /** @internal */\n  constructor(collateral = Decimal.ZERO, debt = Decimal.ZERO) {\n    this.collateral = collateral;\n    this.debt = debt;\n  }\n\n  get isEmpty(): boolean {\n    return this.collateral.isZero && this.debt.isZero;\n  }\n\n  /**\n   * Amount of ARTH that must be repaid to close this Trove.\n   *\n   * @remarks\n   * This doesn't include the liquidation reserve, which is refunded in case of normal closure.\n   */\n  get netDebt(): Decimal {\n    if (this.debt.lt(ARTH_LIQUIDATION_RESERVE)) {\n      throw new Error(`netDebt should not be used when debt < ${ARTH_LIQUIDATION_RESERVE}`);\n    }\n\n    return this.debt.sub(ARTH_LIQUIDATION_RESERVE);\n  }\n\n  /** @internal */\n  get _nominalCollateralRatio(): Decimal {\n    return this.collateral.mulDiv(NOMINAL_COLLATERAL_RATIO_PRECISION, this.debt);\n  }\n\n  /**\n   * Calculate the result of an {@link TransactableLiquity.openTrove | openTrove()} transaction.\n   *\n   * @param params - Parameters of the transaction.\n   * @param borrowingRate - Borrowing rate to use when calculating the Trove's debt.\n   */\n  static create(params: TroveCreationParams<Decimalish>, borrowingRate?: Decimalish): Trove {\n    return _emptyTrove.apply(troveCreation(_normalizeTroveCreation(params)), borrowingRate);\n  }\n\n  /**\n   * Calculate the parameters of an {@link TransactableLiquity.openTrove | openTrove()} transaction\n   * that will result in the given Trove.\n   *\n   * @param that - The Trove to recreate.\n   * @param borrowingRate - Current borrowing rate.\n   */\n  static recreate(that: Trove, borrowingRate?: Decimalish): TroveCreationParams<Decimal> {\n    const change = _emptyTrove.whatChanged(that, borrowingRate);\n    assert(change?.type === 'creation');\n    return change.params;\n  }\n\n  /** Calculate the Trove's collateralization ratio at a given price. */\n  collateralRatio(price: Decimalish): Decimal {\n    return this.collateral.mulDiv(price, this.debt);\n  }\n\n  /**\n   * Whether the Trove is undercollateralized at a given price.\n   *\n   * @returns\n   * `true` if the Trove's collateralization ratio is less than the\n   * {@link MINIMUM_COLLATERAL_RATIO}.\n   */\n  collateralRatioIsBelowMinimum(price: Decimalish): boolean {\n    return this.collateralRatio(price).lt(MINIMUM_COLLATERAL_RATIO);\n  }\n\n  /**\n   * Whether the collateralization ratio is less than the {@link CRITICAL_COLLATERAL_RATIO} at a\n   * given price.\n   *\n   * @example\n   * Can be used to check whether the Liquity protocol is in recovery mode by using it on the return\n   * value of {@link ReadableLiquity.getTotal | getTotal()}. For example:\n   *\n   * ```typescript\n   * const total = await liquity.getTotal();\n   * const price = await liquity.getPrice();\n   *\n   * if (total.collateralRatioIsBelowCritical(price)) {\n   *   // Recovery mode is active\n   * }\n   * ```\n   */\n  collateralRatioIsBelowCritical(price: Decimalish): boolean {\n    return this.collateralRatio(price).lt(CRITICAL_COLLATERAL_RATIO);\n  }\n\n  /** Whether the Trove is sufficiently collateralized to be opened during recovery mode. */\n  isOpenableInRecoveryMode(price: Decimalish): boolean {\n    return this.collateralRatio(price).gte(CRITICAL_COLLATERAL_RATIO);\n  }\n\n  /** @internal */\n  toString(): string {\n    return `{ collateral: ${this.collateral}, debt: ${this.debt} }`;\n  }\n\n  equals(that: Trove): boolean {\n    return this.collateral.eq(that.collateral) && this.debt.eq(that.debt);\n  }\n\n  add(that: Trove): Trove {\n    return new Trove(this.collateral.add(that.collateral), this.debt.add(that.debt));\n  }\n\n  addCollateral(collateral: Decimalish): Trove {\n    return new Trove(this.collateral.add(collateral), this.debt);\n  }\n\n  addDebt(debt: Decimalish): Trove {\n    return new Trove(this.collateral, this.debt.add(debt));\n  }\n\n  subtract(that: Trove): Trove {\n    const { collateral, debt } = that;\n\n    return new Trove(\n      this.collateral.gt(collateral) ? this.collateral.sub(collateral) : Decimal.ZERO,\n      this.debt.gt(debt) ? this.debt.sub(debt) : Decimal.ZERO,\n    );\n  }\n\n  subtractCollateral(collateral: Decimalish): Trove {\n    return new Trove(\n      this.collateral.gt(collateral) ? this.collateral.sub(collateral) : Decimal.ZERO,\n      this.debt,\n    );\n  }\n\n  subtractDebt(debt: Decimalish): Trove {\n    return new Trove(this.collateral, this.debt.gt(debt) ? this.debt.sub(debt) : Decimal.ZERO);\n  }\n\n  multiply(multiplier: Decimalish): Trove {\n    return new Trove(this.collateral.mul(multiplier), this.debt.mul(multiplier));\n  }\n\n  setCollateral(collateral: Decimalish): Trove {\n    return new Trove(Decimal.from(collateral), this.debt);\n  }\n\n  setDebt(debt: Decimalish): Trove {\n    return new Trove(this.collateral, Decimal.from(debt));\n  }\n\n  /**\n   * Calculate the difference between this Trove and another.\n   *\n   * @param that - The other Trove.\n   * @param borrowingRate - Borrowing rate to use when calculating a borrowed amount.\n   *\n   * @returns\n   * An object representing the change, or `undefined` if the Troves are equal.\n   */\n  whatChanged(\n    that: Trove,\n    borrowingRate: Decimalish = MINIMUM_BORROWING_RATE,\n  ): TroveChange<Decimal> | undefined {\n    if (this.collateral.eq(that.collateral) && this.debt.eq(that.debt)) {\n      return undefined;\n    }\n\n    if (this.isEmpty) {\n      if (that.debt.lt(ARTH_LIQUIDATION_RESERVE)) {\n        return invalidTroveCreation(that, 'missingLiquidationReserve');\n      }\n\n      return troveCreation({\n        depositCollateral: that.collateral,\n        borrowARTH: unapplyFee(borrowingRate, that.netDebt),\n      });\n    }\n\n    if (that.isEmpty) {\n      return troveClosure(\n        this.netDebt.nonZero\n          ? { withdrawCollateral: this.collateral, repayARTH: this.netDebt }\n          : { withdrawCollateral: this.collateral },\n      );\n    }\n\n    return this.collateral.eq(that.collateral)\n      ? troveAdjustment<Decimal>(\n          this._debtChange(that, borrowingRate),\n          that.debt.zero ? 'debt' : undefined,\n        )\n      : this.debt.eq(that.debt)\n      ? troveAdjustment<Decimal>(\n          this._collateralChange(that),\n          that.collateral.zero ? 'collateral' : undefined,\n        )\n      : troveAdjustment<Decimal>(\n          {\n            ...this._debtChange(that, borrowingRate),\n            ...this._collateralChange(that),\n          },\n          (that.debt.zero ? 'debt' : undefined) ??\n            (that.collateral.zero ? 'collateral' : undefined),\n        );\n  }\n\n  /**\n   * Make a new Trove by applying a {@link TroveChange} to this Trove.\n   *\n   * @param change - The change to apply.\n   * @param borrowingRate - Borrowing rate to use when adding a borrowed amount to the Trove's debt.\n   */\n  apply(\n    change: TroveChange<Decimal> | undefined,\n    borrowingRate: Decimalish = MINIMUM_BORROWING_RATE,\n  ): Trove {\n    if (!change) {\n      return this;\n    }\n\n    switch (change.type) {\n      case 'invalidCreation':\n        if (!this.isEmpty) {\n          throw new Error(\"Can't create onto existing Trove\");\n        }\n\n        return change.invalidTrove;\n\n      case 'creation': {\n        if (!this.isEmpty) {\n          throw new Error(\"Can't create onto existing Trove\");\n        }\n\n        const { depositCollateral, borrowARTH } = change.params;\n\n        return new Trove(\n          depositCollateral,\n          ARTH_LIQUIDATION_RESERVE.add(applyFee(borrowingRate, borrowARTH)),\n        );\n      }\n\n      case 'closure':\n        if (this.isEmpty) {\n          throw new Error(\"Can't close empty Trove\");\n        }\n\n        return _emptyTrove;\n\n      case 'adjustment': {\n        const {\n          setToZero,\n          params: { depositCollateral, withdrawCollateral, borrowARTH, repayARTH },\n        } = change;\n\n        const collateralDecrease = withdrawCollateral ?? Decimal.ZERO;\n        const collateralIncrease = depositCollateral ?? Decimal.ZERO;\n        const debtDecrease = repayARTH ?? Decimal.ZERO;\n        const debtIncrease = borrowARTH ? applyFee(borrowingRate, borrowARTH) : Decimal.ZERO;\n\n        return setToZero === 'collateral'\n          ? this.setCollateral(Decimal.ZERO).addDebt(debtIncrease).subtractDebt(debtDecrease)\n          : setToZero === 'debt'\n          ? this.setDebt(Decimal.ZERO)\n              .addCollateral(collateralIncrease)\n              .subtractCollateral(collateralDecrease)\n          : this.add(new Trove(collateralIncrease, debtIncrease)).subtract(\n              new Trove(collateralDecrease, debtDecrease),\n            );\n      }\n    }\n  }\n\n  /**\n   * Calculate the result of an {@link TransactableLiquity.adjustTrove | adjustTrove()} transaction\n   * on this Trove.\n   *\n   * @param params - Parameters of the transaction.\n   * @param borrowingRate - Borrowing rate to use when adding to the Trove's debt.\n   */\n  adjust(params: TroveAdjustmentParams<Decimalish>, borrowingRate?: Decimalish): Trove {\n    return this.apply(troveAdjustment(_normalizeTroveAdjustment(params)), borrowingRate);\n  }\n\n  /**\n   * Calculate the parameters of an {@link TransactableLiquity.adjustTrove | adjustTrove()}\n   * transaction that will change this Trove into the given Trove.\n   *\n   * @param that - The desired result of the transaction.\n   * @param borrowingRate - Current borrowing rate.\n   */\n  adjustTo(that: Trove, borrowingRate?: Decimalish): TroveAdjustmentParams<Decimal> {\n    const change = this.whatChanged(that, borrowingRate);\n    assert(change?.type === 'adjustment');\n    return change.params;\n  }\n\n  private _debtChange({ debt }: Trove, borrowingRate: Decimalish): _DebtChange<Decimal> {\n    return debt.gt(this.debt)\n      ? { borrowARTH: unapplyFee(borrowingRate, debt.sub(this.debt)) }\n      : { repayARTH: this.debt.sub(debt) };\n  }\n\n  private _collateralChange({ collateral }: Trove): _CollateralChange<Decimal> {\n    return collateral.gt(this.collateral)\n      ? { depositCollateral: collateral.sub(this.collateral) }\n      : { withdrawCollateral: this.collateral.sub(collateral) };\n  }\n}\n\n/** @internal */\nexport const _emptyTrove = new Trove();\n\n/**\n * Represents whether a UserTrove is open or not, or why it was closed.\n *\n * @public\n */\nexport type UserTroveStatus =\n  | 'nonExistent'\n  | 'open'\n  | 'closedByOwner'\n  | 'closedByLiquidation'\n  | 'closedByRedemption';\n\n/**\n * A Trove that is associated with a single owner.\n *\n * @remarks\n * The SDK uses the base {@link Trove} class as a generic container of collateral and debt, for\n * example to represent the {@link ReadableLiquity.getTotal | total collateral and debt} locked up\n * in the protocol.\n *\n * The `UserTrove` class extends `Trove` with extra information that's only available for Troves\n * that are associated with a single owner (such as the owner's address, or the Trove's status).\n *\n * @public\n */\nexport class UserTrove extends Trove {\n  /** Address that owns this Trove. */\n  readonly ownerAddress: string;\n\n  /** Provides more information when the UserTrove is empty. */\n  readonly status: UserTroveStatus;\n\n  /** @internal */\n  constructor(\n    ownerAddress: string,\n    status: UserTroveStatus,\n    collateral?: Decimal,\n    debt?: Decimal,\n  ) {\n    super(collateral, debt);\n\n    this.ownerAddress = ownerAddress;\n    this.status = status;\n  }\n\n  equals(that: UserTrove): boolean {\n    return (\n      super.equals(that) &&\n      this.ownerAddress === that.ownerAddress &&\n      this.status === that.status\n    );\n  }\n\n  /** @internal */\n  toString(): string {\n    return (\n      `{ ownerAddress: \"${this.ownerAddress}\"` +\n      `, collateral: ${this.collateral}` +\n      `, debt: ${this.debt}` +\n      `, status: \"${this.status}\" }`\n    );\n  }\n}\n\n/**\n * A Trove in its state after the last direct modification.\n *\n * @remarks\n * The Trove may have received collateral and debt shares from liquidations since then.\n * Use {@link TroveWithPendingRedistribution.applyRedistribution | applyRedistribution()} to\n * calculate the Trove's most up-to-date state.\n *\n * @public\n */\nexport class TroveWithPendingRedistribution extends UserTrove {\n  private readonly stake: Decimal;\n  private readonly snapshotOfTotalRedistributed: Trove;\n\n  /** @internal */\n  constructor(\n    ownerAddress: string,\n    status: UserTroveStatus,\n    collateral?: Decimal,\n    debt?: Decimal,\n    stake = Decimal.ZERO,\n    snapshotOfTotalRedistributed = _emptyTrove,\n  ) {\n    super(ownerAddress, status, collateral, debt);\n\n    this.stake = stake;\n    this.snapshotOfTotalRedistributed = snapshotOfTotalRedistributed;\n  }\n\n  applyRedistribution(totalRedistributed: Trove): UserTrove {\n    const afterRedistribution = this.add(\n      totalRedistributed.subtract(this.snapshotOfTotalRedistributed).multiply(this.stake),\n    );\n\n    return new UserTrove(\n      this.ownerAddress,\n      this.status,\n      afterRedistribution.collateral,\n      afterRedistribution.debt,\n    );\n  }\n\n  equals(that: TroveWithPendingRedistribution): boolean {\n    return (\n      super.equals(that) &&\n      this.stake.eq(that.stake) &&\n      this.snapshotOfTotalRedistributed.equals(that.snapshotOfTotalRedistributed)\n    );\n  }\n}\n","import { Provider } from '@ethersproject/abstract-provider';\nimport { Signer } from '@ethersproject/abstract-signer';\nimport { TransactionResponse } from '@ethersproject/providers';\nimport { BigNumber, Contract } from 'ethers';\nimport { formatUnits } from 'ethers/lib/utils';\n\nclass ERC20 {\n  address: string;\n  symbol: string;\n  decimal: number;\n  protected contract: Contract;\n\n  constructor(address: string, provider: Signer | Provider, symbol: string, decimal = 18) {\n    this.contract = new Contract(address, ABI, provider);\n    this.address = address;\n    this.symbol = symbol;\n    this.decimal = decimal;\n  }\n\n  get estimateGas() {\n    return this.contract.estimateGas;\n  }\n\n  connect(signerOrProvider: Signer | Provider) {\n    this.contract = new Contract(this.address, ABI, signerOrProvider);\n  }\n\n  totalSupply(): Promise<BigNumber> {\n    return this.contract.totalSupply();\n  }\n\n  balanceOf(account: string): Promise<BigNumber> {\n    return this.contract.balanceOf(account);\n  }\n\n  transfer(recipient: string, amount: BigNumber): Promise<TransactionResponse> {\n    return this.contract.transfer(recipient, amount);\n  }\n\n  allowance(owner: string, spender: string): Promise<BigNumber> {\n    return this.contract.allowance(owner, spender);\n  }\n\n  approve(spender: string, amount: BigNumber): Promise<TransactionResponse> {\n    return this.contract.approve(spender, amount);\n  }\n\n  transferFrom(\n    sender: string,\n    recipient: string,\n    amount: BigNumber,\n  ): Promise<TransactionResponse> {\n    return this.contract.transferFro(sender, recipient, amount);\n  }\n\n  async displayedBalanceOf(account: string): Promise<string> {\n    const balance = await this.balanceOf(account);\n    return formatUnits(balance, this.decimal);\n  }\n\n  async displayedTotalSupply(): Promise<string> {\n    const supply = await this.totalSupply();\n    return Number(formatUnits(supply, this.decimal)).toFixed(0);\n  }\n}\n\nexport default ERC20;\n\nexport const ABI = [\n  {\n    name: 'Approval',\n    type: 'event',\n    anonymous: false,\n    inputs: [\n      { indexed: true, internalType: 'address', name: 'owner', type: 'address' },\n      { indexed: true, internalType: 'address', name: 'spender', type: 'address' },\n      { indexed: false, internalType: 'uint256', name: 'value', type: 'uint256' },\n    ],\n  },\n  {\n    anonymous: false,\n    inputs: [\n      { indexed: true, internalType: 'address', name: 'from', type: 'address' },\n      { indexed: true, internalType: 'address', name: 'to', type: 'address' },\n      { indexed: false, internalType: 'uint256', name: 'value', type: 'uint256' },\n    ],\n    name: 'Transfer',\n    type: 'event',\n  },\n  {\n    constant: true,\n    inputs: [],\n    name: 'totalSupply',\n    outputs: [{ internalType: 'uint256', name: '', type: 'uint256' }],\n    payable: false,\n    stateMutability: 'view',\n    type: 'function',\n  },\n  {\n    constant: true,\n    inputs: [],\n    name: 'symbol',\n    outputs: [{ internalType: 'string', name: '', type: 'string' }],\n    payable: false,\n    stateMutability: 'view',\n    type: 'function',\n  },\n  {\n    constant: true,\n    inputs: [{ internalType: 'address', name: 'account', type: 'address' }],\n    name: 'balanceOf',\n    outputs: [{ internalType: 'uint256', name: '', type: 'uint256' }],\n    payable: false,\n    stateMutability: 'view',\n    type: 'function',\n  },\n  {\n    constant: false,\n    inputs: [\n      { internalType: 'address', name: 'recipient', type: 'address' },\n      { internalType: 'uint256', name: 'amount', type: 'uint256' },\n    ],\n    name: 'transfer',\n    outputs: [{ internalType: 'bool', name: '', type: 'bool' }],\n    payable: false,\n    stateMutability: 'nonpayable',\n    type: 'function',\n  },\n  {\n    constant: true,\n    inputs: [\n      { internalType: 'address', name: 'owner', type: 'address' },\n      { internalType: 'address', name: 'spender', type: 'address' },\n    ],\n    name: 'allowance',\n    outputs: [{ internalType: 'uint256', name: '', type: 'uint256' }],\n    payable: false,\n    stateMutability: 'view',\n    type: 'function',\n  },\n  {\n    constant: false,\n    inputs: [\n      { internalType: 'address', name: 'spender', type: 'address' },\n      { internalType: 'uint256', name: 'amount', type: 'uint256' },\n    ],\n    name: 'approve',\n    outputs: [{ internalType: 'bool', name: '', type: 'bool' }],\n    payable: false,\n    stateMutability: 'nonpayable',\n    type: 'function',\n  },\n  {\n    constant: false,\n    inputs: [\n      { internalType: 'address', name: 'sender', type: 'address' },\n      { internalType: 'address', name: 'recipient', type: 'address' },\n      { internalType: 'uint256', name: 'amount', type: 'uint256' },\n    ],\n    name: 'transferFrom',\n    outputs: [{ internalType: 'bool', name: '', type: 'bool' }],\n    payable: false,\n    stateMutability: 'nonpayable',\n    type: 'function',\n  },\n];\n","import { EventEmitter } from 'events';\n\nconst multicall = require('@makerdao/multicall');\n\nexport interface IMulticallInput {\n  key: string;\n  target: string;\n  call: (string | number)[];\n  convertResult: (val: any) => any;\n}\n\nexport default class Multicall extends EventEmitter {\n  calls: IMulticallInput[] = [];\n  watcher: any;\n  rpcUrl: string;\n  address: string;\n\n  constructor(rpcUrl: string, address: string) {\n    super();\n    this.rpcUrl = rpcUrl;\n    this.address = address;\n    this.calls = [];\n    this._recreateWatcher();\n  }\n\n  addCall = (data: IMulticallInput): string => {\n    this.calls.push(data);\n    this._recreateWatcher();\n    this.watcher.tap(() => this._getMutlicallCalls([data]));\n    return data.key;\n  };\n\n  removeCall = (key: string): string => {\n    const index = this.calls.findIndex((d) => d.key === key);\n    if (index <= 0) return;\n    this.calls = this.calls.splice(index, 1);\n    this._recreateWatcher();\n  };\n\n  addCalls = (data: IMulticallInput[]): string[] => {\n    data.forEach((d) => this.calls.push(d));\n    this._recreateWatcher();\n    this.watcher.tap(() => this._getMutlicallCalls(data));\n    return data.map((d) => d.key);\n  };\n\n  private _getMutlicallCalls = (calls: IMulticallInput[]) => {\n    return calls.map((c) => ({\n      target: c.target,\n      call: c.call,\n      returns: [[c.key, c.convertResult]],\n    }));\n  };\n\n  private _processUpdates = (update: { type: any; value: any }) => {\n    this.emit(update.type, update.value);\n  };\n\n  private _recreateWatcher = () => {\n    if (this.watcher) this.watcher.stop();\n\n    const config = {\n      rpcUrl: this.rpcUrl,\n      multicallAddress: this.address,\n    };\n\n    this.watcher = multicall.createWatcher(this._getMutlicallCalls(this.calls), config);\n    this.watcher.subscribe(this._processUpdates);\n\n    // Start the watcher polling.\n    this.watcher.start();\n  };\n}\n","import ARTHController from './abi/ARTHController.json';\nimport ARTHRedeemer from './abi/ARTHRedeemer.json';\nimport ARTHShares from './abi/ARTHShares.json';\nimport ARTHStablecoin from './abi/ARTHStablecoin.json';\nimport ARTHUSDWrapper from './abi/ARTHUSDWrapper.json';\nimport ActivePool from './abi/ActivePool.json';\nimport BaseGaugeV2UniV3 from './abi/BaseGaugeV2UniV3.json';\nimport BaseV2Bribes from './abi/BaseV2Bribes.json';\nimport BasicStaking from './abi/BasicStaking.json';\nimport BasicStakingSpecificReward from './abi/BasicStakingSpecificReward.json';\nimport Boardroom from './abi/Boardroom.json';\nimport BorrowerOperations from './abi/BorrowerOperations.json';\nimport CollSurplusPool from './abi/CollSurplusPool.json';\nimport CommunityIssuance from './abi/CommunityIssuance.json';\nimport Controller from './abi/Controller.json';\nimport CurveSwapRouter from './abi/CurveSwapRouter.json';\nimport DefaultPool from './abi/DefaultPool.json';\nimport DotDotStaking from './abi/DotDotStaking.json';\nimport ERC20Mock from './abi/ERC20Mock.json';\nimport EcosystemFund from './abi/EcosystemFund.json';\nimport EllipsisStaking from './abi/EllipsisStaking.json';\nimport Faucet from './abi/Faucet.json';\nimport FlashLoanLeverage from './abi/FlashLoanLeverage.json';\nimport FlashLoanMinter from './abi/FlashLoanMinter.json';\nimport GMUOracle from './abi/GMUOracle.json';\nimport GasPool from './abi/GasPool.json';\nimport Governance from './abi/Governance.json';\nimport HintHelpers from './abi/HintHelpers.json';\nimport IARTHETHWithdraw from './abi/IARTHETHWithdraw.json';\nimport IERC20 from './abi/IERC20.json';\nimport ILeverageStrategy from './abi/ILeverageStrategy.json';\nimport IStabilityPoolW from './abi/IStabilityPoolW.json';\nimport IStableSwap from './abi/IStableSwap.json';\nimport IUniswapV3Pool from './abi/IUniswapV3Pool.json';\nimport IWETH from './abi/IWETH.json';\nimport IWrapper from './abi/IWrapper.json';\nimport IZapDepositor from './abi/IZapDepositor.json';\nimport IncentivePool from './abi/IncentivePool.json';\nimport LPExpsoure from './abi/LPExpsoure.json';\nimport LeverageAccount from './abi/LeverageAccount.json';\nimport LeverageAccountRegistry from './abi/LeverageAccountRegistry.json';\nimport LockupContractFactory from './abi/LockupContractFactory.json';\nimport MAHAKeeper from './abi/MAHAKeeper.json';\nimport MahaToken from './abi/MahaToken.json';\nimport MockAggregator from './abi/MockAggregator.json';\nimport MockMaha from './abi/MockMaha.json';\nimport MockUniswapOracle from './abi/MockUniswapOracle.json';\nimport MultiTroveGetter from './abi/MultiTroveGetter.json';\nimport Multicall from './abi/Multicall.json';\nimport PoolToken from './abi/PoolToken.json';\nimport PriceFeed from './abi/PriceFeed.json';\nimport PriceFeedTestnet from './abi/PriceFeedTestnet.json';\nimport ProxyRegistry from './abi/ProxyRegistry.json';\nimport SortedTroves from './abi/SortedTroves.json';\nimport StabilityPool from './abi/StabilityPool.json';\nimport StableSwap from './abi/StableSwap.json';\nimport TroveManager from './abi/TroveManager.json';\nimport UniswapPairOracle from './abi/UniswapPairOracle.json';\nimport UniswapV2Factory from './abi/UniswapV2Factory.json';\nimport UniswapV2Pair from './abi/UniswapV2Pair.json';\nimport UniswapV2Router02 from './abi/UniswapV2Router02.json';\nimport WMaticExposure from './abi/WMaticExposure.json';\nimport WStakingRewards from './abi/WStakingRewards.json';\n\ntype IABIS = {\n  [key: string]: any[];\n};\n\nconst ret: IABIS = {\n  ActivePool,\n  ARTHRedeemer,\n  ARTHController,\n  ARTHShares,\n  ARTHStablecoin,\n  BasicStaking,\n  EllipsisStaking,\n  DotDotStaking,\n  LeverageAccount,\n  BasicStakingSpecificReward,\n  Boardroom,\n  ILeverageStrategy,\n  BorrowerOperations,\n  CollSurplusPool,\n  LPExpsoure,\n  CommunityIssuance,\n  Controller,\n  DefaultPool,\n  LeverageAccountRegistry,\n  EcosystemFund,\n  ERC20Mock,\n  Faucet,\n  FlashLoanLeverage,\n  FlashLoanMinter,\n  GasPool,\n  GMUOracle,\n  Governance,\n  HintHelpers,\n  IERC20,\n  IWETH,\n  IWrapper,\n  LockupContractFactory,\n  MahaToken,\n  WMaticExposure,\n  MockAggregator,\n  MockMaha,\n  MockUniswapOracle,\n  Multicall,\n  MultiTroveGetter,\n  PoolToken,\n  PriceFeed,\n  PriceFeedTestnet,\n  ProxyRegistry,\n  SortedTroves,\n  StabilityPool,\n  IncentivePool,\n  TroveManager,\n  UniswapPairOracle,\n  UniswapV2Factory,\n  UniswapV2Pair,\n  UniswapV2Router02,\n  WStakingRewards,\n  ARTHUSDWrapper,\n  CurveSwapRouter,\n  IStableSwap,\n  IZapDepositor,\n  StableSwap,\n  MAHAKeeper,\n  BaseGaugeV2UniV3,\n  BaseV2Bribes,\n  IUniswapV3Pool,\n  IARTHETHWithdraw,\n  IStabilityPoolW,\n};\n\nexport default ret;\n","import { Contract, ethers } from \"ethers\";\nimport Web3 from \"web3\";\n\n\n\nimport * as statsState from \"../state/stats/controller\";\nimport * as tokenState from \"../state/token/controller\";\nimport * as troveState from \"../state/trove/controller\";\nimport { decimalify } from \"../utils/Decimal\";\nimport { Trove } from \"../utils/Trove\";\nimport { getDefaultProvider } from \"../utils/provider\";\n\n\n\nimport ERC20 from \"./ERC20\";\nimport Multicall from \"./Mulitcall\";\nimport { Configuration, FarmingConfigurations, PoolsStaticInfo, StrategiesStaticInfo, TokeniseStaticInfo, TroveStaticInfo, configKeys } from \"./config\";\nimport ABIS from \"./deployments/abi\";\n\n\n/**\n * An API module of ARTH contracts.\n * All contract-interacting domain logic should be defined in here.\n */\nexport class Protocol {\n  myAccount: string;\n\n  web3: Web3;\n\n  _signer?: ethers.Signer;\n\n  _config: {\n    [chainId: number]: Configuration;\n  };\n\n  _contracts: {\n    [chainId: number]: { [name: string]: Contract };\n  };\n\n  _tokens: {\n    [chainId: number]: { [name: string]: ERC20 };\n  };\n\n  _provider: {\n    [chainId: number]: ethers.providers.JsonRpcProvider;\n  };\n\n  multicall: { [chainId: number]: Multicall };\n\n  _activeNetwork: number;\n\n  constructor(cfg: { [chainId: number]: Configuration }, chainId: number) {\n    this._activeNetwork = chainId;\n    this._contracts = {};\n    this._tokens = {};\n    this.multicall = {};\n    this._provider = {};\n\n    for (const [chainIdString, config] of Object.entries(cfg)) {\n      const chainId = Number(chainIdString);\n      const { deployments } = config;\n      this._provider[chainId] = new ethers.providers.JsonRpcProvider(\n        config.defaultProvider\n      );\n      const networkConfig: { [name: string]: Contract } = {};\n      const tokens: { [name: string]: ERC20 } = {};\n\n      for (const [name, deployment] of Object.entries(deployments)) {\n        if (!deployment.abi) continue;\n        //to push all erc20 tokens in tokens array\n        if (cfg[chainId].supportedTokens.includes(name)) {\n          tokens[name] = new ERC20(\n            deployments[name].address,\n            this._provider[chainId],\n            name,\n            cfg[chainId].decimalOverrides[name] || 18,\n          );\n        }\n\n        //to push all others as contracts\n        networkConfig[name] = new Contract(\n          deployment.address,\n          ABIS[deployment.abi],\n          this._provider[chainId],\n        );\n      }\n      this._contracts[chainId] = networkConfig;\n      this._tokens[chainId] = tokens;\n      this.multicall[chainId] = new Multicall(\n        cfg[chainId].defaultProvider,\n        deployments.Multicall.address,\n      );\n    }\n\n    this._config = cfg;\n  }\n\n  get isUnlocked(): boolean {\n    return !!this.myAccount;\n  }\n\n  /**\n   * @param provider From an unlocked wallet. (e.g. Metamask)\n   * @param account An address of unlocked wallet account.\n   */\n  unlockWallet(provider: any, account: string, dispatch: any, chainId: number) {\n    // @ts-ignore\n    const newProvider = new ethers.providers.Web3Provider(provider);\n    this.web3 = new Web3(provider);\n    this._signer = newProvider.getSigner(0);\n    this.myAccount = account;\n\n    for (const [name, contract] of Object.entries(this._contracts[chainId])) {\n      this._contracts[Number(chainId)][name] = contract.connect(this._signer);\n    }\n\n    for (const token of Object.values(this._tokens[chainId])) {\n      if (token && token.address) token.connect(this._signer);\n    }\n\n    tokenState.initUser(this, dispatch, chainId);\n    troveState.initUser(this, dispatch, chainId);\n    statsState.initStats(this, dispatch, chainId);\n  }\n\n  signer = () => {\n    return this._signer;\n  };\n\n  getBlockTimestamp = () => {\n    return Math.floor(Date.now() / 1000);\n  };\n\n  getAllTroves = (chainId: number, account?: string): string[] => {\n    // @ts-ignore\n    const data: TroveStaticInfo = this.config('troveStaticInfo', chainId);\n    return [data.contractPrefix];\n  };\n\n  getTotal = async (contractPrefix: string, chainId: number): Promise<Trove> => {\n    const [activePool, defaultPool] = await Promise.all([\n      this.getActivePoolTrove(contractPrefix, chainId),\n      this.getDefaultPoolTrove(contractPrefix, chainId),\n    ]);\n\n    return activePool.add(defaultPool);\n  };\n\n  getActivePoolTrove = async (contractPrefix: string, chainId: number): Promise<Trove> => {\n    const activePool = this.getActivePool(contractPrefix, chainId);\n\n    const [activeCollateral, activeDebt] = await Promise.all(\n      [activePool.getETH(), activePool.getARTHDebt()].map((getBigNumber) =>\n        getBigNumber.then(decimalify),\n      ),\n    );\n\n    return new Trove(activeCollateral, activeDebt);\n  };\n\n  async getDefaultPoolTrove(contractPrefix: string, chainId: number): Promise<Trove> {\n    const defaultPool = this.getDefaultPool(contractPrefix, chainId);\n\n    const [liquidatedCollateral, closedDebt] = await Promise.all(\n      [defaultPool.getETH(), defaultPool.getARTHDebt()].map((getBigNumber) =>\n        getBigNumber.then(decimalify),\n      ),\n    );\n\n    return new Trove(liquidatedCollateral, closedDebt);\n  }\n\n  updateActiveNetwork(chainId: number, dispatch: any) {\n    this._activeNetwork = chainId;\n    tokenState.initUser(this, dispatch, chainId);\n    troveState.initUser(this, dispatch, chainId);\n  }\n\n  tokens(id: string, chainId: number): ERC20 {\n    return this._tokens[chainId][id];\n  }\n\n  config(id: configKeys, chainId: number) {\n    return this._config[chainId][id];\n  }\n\n  contracts(name: string, chainId: number) {\n    return this._contracts[chainId][name];\n  }\n\n  getMultiTroveGetter(contractPrefix: string, chainId: number) {\n    return this.contracts(`${contractPrefix}MultiTroveGetter`, chainId);\n    // return this.contracts[`${token}MultiTroveGetter`];\n  }\n\n  getGovernance(contractPrefix: string, chainId: number) {\n    return this.contracts(`${contractPrefix}Governance`, chainId);\n  }\n\n  getHintHelper(contractPrefix: string, chainId: number) {\n    return this.contracts(`${contractPrefix}HintHelpers`, chainId);\n  }\n\n  getTroveManager(contractPrefix: string, chainId: number) {\n    return this.contracts(`${contractPrefix}TroveManager`, chainId);\n  }\n\n  getBorrowerOperations(token: string, chainId: number) {\n    return this.contracts(`${token}BorrowerOperations`, chainId);\n  }\n\n  getCollSurplusPool(token: string, chainId: number) {\n    return this.contracts(`${token}CollSurplusPool`, chainId);\n  }\n\n  getPriceFeed(contractPrefix: string, chainId: number) {\n    return this.contracts(`${contractPrefix}PriceFeed`, chainId);\n  }\n\n  getActivePool(contractPrefix: string, chainId: number) {\n    return this.contracts(`${contractPrefix}ActivePool`, chainId);\n  }\n\n  getDefaultPool(contractPrefix: string, chainId: number) {\n    return this.contracts(`${contractPrefix}DefaultPool`, chainId);\n  }\n\n  getSortedTroves(contractPrefix: string, chainId: number) {\n    return this.contracts(`${contractPrefix}SortedTroves`, chainId);\n  }\n\n  getStabilityPool(contractPrefix: string, chainId: number) {\n    return this.contracts(`${contractPrefix}StabilityPool`, chainId);\n  }\n\n  getUpdateOracleContract(chainId: number) {\n    return this.contracts(`MAHAKeeper`, chainId);\n  }\n\n  getController(contractPrefix: string, chainId: number) {\n    if (chainId === 56 || chainId === 97) {\n      return null;\n    } else {\n      return this.contracts(`${contractPrefix}Controller`, chainId);\n    }\n  }\n\n  getLoanEthWithdrawal(chainId: number) {\n    return this.contracts(`ARTHETHWithdraw`, chainId);\n  }\n\n  getStabilityWithdrawal(chainId: number) {\n    return this.contracts(`StabilityPoolW`, chainId);\n  }\n}\n","import React, { createContext, useEffect, useState } from 'react';\nimport { useDispatch } from 'react-redux';\n\nimport config from '../config';\nimport BasisCash from '../protocol';\nimport { useGetAccount, useGetChainId } from '../utils/NetworksCustomHooks';\n\nexport interface BasisCashContext {\n  core: BasisCash;\n}\n\nexport const Context = createContext<BasisCashContext>({ core: null });\n\ninterface IProps {\n  children: any;\n}\n\nexport const ProtocolProvider = (props: IProps) => {\n  const { children } = props;\n  const chainId = useGetChainId();\n  const account = useGetAccount();\n  const [core, setCore] = useState<BasisCash>();\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    if (!core && config) {\n      const newCore = new BasisCash(config, chainId);\n      if (account) {\n        newCore.unlockWallet(window.ethereum, account, dispatch, chainId);\n      }\n      setCore(newCore);\n    } else if (account) {\n      core.unlockWallet(window.ethereum, account, dispatch, chainId);\n    }\n  }, [account, core, dispatch, window.ethereum, chainId]);\n\n  return <Context.Provider value={{ core }}>{children}</Context.Provider>;\n};\n","import { useContext } from 'react';\n\nimport { Context } from '../contexts/ProtocolProvider';\n\nconst useCore = () => {\n  const { core } = useContext(Context);\n  return core;\n};\n\nexport default useCore;\n","import mixpanel from \"mixpanel-browser\";\n\n\n//ToDo: add 'REACT_APP_ISPROD=true' in script for app.arthcoin.com in jenkins\nexport const isProduction = process.env.REACT_APP_ISPROD === 'true';\n\nif (isProduction) {\n  mixpanel.init('b646039d2dd5e1e09deebb592cd041b1');\n} else {\n  mixpanel.init('84c19ce0c48dff4b147960872628919a');\n}\n\nlet env_check = true;\n\nlet actions = {\n  identify: (id) => {\n    if (env_check) {\n      mixpanel.identify(id);\n    }\n  },\n  alias: (id) => {\n    if (env_check) mixpanel.alias(id);\n  },\n  track: (name, props) => {\n    if (env_check) {\n      mixpanel.track(name, props);\n    }\n  },\n  people: {\n    set: (props) => {\n      if (env_check) mixpanel.people.set(props);\n    },\n  },\n};\n\nexport let Mixpanel = actions;\n","import React, { useMemo } from 'react';\nimport { Link } from 'react-router-dom';\nimport Loader from 'react-spinners/PulseLoader';\nimport styled from 'styled-components';\n\nimport { Mixpanel } from '../../../analytics/Mixpanel';\nimport config from '../../../config';\nimport { useGetChainId } from '../../../utils/NetworksCustomHooks';\nimport fileTheme from '../../index';\n\nexport interface tracking_params {\n  position?: string;\n  collateral?: string;\n  action?: 'initial' | 'confirm' | 'cancel';\n  amount?: number;\n  other?: object;\n}\n\nexport interface ButtonProps {\n  children?: React.ReactNode;\n  disabled?: boolean;\n  href?: string;\n  onClick?: () => void;\n  size?: 'sm' | 'md' | 'lg';\n  text?: string;\n  to?: string;\n  theme?: 'default' | 'secondary' | 'tertiary';\n  variant?: 'default' | 'transparent' | 'outlined' | 'rounded';\n  loading?: boolean;\n  tracking_id?: string;\n  tracking_params?: tracking_params;\n  value?: object;\n}\n\nfunction variantToStyle(variant: string = 'default', color: any) {\n  if (variant === 'transparent') {\n    return {\n      fg: {\n        normal: color.white,\n      },\n      bg: {\n        normal: color.transparentog,\n        hover: color.dark[100],\n        selected: color.dark[300],\n      },\n      border: {\n        normal: `1px solid ${color.transparent[300]}`,\n        hover: `1px solid ${color.dark[100]}`,\n        radius: '6px',\n        radiusHover: '6px',\n      },\n    };\n  } else if (variant === 'outlined') {\n    return {\n      fg: { normal: color.transparent[100], hover: color.transparent[100] },\n      bg: {\n        normal: color.transparentog,\n        hover: color.transparentog,\n        disabled: color.transparentog,\n      },\n      border: {\n        normal: `1px solid ${color.transparent[300]}`,\n        hover: `1px solid ${color.transparent[200]}`,\n      },\n    };\n  } else if (variant === 'rounded') {\n    return {\n      fg: { normal: color.primary[300] },\n      bg: { normal: color.transparent[100], disabled: color.transparentog },\n      border: { radius: '19px', radiusHover: '19px' },\n    };\n  } else {\n    return {\n      fg: {},\n      bg: {},\n      border: {},\n    };\n  }\n}\n\nconst Button: React.FC<ButtonProps> = ({\n  children,\n  disabled,\n  href,\n  onClick,\n  size,\n  text,\n  to,\n  theme,\n  variant,\n  loading = false,\n  tracking_id = '',\n  tracking_params = {},\n}) => {\n  const { color, spacing } = fileTheme;\n  const chainId = useGetChainId();\n\n  const variantStyle = variantToStyle(variant, color);\n  let fg = {\n    normal: theme === 'secondary' ? color.teal[200] : color.white,\n    hover: color.white,\n    selected: theme === 'secondary' ? color.teal[200] : color.white,\n    disabled: '',\n    ...variantStyle.fg,\n  };\n  let bg = {\n    normal: `linear-gradient(38.44deg, ${color.pink[200]} 15.81%, ${color.pink[400]} 87.57%)`,\n    hover: color.pink[300],\n    selected: `linear-gradient(180deg, ${color.pink[200]} -11.33%, ${color.pink[400]} 100%)`,\n    disabled: color.transparent[300],\n    ...variantStyle.bg,\n  };\n  let border = {\n    normal: '0',\n    hover: '0',\n    radius: '6px',\n    radiusHover: variantStyle.border.radiusHover || '6px',\n    ...variantStyle.border,\n  };\n\n  let boxShadow: string;\n  let buttonSize: number;\n  let buttonPadding: number;\n  let fontSize: number;\n  switch (size) {\n    case 'sm':\n      buttonPadding = spacing[3];\n      buttonSize = 36;\n      fontSize = 14;\n      break;\n    case 'lg':\n      buttonPadding = spacing[4];\n      buttonSize = 44;\n      fontSize = 14;\n      break;\n    case 'md':\n      buttonPadding = spacing[4];\n      buttonSize = 34;\n      fontSize = 14;\n      break;\n    default:\n      buttonPadding = spacing[4];\n      buttonSize = 44;\n      fontSize = 14;\n  }\n\n  const ButtonChild = useMemo(() => {\n    if (to) {\n      return <StyledLink to={to}>{text}</StyledLink>;\n    } else if (href) {\n      return (\n        <StyledExternalLink href={href} target=\"__blank\">\n          {text}\n        </StyledExternalLink>\n      );\n    } else {\n      return text;\n    }\n  }, [href, text, to]);\n\n  return (\n    <StyledButton\n      boxShadow={'0'}\n      fg={fg}\n      bg={bg}\n      border={border}\n      disabled={disabled || loading}\n      fontSize={fontSize}\n      onClick={() => {\n        const params = {\n          networkName: config[chainId]?.networkDisplayName || '',\n          ...tracking_params,\n        };\n        if (tracking_id) {\n          Mixpanel.track(`buttonClick:${tracking_id.toLowerCase()}`, params);\n        }\n        if (onClick) onClick();\n      }}\n      padding={buttonPadding}\n      size={buttonSize}\n      id={tracking_id}\n    >\n      {!loading && children}\n      {!loading && ButtonChild}\n      <Loader color={'#ffffff'} loading={loading} size={10} margin={2} />\n    </StyledButton>\n  );\n};\n\ninterface StyledButtonProps {\n  fg: { normal: string; hover: string; selected: string; disabled: string };\n  bg: { normal: string; hover: string; selected: string; disabled: string };\n  border: { normal: string; hover: string; radius: string; radiusHover: string };\n  boxShadow: string;\n  disabled?: boolean;\n  fontSize: number;\n  padding: number;\n  size: number;\n}\n\nconst StyledButton = styled.button<StyledButtonProps>`\n  position: relative;\n  color: ${({ fg }) => fg.normal};\n  background: ${({ bg }) => bg.normal};\n  border: ${({ border }) => border.normal};\n  border-radius: ${({ border }) => border.radius};\n  box-shadow: ${(props) => props.boxShadow};\n  pointer-events: ${(props) => (!props.disabled ? undefined : 'none')};\n\n  align-items: center;\n  text-align: center;\n  white-space: nowrap;\n  cursor: pointer;\n  display: flex;\n  font-size: 14px;\n  font-weight: 600;\n  height: ${({ size }) => size}px;\n  justify-content: center;\n  outline: none !important;\n  padding: 10px 22px;\n  width: 100%;\n\n  &:hover {\n    color: ${({ fg }) => fg.hover};\n    background: ${({ bg }) => bg.hover};\n    border: ${({ border }) => border.hover};\n    border-radius: ${({ border }) => border.radiusHover};\n  }\n  &:focus {\n    color: ${({ fg }) => fg.selected};\n    background: ${({ bg }) => bg.selected};\n  }\n  /*&:focus: {\n    outline: none;\n  }*/\n  &:disabled {\n    color: ${({ fg }) => fg.disabled};\n    background: ${({ bg }) => bg.disabled};\n    cursor: not-allowed;\n    opacity: 0.5;\n  }\n`;\n\nconst StyledLink = styled(Link)`\n  align-items: center;\n  color: inherit;\n  display: flex;\n  flex: 1;\n  height: 38px;\n  justify-content: center;\n  margin: 0 ${(props) => -props.theme.spacing[4]}px;\n  padding: 0 ${(props) => props.theme.spacing[4]}px;\n  text-decoration: none;\n  position: absolute;\n  width: inherit;\n`;\n\nconst StyledExternalLink = styled.a`\n  align-items: center;\n  color: inherit;\n  display: flex;\n  flex: 1;\n  height: 38px;\n  justify-content: center;\n  margin: 0 ${(props) => -props.theme.spacing[4]}px;\n  padding: 0 ${(props) => props.theme.spacing[4]}px;\n  text-decoration: none;\n  position: absolute;\n  width: inherit;\n`;\n\nexport default Button;\n","import { BigNumber, ethers } from 'ethers';\nimport { useCallback, useMemo } from 'react';\n\nimport ERC20 from '../../protocol/ERC20';\nimport { useHasPendingApproval, useTransactionAdder } from '../../state/transactions/hooks';\nimport useAllowance from '../state/useAllowance';\n\nconst APPROVE_AMOUNT = ethers.constants.MaxUint256;\nconst APPROVE_BASE_AMOUNT = BigNumber.from('1000000000000000000000000');\n\nexport enum ApprovalState {\n  UNKNOWN,\n  NOT_APPROVED,\n  PENDING,\n  APPROVED,\n}\n\n// returns a variable indicating the state of the approval and a function which approves if necessary or early returns\nfunction useApprove(\n  token: ERC20,\n  spender: string | undefined,\n): [ApprovalState, () => Promise<void>] {\n  const pendingApproval = useHasPendingApproval(token?.address, spender);\n  const currentAllowance = useAllowance(token, spender, pendingApproval);\n\n  // check the current approval status\n  const approvalState: ApprovalState = useMemo(() => {\n    // we might not have enough data to know whether or not we need to approve\n    if (!currentAllowance || !token || !spender) return ApprovalState.UNKNOWN;\n\n    // amountToApprove will be defined if currentAllowance is\n    return currentAllowance.lt(APPROVE_BASE_AMOUNT)\n      ? pendingApproval\n        ? ApprovalState.PENDING\n        : ApprovalState.NOT_APPROVED\n      : ApprovalState.APPROVED;\n  }, [currentAllowance, pendingApproval, token, spender]);\n\n  const addTransaction = useTransactionAdder();\n\n  const approve = useCallback(async (): Promise<void> => {\n    if (!token || !spender) return;\n\n    if (approvalState !== ApprovalState.NOT_APPROVED) {\n      console.error('approve was called unnecessarily');\n      return;\n    }\n\n    if (spender !== undefined) {\n      const response = await token.approve(spender, APPROVE_AMOUNT);\n      addTransaction(response, {\n        summary: `Approve ${token.symbol}`,\n        approval: {\n          tokenAddress: token.address,\n          spender: spender,\n        },\n      });\n    }\n  }, [approvalState, token, spender, addTransaction]);\n\n  return [approvalState, approve];\n}\n\nexport default useApprove;\n","import React from 'react';\nimport styled from 'styled-components';\n\nimport TextWrapper from '../TextWrapper';\n\nexport interface PageHeaderProps {\n  title: string;\n  subTitle: string;\n  showLearnMore?: boolean;\n  learnMoreLink?: string;\n  className?: string;\n}\n\nconst PageHeader = (props: PageHeaderProps) => {\n  const { title, subTitle, showLearnMore = false, learnMoreLink = '', className = '' } = props;\n\n  return (\n    <Header className={`text-left m-t-20 m-b-40 ${className}`}>\n      <TextWrapper\n        text={title}\n        fontFamily={'Syne'}\n        fontSize={24}\n        FletterSpacing={'0.1rem'}\n        fontWeight={'bold'}\n        className={'m-b-4'}\n      />\n      <SubtitleDiv className=\"single-line-center-start\">\n        <TextWrapper\n          text={subTitle}\n          fontWeight={300}\n          fontSize={16}\n          Fcolor={'#ffffff88'}\n          className={'m-r-12'}\n        />\n        {showLearnMore && (\n          <LearnMoreLink href={learnMoreLink} target={'_blank'}>\n            <TextWrapper\n              text={'Learn more'}\n              fontWeight={300}\n              fontSize={16}\n              Fcolor={'#FF7F57'}\n            />\n          </LearnMoreLink>\n        )}\n      </SubtitleDiv>\n    </Header>\n  );\n};\n\nexport default PageHeader;\n\nconst Header = styled.div`\n  @media (max-width: 600px) {\n    padding: 0 16px;\n  }\n`;\n\nconst SubtitleDiv = styled.div`\n  @media (max-width: 800px) {\n    display: block;\n  }\n`;\n\nconst LearnMoreLink = styled.a`\n  @media (max-width: 800px) {\n    p {\n      margin-top: 8px;\n    }\n  }\n`;\n","import { ConnectButton } from '@rainbow-me/rainbowkit';\nimport React from 'react';\nimport styled from 'styled-components';\n\nimport Grid from '@material-ui/core/Grid';\n\nimport useFaucetClaim from '../hooks/callbacks/useFaucetClaim';\nimport Button from '../theme/components/Button';\nimport PageHeader from '../theme/components/PageHeader';\nimport { useGetAccount } from '../utils/NetworksCustomHooks';\n\n\nconst Faucet = () => {\n  const account = useGetAccount();\n\n  const claimTokens = useFaucetClaim();\n  const isWalletConnected = !!account;\n\n  return (\n    <div className=\"custom-container\">\n      <PageHeader title={'ARTH faucet'} subTitle={'Get tokens to test ARTH V2.0'} />\n      <Grid container>\n        <Grid item lg={6} md={12} sm={12} xs={12}>\n          <CustomInfoCard className={'material-primary'}>\n            <PrimaryText>Claim your Test Tokens here</PrimaryText>\n\n            <Grid container lg={12} style={{ marginTop: '32px' }}>\n              <Grid item lg={4} md={4} sm={6} xs={6}>\n                {!isWalletConnected ? (\n                  <ConnectButton />\n                ) : (\n                  <Button variant={'default'} text=\"Submit\" size={'sm'} onClick={claimTokens} />\n                )}\n              </Grid>\n            </Grid>\n          </CustomInfoCard>\n        </Grid>\n      </Grid>\n    </div>\n  );\n};\n\nconst CustomInfoCard = styled.div`\n  @media (max-width: 600px) {\n  }\n`;\n\nconst PrimaryText = styled.p`\n  font-style: normal;\n  font-weight: 600;\n  font-size: 14px;\n  line-height: 20px;\n  color: rgba(255, 255, 255, 0.88);\n  margin-bottom: 12px;\n`;\n\nexport default Faucet;\n","import { useCallback } from \"react\";\n\n\n\nimport { useTransactionAdder } from \"../../state/transactions/hooks\";\nimport { useGetChainId } from \"../../utils/NetworksCustomHooks\";\nimport useCore from \"../useCore\";\n\n\n// eslint-disable-next-line import/no-anonymous-default-export\nexport default function () {\n  const core = useCore();\n  const addTransaction = useTransactionAdder();\n  const chainId = useGetChainId();\n\n  return useCallback(async (): Promise<void> => {\n    const contract = core.contracts('Faucet', chainId);\n    const response = await contract.faucet();\n\n    addTransaction(response, {\n      summary: `Claim from Faucet`,\n    });\n  }, [core, chainId, addTransaction]);\n}\n","import { BigNumber } from 'ethers';\nimport { useCallback, useEffect, useState } from 'react';\nimport { useSelector } from 'react-redux';\n\nimport { AppState } from '../../state';\nimport { useGetAccount, useGetChainId } from '../../utils/NetworksCustomHooks';\nimport useCore from '../useCore';\nimport { value } from \"numeral\";\n\ntype State = {\n  isLoading: boolean;\n  value: BigNumber;\n};\n\nexport default (chainId?: number) => {\n  const [value, setValue] = useState<State>({ isLoading: true, value: BigNumber.from(0) });\n\n  const core = useCore();\n  const activeChainId = chainId || useGetChainId();\n  const account = useGetAccount();\n\n  const fetchValue = useCallback(async () => {\n    const contract = core.getTroveManager('ETH', activeChainId);\n    const value = await contract.getEntireSystemColl();\n\n    setValue({\n      isLoading: false,\n      value: value,\n    });\n  }, [core, activeChainId]);\n\n  useEffect(() => {\n    if (core.isUnlocked) {\n      fetchValue().catch((err) =>\n        console.error(`Failed to fetch entire protocol collateral %: ${err}`),\n      );\n    }\n  }, [core.isUnlocked, account, fetchValue, activeChainId]);\n\n  return value;\n};\n","import styled from 'styled-components';\nimport { useSwitchNetwork } from 'wagmi';\n\nimport theme from '../../theme';\nimport Button from '../../theme/components/Button';\nimport TextWrapper from '../../theme/components/TextWrapper';\nimport { MarketDataType } from '../../ui-config/marketConfig';\nimport useGetProtocolCollateral from \"../../hooks/state/useGetProtocolCollateral\";\nimport DataField from \"../../theme/components/DataField\";\nimport Numeral from \"numeral\";\nimport { getDisplayBalance } from \"../../utils/formatBalance\";\nimport { useEffect } from \"react\";\n\nconst ChainsCard = (props: { data: MarketDataType }) => {\n  const { switchNetwork, status, isSuccess } = useSwitchNetwork();\n  const entireSystemCollateral = useGetProtocolCollateral(props.data.chainId);\n\n  useEffect(() => {\n    if (isSuccess) window.open(\"/#/loans/all-loans\", \"_self\")\n  })\n\n  return (\n    <Card className={'material-primary'}>\n      <CardUpper style={{ background: props.data.themeColor }}>\n        <CardImg src={props.data.iconUrl} alt={props.data.marketTitle} />\n      </CardUpper>\n      <CardContent>\n        <TextWrapper\n          text={props.data.marketTitle}\n          align={'center'}\n          fontSize={24}\n          fontWeight={600}\n        />\n        <TextWrapper\n          text={props.data.desc}\n          align={'center'}\n          className={'m-t-16'}\n          Fcolor={theme.color.transparent[100]}\n        />\n        {/* <div className={\"m-t-24\"}>\n          <DataField\n            label={\"TVL\"}\n            labelFontWeight={600}\n            isValueLoading={entireSystemCollateral.isLoading}\n            valueFontWeight={600}\n            value={`${Numeral(getDisplayBalance(entireSystemCollateral.value, 18, 3)).format('0,0')} ETH`}\n          />\n        </div>*/}\n        <div className={'single-line-center-center m-t-32'}>\n          <div className={'w-50'}>\n            <Button\n              text={'Open Protocol'}\n              variant={'transparent'}\n              size={'sm'}\n              onClick={() => switchNetwork?.(props.data.chainId)}\n            />\n          </div>\n        </div>\n      </CardContent>\n    </Card>\n  );\n};\n\nexport default ChainsCard;\n\nconst Card = styled.div`\n  padding: 0;\n  border: 6px;\n`;\n\nconst CardUpper = styled.div`\n  height: 120px;\n  border-top-left-radius: 6px;\n  border-top-right-radius: 6px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\n\nconst CardImg = styled.img`\n  width: 80px;\n  height: 80px;\n`;\n\nconst CardContent = styled.div`\n  padding: 24px;\n`;\n","import { useCallback, useEffect, useState } from 'react';\n\nimport { useBlockNumber } from '../../../state/application/hooks';\nimport { useGetAccount, useGetChainId } from '../../../utils/NetworksCustomHooks';\nimport useCore from '../../useCore';\n\ntype State = {\n  isLoading: boolean;\n  value: boolean;\n};\n\nexport default (contractPrefix: string) => {\n  const [value, setValue] = useState<State>({ isLoading: true, value: false });\n\n  const core = useCore();\n  const account = useGetAccount();\n  const blockNumber = useBlockNumber();\n  const activeChainId = useGetChainId();\n\n  const fetchValue = useCallback(async () => {\n    if (!account) {\n      setValue({ isLoading: false, value: false });\n      return;\n    }\n\n    const contract = core.getSortedTroves(contractPrefix, activeChainId);\n    const value = await contract.contains(core.myAccount);\n    setValue({ isLoading: false, value: value });\n  }, [core, contractPrefix, account]);\n\n  useEffect(() => {\n    if (core.isUnlocked) {\n      fetchValue().catch((err) => console.error(`Failed to fetch trove details: ${err}`));\n    }\n  }, [core.isUnlocked, core.myAccount, account, blockNumber, fetchValue]);\n\n  return value;\n};\n","import React, { useState } from 'react';\n\nimport DefaultIcon from '../../../assets/icons/misc/Default.svg';\n\nexport interface IconLoaderProps {\n  iconName:\n    | 'QuickSwap'\n    | 'PancakeSwap'\n    | 'ArrowUp'\n    | 'ArrowDown'\n    | 'ArrowLeft'\n    | 'ArrowRight'\n    | 'ArrowLink'\n    | 'ArrowFilledUp'\n    | 'ArrowTailUp'\n    | 'ArrowTailDown'\n    | 'ArrowTailLeft'\n    | 'ArrowTailRight'\n    | 'ARTHlg'\n    | 'Mahalg'\n    | 'Checked'\n    | 'Empty'\n    | 'GreenCheck'\n    | 'CreameFinance'\n    | 'PickleFinance'\n    | 'Sushiswap'\n    | 'Uniswap'\n    | 'Yfi'\n    | 'CosmicFinance'\n    | 'Cryption'\n    | 'Dfyn'\n    | 'Firbird'\n    | 'Polydex'\n    | 'YearnFinance'\n    | 'Info'\n    | 'Error'\n    | 'Warning'\n    | 'Discord'\n    | 'Facebook'\n    | 'Forum'\n    | 'Github'\n    | 'Instagram'\n    | 'Medium'\n    | 'Reddit'\n    | 'Telegram'\n    | 'Twitter'\n    | 'Alert'\n    | 'Pending'\n    | 'Success'\n    | 'Caution'\n    | 'ARTH.usd'\n    | 'ARTH'\n    | 'ARTHX'\n    | 'MAHA'\n    | 'superMAHA'\n    | 'CNT'\n    | 'COSMIC'\n    | 'DFYN'\n    | 'ETH'\n    | 'HOPE'\n    | 'POLYGON'\n    | 'USDC'\n    | 'WBTC'\n    | 'WETH'\n    | 'DAI'\n    | 'Sync'\n    | 'InfoToolTip'\n    | 'Cross'\n    | 'Calendar'\n    | 'Menu'\n    | 'Transaction'\n    | 'Wallet'\n    | 'Copy'\n    | 'Copied'\n    | 'Search'\n    | 'Polygon'\n    | 'Bsc'\n    | 'Gov'\n    | 'Starter'\n    | 'Add'\n    | 'Delete'\n    | 'DeleteFaded'\n    | 'Settings'\n    | 'Default'\n    | 'BentoMenu'\n    | string;\n  iconType?:\n    | 'arrow'\n    | 'infoTip'\n    | 'exchangePlatform'\n    | 'products'\n    | 'socialMedia'\n    | 'status'\n    | 'tokenSymbol'\n    | 'misc'\n    | 'brandLogo'\n    | 'checkbox'\n    | 'chains';\n  height?: number | 'auto';\n  width?: number | 'auto';\n  className?: string;\n  onClick?: () => void;\n}\n\nconst IconLoader = (props: IconLoaderProps) => {\n  const {\n    iconName,\n    iconType = 'misc',\n    height = 'auto',\n    width = 'auto',\n    className = '',\n    onClick,\n  } = props;\n\n  const [Icon, setIcon] = useState<string>(DefaultIcon);\n\n  import(`../../../assets/icons/${iconType}/${iconName}.svg`)\n    .then((image) => {\n      setIcon(image.default);\n    })\n    .catch((err) => {\n      setIcon(DefaultIcon);\n      console.log('IconLoader catch error', err);\n    });\n\n  return (\n    <img\n      src={Icon}\n      alt={iconName}\n      width={width}\n      height={height}\n      className={className}\n      onClick={() => {\n        if (onClick) onClick();\n      }}\n    />\n  );\n};\n\nexport default IconLoader;\n","import React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport styled from 'styled-components';\n\nimport config from '../../config';\nimport useOneTroveIsAlreadyOpen from '../../hooks/state/sortedTroves/useGetTroveIsAlreadyOpen';\nimport IconLoader from '../../theme/components/IconLoader';\nimport { useGetAccount, useGetChainId } from '../../utils/NetworksCustomHooks';\n\nconst Sidebar = () => {\n  const account = useGetAccount();\n  const chainId = useGetChainId();\n\n  const troveIsAlreadyPresent = useOneTroveIsAlreadyOpen(config[chainId].defaultCollateral);\n\n  return (\n    <SidebarDiv>\n      <SidebarContainer id={'sidebar_container'}>\n        <TopSideBar>\n          <StyledLink activeClassName=\"activeSidebar\" to=\"\">\n            Home\n          </StyledLink>\n          <StyledLink activeClassName=\"activeSidebar\" to=\"/loans/all-loans\">\n            Overview\n          </StyledLink>\n          {troveIsAlreadyPresent.value ? (\n            <StyledLink\n              activeClassName=\"activeSidebar\"\n              to={`/loan/details/${account ? account : \"\"}/${\n                config[chainId].defaultCollateral\n              }`}\n            >\n              View Loan\n            </StyledLink>\n          ) : (\n            <StyledLink\n              activeClassName=\"activeSidebar\"\n              to={\"/loan/add/\" + config[chainId].defaultCollateral}\n            >\n              Mint ARTH\n            </StyledLink>\n          )}\n          <StyledLink\n            exact\n            activeClassName=\"activeSidebar\"\n            to={\"/stability-pool/\" + config[chainId].defaultCollateral}\n          >\n            Stability Pool\n          </StyledLink>\n          <StyledLink\n            exact\n            activeClassName=\"activeSidebar\"\n            to={\"/redeem/\" + config[chainId].defaultCollateral}\n          >\n            Redeem\n          </StyledLink>\n          <StyledLink exact activeClassName=\"activeSidebar\" to=\"/price\">\n            Protocol Price\n          </StyledLink>\n          <StyledLinkHref href={\"https://farming.mahadao.com/\"} target={\"_blank\"}>\n            <div className={\"single-line-center-start\"}>\n              <p>Farming</p>\n              <IconLoader iconName={\"ArrowLinkColored\"} iconType={\"arrow\"} />\n            </div>\n          </StyledLinkHref>\n          <StyledLinkHref href={config[chainId].tradingLink} target={\"_blank\"}>\n            <div className={\"single-line-center-start\"}>\n              <p>Trade</p>\n              <IconLoader iconName={\"ArrowLinkColored\"} iconType={\"arrow\"} />\n            </div>\n          </StyledLinkHref>\n          {(chainId === 5 || chainId === 80001) && (\n            <StyledLink exact activeClassName=\"activeSidebar\" to=\"/faucet\">\n              Faucet\n            </StyledLink>\n          )}\n        </TopSideBar>\n        <BottomSideBar>\n          <StyledLinkHref href={config[chainId].analyticsLink} target={'_blank'}>\n            <div className={'single-line-center-start'}>\n              <p>Analytics</p>\n              <IconLoader iconName={'ArrowLinkColored'} iconType={'arrow'} />\n            </div>\n          </StyledLinkHref>\n          <StyledLinkHref href=\"https://docs.arth.loans/\" target={'_blank'}>\n            <div className={'single-line-center-start'}>\n              <p>Documentation</p>\n              <IconLoader iconName={'ArrowLinkColored'} iconType={'arrow'} />\n            </div>\n          </StyledLinkHref>\n        </BottomSideBar>\n      </SidebarContainer>\n    </SidebarDiv>\n  );\n};\n\nexport default Sidebar;\n\nconst SidebarDiv = styled.div`\n  min-width: 200px;\n  max-width: 200px;\n  min-height: 100vh;\n  max-height: 100vh;\n  @media (max-width: 800px) {\n    display: none;\n  }\n`;\n\nconst SidebarContainer = styled.div`\n  width: 200px;\n  background: #1f1e1e;\n  border-radius: 6px;\n  border: 1px solid;\n  border-image-source: linear-gradient(\n    180deg,\n    rgba(255, 255, 255, 0.1) 0%,\n    rgba(255, 255, 255, 0) 100%\n  );\n  position: fixed;\n  top: 0;\n  padding: 16px;\n  margin-top: calc(112px);\n  min-height: calc(100vh - 144px);\n\n  @media (max-width: 600px) {\n    margin-top: calc(112px);\n    min-height: calc(100vh - 144px);\n  }\n`;\n\nconst StyledLink = styled(NavLink)`\n  padding: 8px 16px;\n  width: 100%;\n  border-radius: 2px;\n  display: block;\n  font-style: normal;\n  font-weight: 600;\n  font-size: 14px;\n  line-height: 20px;\n  color: #ffffff88;\n  margin-bottom: 8px;\n  &:hover {\n    outline: 1px solid rgba(255, 255, 255, 0.08);\n    color: #ffffff88;\n    opacity: 1;\n  }\n  &:active {\n    background: rgba(255, 255, 255, 0.01);\n    border-radius: 2px;\n    width: 100%;\n    color: #ffffff88;\n    opacity: 1;\n  }\n`;\n\nconst StyledLinkHref = styled.a`\n  padding: 8px 16px;\n  width: 100%;\n  border-radius: 2px;\n  display: block;\n  font-style: normal;\n  font-weight: 600;\n  font-size: 14px;\n  line-height: 20px;\n  color: #ffffff88;\n  margin-bottom: 8px;\n  &:hover {\n    outline: 1px solid rgba(255, 255, 255, 0.08);\n    color: #ffffff88;\n    opacity: 1;\n  }\n  &:active {\n    background: rgba(255, 255, 255, 0.01);\n    border-radius: 2px;\n    width: 100%;\n    color: #ffffff88;\n    opacity: 1;\n  }\n`;\n\nconst TopSideBar = styled.div`\n  padding-bottom: 177px;\n`;\n\nconst BottomSideBar = styled.div`\n  position: absolute;\n  bottom: 0;\n  padding: 16px 0;\n  width: calc(100% - 32px);\n  border-top: 1px solid rgba(255, 255, 255, 0.08);\n`;\n","import React from 'react';\nimport styled from 'styled-components';\n\nimport Sidebar from \"../components/Sidebar\";\nimport PageHeader, { PageHeaderProps } from \"../theme/components/PageHeader\";\n\ninterface IProps extends PageHeaderProps {\n  children: React.ReactNode;\n}\n\nexport default (props: IProps) => {\n  return (\n    <MainPageContainer>\n      <Sidebar />\n      <StyledPage>\n        <StyledMain id={'main_page'}>\n          <div className=\"custom-container\">\n            <div className=\"single-line-center-between mo-single-line-column\">\n              <PageHeader {...props}/>\n            </div>\n            {props.children}\n          </div>\n        </StyledMain>\n      </StyledPage>\n    </MainPageContainer>\n  );\n};\n\nconst StyledPage = styled.div`\n  display: flex;\n  flex-direction: column;\n  position: relative;\n  width: 100%;\n`;\n\nconst StyledMain = styled.div`\n  align-items: center;\n  display: flex;\n  flex-direction: column;\n  min-height: calc(100vh - 112px);\n  padding-bottom: 80px;\n  padding-top: calc(112px);\n\n  @media (max-width: 600px) {\n    padding-top: calc(112px);\n  }\n`;\n\nconst MainPageContainer = styled.div`\n  padding: 0 60px;\n  width: 100vw;\n  display: flex;\n  @media (max-width: 600px) {\n    padding: 0;\n  }\n`;\n","import styled from \"styled-components\";\nimport maha from '../../assets/images/maha.png';\nimport TextWrapper from \"../../theme/components/TextWrapper\";\nimport theme from \"../../theme\";\nimport Button from \"../../theme/components/Button\";\n\nconst Guild = () => {\n  return (\n    <Card className={'material-primary m-t-24'}>\n      <CardUpper>\n        <CardImg src={maha} alt={'mahadao'} />\n      </CardUpper>\n      <CardContent>\n        <TextWrapper\n          text={\"Get Special Discord Access\"}\n          align={'left'}\n          fontSize={24}\n          fontWeight={600}\n        />\n        <TextWrapper\n          text={\"If you provide liquidity to the protocol, you will now get special access to our Discord. Visit our guild.xyz page to learn more.\"}\n          align={'left'}\n          className={'m-t-16'}\n          Fcolor={theme.color.transparent[100]}\n        />\n        <div className={'m-t-32'}>\n          <div className={'w-50'}>\n            <Button\n              text={'Join our Guild'}\n              variant={'transparent'}\n              size={'sm'}\n              href={'https://guild.xyz/mahadao'}\n            />\n          </div>\n        </div>\n      </CardContent>\n    </Card>\n  );\n};\n\nexport default Guild;\n\nconst Card = styled.div`\n  padding: 0;\n  border: 6px;\n  display: flex;\n`;\n\nconst CardUpper = styled.div`\n  width: 160px;\n  border-top-left-radius: 6px;\n  border-bottom-left-radius: 6px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: #171717;\n`;\n\nconst CardImg = styled.img`\n  width: 80px;\n  height: 80px;\n`;\n\nconst CardContent = styled.div`\n  padding: 24px;\n  flex: 1;\n  align-items: center;\n`;\n","export default \"data:image/png;base64,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\"","import { useCallback, useEffect, useState } from 'react';\n\nimport { BNZERO } from '../../../protocol/constants';\nimport { useBlockNumber } from '../../../state/application/hooks';\nimport { useGetAccount, useGetChainId } from '../../../utils/NetworksCustomHooks';\nimport { BasicState } from '../../../utils/interface';\nimport useCore from '../../useCore';\n\nexport default (contractPrefix: string) => {\n  const [value, setValue] = useState<BasicState>({ isLoading: true, value: BNZERO });\n\n  const core = useCore();\n  const account = useGetAccount();\n  const blockNumber = useBlockNumber();\n  const activeChainId = useGetChainId();\n\n  const fetchValue = useCallback(async () => {\n    if (!account) {\n      setValue({ isLoading: false, value: BNZERO });\n      return;\n    }\n\n    const contract = core.getSortedTroves(contractPrefix, activeChainId);\n    const value = await contract.getSize();\n    setValue({ isLoading: false, value: value });\n  }, [account, core, contractPrefix, activeChainId]);\n\n  useEffect(() => {\n    if (core.isUnlocked) {\n      fetchValue().catch((err) => console.error(`Failed to fetch linked list size: ${err}`));\n    }\n  }, [core.isUnlocked, blockNumber, account, fetchValue]);\n\n  return value;\n};\n","import React from 'react';\nimport { Grid } from '@material-ui/core';\nimport ChainsCard from '../modules/home/chainsCard';\nimport { marketsData } from '../ui-config/marketConfig';\nimport PageLayout from \"../layouts/PageLayout\";\nimport Guild from \"../modules/home/guild\";\nimport useLinkedListSize from \"../hooks/state/sortedTroves/useGetLinkedListSize\";\n\n\nconst HomePage = () => {\n  const vaultLinkedListSize = useLinkedListSize(\"ETH\");\n\n  return (\n    <PageLayout\n      title={`Arth.loans`}\n      subTitle={`Mint ARTH using decentralized smart-contracts and govern your money. Mint ARTH using decentralized smart-contracts and govern your money`}\n    >\n      <Grid container spacing={2}>\n        {Object.entries(marketsData).map(([key, data]) => {\n          return (\n            <Grid item lg={4} md={4} sm={12} key={key}>\n              <ChainsCard data={data} />\n            </Grid>\n          );\n        })}\n      </Grid>\n      <Grid container spacing={2} justify={'center'}>\n        <Grid item lg={6} md={6} sm={12}>\n          <Guild/>\n        </Grid>\n      </Grid>\n    </PageLayout>\n\n  );\n};\n\nexport default HomePage;\n","import React from 'react';\nimport styled from 'styled-components';\n\nimport IconLoader from '../../theme/components/IconLoader';\n\nexport interface InputProps {\n  dropDownValues: string[];\n  ondropDownValueChange: (data: string) => void;\n}\n\nconst CustomDropDown: React.FC<InputProps> = (props) => {\n  const { dropDownValues, ondropDownValueChange } = props;\n  return (\n    <CustomDropDownContainer>\n      {dropDownValues.map((item, index) => {\n        return (\n          <CustomDropDownLi\n            onClick={() => {\n              ondropDownValueChange(item);\n            }}\n            key={index}\n          >\n            <IconLoader iconName={item} iconType={'tokenSymbol'} width={24} height={24} />\n            <CustomDropDownLiText>{item}</CustomDropDownLiText>\n          </CustomDropDownLi>\n        );\n      })}\n    </CustomDropDownContainer>\n  );\n};\n\nconst CustomDropDownContainer = styled.div`\n  position: absolute;\n  top: 50px;\n  right: 0;\n  z-index: 13;\n  background: #1f1e1e;\n  border-radius: 6px;\n  overflow: hidden;\n`;\n\nconst CustomDropDownLi = styled.div`\n  display: flex;\n  flex-direction: row;\n  height: 48px;\n  padding: 0 35px 0 12px;\n  align-items: center;\n\n  &:hover {\n    background: rgba(62, 62, 62, 0.31);\n  }\n`;\n\nconst CustomDropDownLiText = styled.span`\n  font-family: Inter;\n  font-style: normal;\n  font-weight: 600;\n  font-size: 14px;\n  line-height: 20px;\n  color: rgba(255, 255, 255, 0.64);\n  margin-left: 5px;\n`;\n\nexport default CustomDropDown;\n","export const NumberInputRegex = /^\\d+(\\.\\d*)?$/;\nexport const mediatoryRegex = /^[0]+\\d+(\\.\\d+)?$/;\nexport const RestrictDecimalsDigitsInputRegex = /^[0-9]{0,18}(\\.[0-9]{0,6})?$/;\nexport const RestrictDecimalsDigitsInputRegexSlippage = /^[0-9]{0,3}(\\.[0-9]{0,3})?$/;\n\nexport const ValidateNumber = (val: string) => {\n  return NumberInputRegex.test(val);\n};\n\nexport const checkForAfterDecimalDigits = (val: string, decimals = 6) => {\n  let regex: RegExp = /^[0-9]{0,14}(\\.[0-9]{0,6})?$/;\n\n  if (decimals === 8) regex = /^[0-9]{0,14}(\\.[0-9]{0,8})?$/;\n  else if (decimals === 9) regex = /^[0-9]{0,14}(\\.[0-9]{0,9})?$/;\n  else if (decimals === 18) regex = /^[0-9]{0,14}(\\.[0-9]{0,18})?$/;\n\n  return regex.test(val);\n};\n\nexport const checkForAfterDecimalDigitsSlippage = (val: string) => {\n  return RestrictDecimalsDigitsInputRegexSlippage.test(val);\n};\n\nexport const initZeroCheck = (val: string) => {\n  return mediatoryRegex.test(val);\n};\n\nexport const removeLeadZeros = (val: string) => {\n  while (val.charAt(0) === '0') val = val.slice(1);\n  return val;\n};\n\nexport const correctString = (val: string) => {\n  if (initZeroCheck(val)) return removeLeadZeros(val);\n  return val;\n};\n","import React, { CSSProperties, useCallback, useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport Loader from 'react-spinners/BeatLoader';\nimport styled from 'styled-components';\n\nimport { InputBase } from '@material-ui/core';\n\nimport IconLoader from '../../theme/components/IconLoader';\nimport CustomDropDown from '../CustomDropDown';\n\nimport { ValidateNumber, checkForAfterDecimalDigits, correctString } from './RegexValidation';\n\n\ntype props = {\n  ILabelValue: string;\n  IBalanceValue: string;\n  showBalance?: boolean;\n  ILabelInfoValue?: string;\n  value?: string;\n  warningMsg?: string;\n  DefaultValue: string;\n  LogoSymbol: string;\n  hasDropDown?: boolean;\n  disabled?: boolean;\n  SymbolText: string;\n  setText?: (val: string) => void;\n  inputMode?: 'none' | 'text' | 'tel' | 'url' | 'email' | 'numeric' | 'decimal' | 'search';\n  tagText?: string;\n  onTagTextClick?: () => void;\n  dropDownValues?: string[] | any;\n  ondropDownValueChange?: (data: string) => void;\n  multiIcons?: boolean;\n  symbols?: string[];\n  dontShowBackgroundContainer?: boolean;\n  href?: string;\n  to?: string;\n  Istate?: 'default' | 'error';\n  IWarningstate?: 'default' | 'error' | 'warning';\n  msg?: string;\n  DisableMsg?: string;\n  errorCallback?: (flag: boolean) => void;\n  isBalanceLoading?: boolean;\n  tokenDecimals?: number;\n  isLpToken?: boolean;\n};\n\ninterface ICStatesInterface {\n  IState: 'default' | 'error' | 'warning';\n  IMsg: string;\n}\n\nconst CustomInputContainer: React.FC<props> = (props) => {\n  const {\n    ILabelValue,\n    IBalanceValue,\n    showBalance = true,\n    ILabelInfoValue,\n    DefaultValue,\n    LogoSymbol,\n    hasDropDown = false,\n    SymbolText,\n    tagText = '',\n    dropDownValues,\n    ondropDownValueChange,\n    multiIcons = false,\n    symbols,\n    disabled = false,\n    Istate = 'default',\n    msg = '',\n    DisableMsg = '',\n    IWarningstate = 'default',\n    warningMsg = '',\n    isBalanceLoading = false,\n    tokenDecimals = 6,\n    isLpToken = false,\n  } = props;\n\n  const [modalOpen, setModalOpen] = useState<boolean>(false);\n  const [ICStates, setICStates] = useState<ICStatesInterface>({ IState: Istate, IMsg: msg });\n  const [ICWarningStates, setICWarningStates] = useState<ICStatesInterface>({\n    IState: IWarningstate,\n    IMsg: warningMsg,\n  });\n\n  const checkForErrorAndWarning = useCallback(\n    async (val: string) => {\n      const Default: ICStatesInterface = {\n        IState: 'default',\n        IMsg: '',\n      };\n\n      if (props.errorCallback) {\n        if (Number(val) > Number(IBalanceValue) && showBalance) {\n          const temp: ICStatesInterface = {\n            IState: 'error',\n            IMsg: 'Amount cannot be more than your balance.',\n          };\n          setICStates(temp);\n          props.errorCallback(true);\n        } else {\n          props.errorCallback(false);\n          setICStates(Default);\n        }\n      }\n\n      let DigitsStatus = true;\n      if (!checkForAfterDecimalDigits(val, tokenDecimals)) {\n        const temp: ICStatesInterface = {\n          IState: 'warning',\n          IMsg: `Only 14 digits before decimal and ${tokenDecimals} digits after decimal is allowed.`,\n        };\n        setICWarningStates(temp);\n        DigitsStatus = false;\n      } else {\n        setICWarningStates(Default);\n      }\n\n      return DigitsStatus;\n    },\n    [IBalanceValue, props, tokenDecimals],\n  );\n\n  useEffect(() => {\n    let temp = { IState: Istate, IMsg: msg };\n    setICStates(temp);\n  }, [Istate, msg]);\n\n  useEffect(() => {\n    checkForErrorAndWarning(DefaultValue);\n  }, [DefaultValue, LogoSymbol, IBalanceValue, checkForErrorAndWarning]);\n\n  const Redirection = () => {\n    if (props?.href) {\n      return (\n        <HrefLink href={props.href} target=\"__blank\">\n          <ILabelInfo>{ILabelInfoValue}</ILabelInfo>\n        </HrefLink>\n      );\n    } else if (props?.to) {\n      return (\n        <ToLink to={'/mint'}>\n          <ILabelInfo>{ILabelInfoValue}</ILabelInfo>\n        </ToLink>\n      );\n    } else {\n      return <ILabelInfo>{ILabelInfoValue}</ILabelInfo>;\n    }\n  };\n\n  const IConatinerStyle = () => {\n    let returnObj: CSSProperties = {};\n    if (props.dontShowBackgroundContainer) {\n      returnObj['padding'] = '0px';\n      returnObj['backgroundColor'] = 'transparent';\n    }\n    if (DisableMsg !== '') {\n      returnObj['opacity'] = '0.32';\n    }\n    return returnObj;\n  };\n\n  const onValueChange = (value: string) => {\n    if (value === '') {\n    } else {\n      if (!ValidateNumber(value)) return;\n    }\n\n    if (Number(value) && Number(value) <= 0) return;\n    checkForErrorAndWarning(value).then((data) => {\n      if (data) props?.setText(value.length > 1 ? correctString(value) : value);\n    });\n  };\n\n  return (\n    <div style={{ position: 'relative' }}>\n      {DisableMsg !== '' && (\n        <TotalDisable>\n          <DMsg>{DisableMsg}</DMsg>\n        </TotalDisable>\n      )}\n      <IConatiner style={IConatinerStyle()}>\n        <ILabelContainer>\n          <ILabelLeft>\n            <ILabel>{ILabelValue}</ILabel>\n            {ILabelInfoValue !== '' && Redirection()}\n          </ILabelLeft>\n          <ILabelRight>\n            {isBalanceLoading && showBalance ? (\n              <Loader color={'#ffffff'} loading={true} size={8} margin={2} />\n            ) : (\n              showBalance && (\n                <ILabelBalance>{`Balance: ${Number(\n                  IBalanceValue,\n                ).toLocaleString()}`}</ILabelBalance>\n              )\n            )}\n          </ILabelRight>\n        </ILabelContainer>\n        <IFieldConatiner className={`input-${ICStates.IState}`}>\n          <InputBase\n            inputMode={props?.inputMode}\n            placeholder={DefaultValue || '0'}\n            value={DefaultValue}\n            inputProps={{ 'aria-label': 'naked' }}\n            style={{\n              padding: '8px 12px',\n              color: '#FFFFFF',\n              flex: 1,\n              fontFamily: 'Inter !important',\n            }}\n            disabled={disabled}\n            type={'string'}\n            onChange={(event) => onValueChange(event.target.value)}\n          />\n          {tagText !== '' && (\n            <MaxTagConatiner\n              onClick={() => {\n                checkForErrorAndWarning(IBalanceValue.toString()).then((data) => {\n                  if (data) props?.setText(IBalanceValue.toString());\n                });\n              }}\n            >\n              {tagText}\n            </MaxTagConatiner>\n          )}\n          <IFieldRightContainer\n            onClick={() => {\n              if (hasDropDown) setModalOpen(!modalOpen);\n            }}\n          >\n            <IFieldRightContainerLogo>\n              {multiIcons && symbols ? (\n                <LLabel>\n                  {symbols.map((s, index) => (\n                    <IconLoader\n                      iconName={s}\n                      iconType={'tokenSymbol'}\n                      width={24}\n                      className={index === 0 ? '' : 'm-l--4'}\n                    />\n                  ))}\n                </LLabel>\n              ) : (\n                <IconLoader\n                  iconName={LogoSymbol}\n                  width={isLpToken ? 36 : 24}\n                  height={isLpToken ? 20 : 24}\n                  iconType={'tokenSymbol'}\n                />\n              )}\n            </IFieldRightContainerLogo>\n            <IFieldRightContainerText>{SymbolText}</IFieldRightContainerText>\n            {hasDropDown && (\n              <IFieldRightContainerDropDown>\n                <IconLoader iconName={'ArrowDown'} iconType={'arrow'} className=\"m-l-12\" />\n              </IFieldRightContainerDropDown>\n            )}\n            {modalOpen && hasDropDown && ondropDownValueChange && (\n              <BackgroundAbsolute\n                onClick={() => {\n                  setModalOpen(!modalOpen);\n                }}\n              />\n            )}\n            {modalOpen && hasDropDown && ondropDownValueChange && (\n              <CustomDropDown\n                dropDownValues={dropDownValues}\n                ondropDownValueChange={(data) => {\n                  onValueChange('');\n                  ondropDownValueChange(data);\n                }}\n              />\n            )}\n          </IFieldRightContainer>\n        </IFieldConatiner>\n        {ICStates.IMsg !== '' && (\n          <p className={`input-font-${ICStates.IState}`}>{ICStates.IMsg}</p>\n        )}\n        {ICWarningStates.IMsg !== '' && (\n          <p className={`input-font-warning`}>{ICWarningStates.IMsg}</p>\n        )}\n      </IConatiner>\n    </div>\n  );\n};\n\nexport default CustomInputContainer;\n\nconst TotalDisable = styled.div`\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background: rgba(255, 255, 255, 0.16);\n  box-sizing: border-box;\n  border-radius: 6px;\n  z-index: 12;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border: 1px solid #ffffff29;\n`;\n\nconst DMsg = styled.p`\n  font-family: Inter;\n  font-style: normal;\n  font-weight: 600;\n  font-size: 16px;\n  line-height: 24px;\n  color: #ffffff;\n  margin-bottom: 0;\n`;\n\nconst HrefLink = styled.a`\n  z-index: 1;\n`;\n\nconst ToLink = styled(Link)`\n  z-index: 1;\n`;\n\nconst BackgroundAbsolute = styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n  background: transparent;\n  width: 100vw;\n  height: 100vh;\n  z-index: 11;\n`;\n\nconst IConatiner = styled.div`\n  background: rgba(255, 255, 255, 0.08);\n  border-radius: 8px;\n  padding: 12px;\n`;\n\nconst ILabelContainer = styled.div`\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  margin-bottom: 12px;\n`;\n\nconst ILabelLeft = styled.div`\n  display: flex;\n  align-items: center;\n  flex: 1;\n`;\n\nconst ILabelRight = styled.div``;\n\nconst ILabel = styled.p`\n  font-family: Inter;\n  font-style: normal;\n  font-weight: 600;\n  font-size: 14px;\n  line-height: 20px;\n  color: rgba(255, 255, 255, 0.64);\n  margin-bottom: 0;\n`;\n\nconst ILabelInfo = styled.p`\n  font-family: Inter;\n  font-style: normal;\n  font-weight: 300;\n  font-size: 14px;\n  line-height: 20px;\n  color: #f7653b;\n  margin-left: 5px;\n  margin-bottom: 0;\n  cursor: pointer;\n`;\n\nconst ILabelBalance = styled.p`\n  font-family: Inter;\n  font-style: normal;\n  font-weight: 600;\n  font-size: 14px;\n  line-height: 20px;\n  text-align: right;\n  color: rgba(255, 255, 255, 0.64);\n  margin-bottom: 0;\n`;\n\nconst LLabel = styled.div`\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n`;\n\nconst IFieldConatiner = styled.div`\n  display: flex;\n  flex-direction: row;\n  background: #151414;\n  border-radius: 6px;\n  max-height: 44px;\n`;\n\nconst IFieldRightContainer = styled.div`\n  padding: 10px 12px;\n  background: #1f1e1e;\n  border-radius: 0 6px 6px 0;\n  display: flex;\n  align-items: center;\n  position: relative;\n  cursor: pointer;\n`;\n\nconst MaxTagConatiner = styled.div`\n  font-family: Inter;\n  font-style: normal;\n  font-weight: 600;\n  font-size: 14px;\n  color: #f7653b;\n  padding: 10px 12px;\n  background: transparent;\n  border-radius: 0 6px 6px 0;\n  display: flex;\n  align-items: center;\n  position: relative;\n  cursor: pointer;\n`;\n\nconst IFieldRightContainerLogo = styled.span``;\n\nconst IFieldRightContainerText = styled.span`\n  font-family: Inter;\n  font-style: normal;\n  font-weight: 600;\n  font-size: 14px;\n  line-height: 20px;\n  color: rgba(255, 255, 255, 0.64);\n  margin-left: 5px;\n`;\n\nconst IFieldRightContainerDropDown = styled.span`\n  margin-left: 5px;\n`;\n","import { BigNumber } from 'ethers';\nimport { useCallback, useEffect, useState } from 'react';\n\nimport config from '../../config';\nimport ERC20 from '../../protocol/ERC20';\nimport { useGetAccount, useGetChainId } from '../../utils/NetworksCustomHooks';\nimport useCore from '../useCore';\n\nconst useAllowance = (token: ERC20, spender: string, pendingApproval?: boolean) => {\n  const [allowance, setAllowance] = useState<BigNumber>(BigNumber.from(0));\n  const activeChainId = useGetChainId();\n  const account = useGetAccount();\n\n  const core = useCore();\n\n  const fetchAllowance = useCallback(async () => {\n    if (!account || spender === undefined) return;\n    if (token === undefined) return;\n    const allowance = await token.allowance(account, spender);\n    setAllowance(allowance);\n  }, [account, spender, token]);\n\n  useEffect(() => {\n    if (core.isUnlocked) {\n      fetchAllowance().catch((err) =>\n        console.log(\n          `Failed to fetch allowance for ${token} ${account} ${spender}: ${err.stack}`,\n        ),\n      );\n\n      let refreshInterval = setInterval(fetchAllowance, config[activeChainId].refreshInterval);\n      return () => clearInterval(refreshInterval);\n    }\n  }, [account, activeChainId, core.isUnlocked, fetchAllowance, spender, token]);\n\n  useEffect(() => {\n    if (account && spender && token) {\n      fetchAllowance().catch((err) => console.log(`Failed to fetch allowance: ${err.stack}`));\n    }\n  }, [account, spender, token, pendingApproval, fetchAllowance]);\n\n  return allowance;\n};\n\nexport default useAllowance;\n","import { BigNumber } from 'ethers';\nimport { useCallback, useEffect, useState } from 'react';\n\nimport { useBlockNumber } from '../../../state/application/hooks';\nimport { useGetAccount, useGetChainId } from '../../../utils/NetworksCustomHooks';\nimport useCore from '../../useCore';\n\ntype State = {\n  isLoading: boolean;\n  value: BigNumber;\n};\n\nexport default (contractPrefix: string) => {\n  const [value, setValue] = useState<State>({ isLoading: true, value: BigNumber.from(0) });\n\n  const core = useCore();\n  const account = useGetAccount();\n  const chainId = useGetChainId();\n  const blockNumber = useBlockNumber();\n\n  const fetchValue = useCallback(async () => {\n    if (!account || true) {\n      // disable for now\n      setValue({ isLoading: false, value: BigNumber.from(0) });\n      return;\n    }\n\n    const contract = core.getGovernance(contractPrefix, chainId);\n    const value = await contract.getStabilityFee();\n\n    setValue({ isLoading: false, value: value });\n  }, [account, core, contractPrefix, chainId]);\n\n  useEffect(() => {\n    if (core.isUnlocked) {\n      fetchValue().catch((err) =>\n        console.error(`Failed to fetch stability token and fee: ${err}`),\n      );\n    }\n  }, [blockNumber, core.isUnlocked, account, fetchValue]);\n\n  return value;\n};\n","import { BigNumber } from 'ethers';\nimport { useCallback, useEffect, useState } from 'react';\nimport { useSelector } from 'react-redux';\n\nimport { AppState } from '../../../state';\nimport { useBlockNumber } from '../../../state/application/hooks';\nimport { useGetAccount } from '../../../utils/NetworksCustomHooks';\nimport useCore from '../../useCore';\n\ntype State = {\n  isLoading: boolean;\n  value: BigNumber;\n};\n\nexport default (token: string) => {\n  const [value, setValue] = useState<State>({ isLoading: true, value: BigNumber.from(0) });\n\n  const core = useCore();\n  const account = useGetAccount();\n  const blockNumber = useBlockNumber();\n\n  const redemptionRateWithDecay = useSelector(\n    (app: AppState) => app.analytics.redemptionRateWithDecay,\n  );\n\n  const fetchValue = useCallback(async () => {\n    if (!account) {\n      setValue({ isLoading: false, value: BigNumber.from(0) });\n      return;\n    }\n\n    setValue({ isLoading: false, value: redemptionRateWithDecay[token] || BigNumber.from(0) });\n  }, [account, redemptionRateWithDecay, token]);\n\n  useEffect(() => {\n    if (core.isUnlocked) {\n      fetchValue().catch((err) =>\n        console.error(`Failed to fetch redemptionRateWithDecay() for ${token}: ${err}`),\n      );\n    }\n  }, [core.isUnlocked, account, blockNumber, fetchValue, token]);\n\n  return value;\n};\n","import { useCallback, useEffect, useState } from 'react';\n\nimport { useGetChainId } from '../utils/NetworksCustomHooks';\n\nimport useCore from './useCore';\n\n\nconst useTokenDecimals = (token: string) => {\n  const core = useCore();\n  const [decimals, setDecimals] = useState(18);\n  const activeChainId = useGetChainId();\n\n  const fetchdecimals = useCallback(async () => {\n    if (token === core._config[activeChainId].blockchainToken) return 18;\n    setDecimals(core.tokens(token, activeChainId).decimal);\n  }, [core, token, activeChainId]);\n\n  useEffect(() => {\n    if (core.isUnlocked) {\n      fetchdecimals().catch((err) =>\n        console.error(`Failed to fetch token decimals for ${token}: ${err.stack} `),\n      );\n    }\n  }, [core.isUnlocked, fetchdecimals, token]);\n\n  return decimals;\n};\n\nexport default useTokenDecimals;\n","import { BigNumber } from 'ethers';\nimport { useCallback, useEffect, useState } from 'react';\n\nimport { useBlockNumber } from '../../state/application/hooks';\nimport { useGetAccount, useGetChainId } from '../../utils/NetworksCustomHooks';\nimport useCore from '../useCore';\nimport useTokenDecimals from '../useTokenDecimals';\n\ntype State = {\n  isLoading: boolean;\n  value: BigNumber;\n};\n\nexport default (token: string, contractPrefix: string) => {\n  const [data, setData] = useState<State>({ isLoading: true, value: BigNumber.from(0) });\n\n  const core = useCore();\n  const account = useGetAccount();\n  const blockNumber = useBlockNumber();\n  const activeChainId = useGetChainId();\n  const tokenDecimals = useTokenDecimals(token);\n  // const gmuPrice = useSelector((state: AppState) => state.analytics.gmuPrice);\n\n  const fetchValue = useCallback(async () => {\n    if (!account) {\n      setData({ isLoading: false, value: BigNumber.from(0) });\n      return;\n    }\n\n    const contract = core.getPriceFeed(contractPrefix, activeChainId);\n    const price: BigNumber = await contract.callStatic.fetchPrice();\n    const calcValue = price.div(BigNumber.from(10).pow(18 - (tokenDecimals || 18)));\n\n    if (!data.value.eq(calcValue)) {\n      setData({\n        isLoading: false,\n        value: calcValue,\n      });\n    }\n  }, [account, core, contractPrefix, activeChainId, tokenDecimals, data.value]);\n\n  useEffect(() => {\n    if (core.isUnlocked) {\n      fetchValue().catch((err) => console.error(`Failed to fetch price: ${err}`));\n    }\n  }, [blockNumber, core.isUnlocked, fetchValue]);\n\n  return data;\n};\n","import { BigNumber } from 'ethers';\nimport { useCallback, useEffect, useState } from 'react';\n\nimport { useBlockNumber } from '../../state/application/hooks';\nimport { useGetAccount, useGetChainId } from \"../../utils/NetworksCustomHooks\";\nimport useCore from '../useCore';\n\ntype State = {\n  isLoading: boolean;\n  value: BigNumber;\n};\n\nconst useGetNativeTokenBalance = () => {\n  const [balance, setBalance] = useState<State>({ isLoading: true, value: BigNumber.from(0) });\n\n  const core = useCore();\n  const account = useGetAccount();\n  const blockNumber = useBlockNumber();\n  const chainId = useGetChainId();\n\n  const fetchBalance = useCallback(async () => {\n    if (!account) {\n      setBalance({ isLoading: false, value: BigNumber.from(0) });\n      return;\n    }\n\n    const bal = await core._provider[chainId].getBalance(account);\n    setBalance({ isLoading: false, value: bal });\n  }, [account, chainId]);\n\n  useEffect(() => {\n    if (core.isUnlocked) {\n      fetchBalance().catch((err) =>\n        console.error(`Failed to fetch token balance of ${account}: ${err.stack} `),\n      );\n    }\n  }, [blockNumber, account, core.isUnlocked, fetchBalance]);\n\n  return balance;\n};\n\nexport default useGetNativeTokenBalance;\n","import { BigNumber } from 'ethers';\nimport { useCallback, useEffect, useState } from 'react';\nimport { useSelector } from 'react-redux';\n\nimport ERC20 from '../../protocol/ERC20';\nimport { AppState } from '../../state';\nimport { useBlockNumber } from '../../state/application/hooks';\nimport { useGetAccount } from '../../utils/NetworksCustomHooks';\nimport useCore from '../useCore';\n\ntype State = {\n  isLoading: boolean;\n  value: BigNumber;\n};\n\nconst useTokenBalanceOf = (token: ERC20, address: string) => {\n  const [balance, setBalance] = useState<State>({ isLoading: true, value: BigNumber.from(0) });\n\n  const balanceOf = useSelector(\n    (state: AppState) => state.token.balanceOf[token?.address || ''],\n  );\n\n  const core = useCore();\n  const account = useGetAccount();\n  const blockNumber = useBlockNumber();\n\n  const fetchBalance = useCallback(async () => {\n    if (!account) {\n      setBalance({ isLoading: false, value: BigNumber.from(0) });\n      return;\n    }\n\n    if (balanceOf && balanceOf[core.myAccount] && core.myAccount === address) {\n      setBalance({ isLoading: false, value: balanceOf[core.myAccount] });\n      return;\n    }\n\n    const bal = await token.balanceOf(address);\n    setBalance({ isLoading: false, value: bal });\n  }, [account, token, address, balanceOf, core.myAccount]);\n\n  useEffect(() => {\n    if (!token || !token?.address) {\n      setBalance({ isLoading: true, value: BigNumber.from(0) });\n    } else if (core.isUnlocked && address) {\n      fetchBalance().catch((err) =>\n        console.error(\n          `Failed to fetch token balance of ${address} for ${token.address}: ${err.stack} `,\n        ),\n      );\n    }\n  }, [address, blockNumber, account, core.isUnlocked, fetchBalance, token]);\n\n  return balance;\n};\n\nexport default useTokenBalanceOf;\n","import ERC20 from '../../protocol/ERC20';\nimport useCore from '../useCore';\n\nimport useTokenBalanceOf from './useTokenBalanceOf';\n\nconst useTokenBalance = (token: ERC20) => {\n  const core = useCore();\n  return useTokenBalanceOf(token, core.myAccount);\n};\n\nexport default useTokenBalance;\n","export default __webpack_public_path__ + \"static/media/Tick.b7fe8619.svg\";","import React from 'react';\n\nimport Dialog from '@material-ui/core/Dialog';\nimport MuiDialogContent from '@material-ui/core/DialogContent';\nimport MuiDialogTitle from '@material-ui/core/DialogTitle';\nimport IconButton from '@material-ui/core/IconButton';\nimport {\n  Theme,\n  WithStyles,\n  createStyles,\n  makeStyles,\n  useTheme,\n  withStyles,\n} from '@material-ui/core/styles';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\n\nimport IconLoader from '../IconLoader';\nimport TextWrapper from '../TextWrapper';\n\n\nconst styles = (theme: Theme) =>\n  createStyles({\n    root: {\n      margin: 0,\n      borderRadius: '12px 12px 0 0',\n      padding: theme.spacing(2),\n      color: 'white',\n      borderBottom: '1px solid rgba(255, 255, 255, 0.08)',\n    },\n    closeButton: {\n      position: 'absolute',\n      right: '20px',\n      top: '16px',\n      color: theme.palette.grey[500],\n    },\n  });\n\nexport interface DialogTitleProps extends WithStyles<typeof styles> {\n  id: string;\n  titleLogo?: React.ReactNode;\n  children: React.ReactNode;\n  onClose: () => void;\n  modalTitleStyle?: any;\n  closeButton?: boolean;\n  title: string;\n}\n\nconst DialogTitle = withStyles(styles)((props: DialogTitleProps) => {\n  const {\n    children,\n    classes,\n    onClose,\n    titleLogo,\n    modalTitleStyle,\n    closeButton,\n    title,\n    ...other\n  } = props;\n  return (\n    <MuiDialogTitle\n      style={modalTitleStyle}\n      disableTypography\n      className={classes.root}\n      {...other}\n    >\n      <div className=\"dialog-class width-100\">\n        {titleLogo && titleLogo}\n        <TextWrapper text={title} fontSize={18} fontWeight={600} />\n      </div>\n      {closeButton ? (\n        <IconButton aria-label=\"close\" className={classes.closeButton} onClick={onClose}>\n          <IconLoader iconName={'Cross'} iconType=\"misc\" />\n        </IconButton>\n      ) : null}\n    </MuiDialogTitle>\n  );\n});\n\nconst DialogContent = withStyles(() => ({\n  root: {\n    minWidth: 500,\n    background: 'linear-gradient(180deg, #48423E 0%, #373030 100%)',\n    borderTop: '1px solid rgba(255, 255, 255, 0.15)',\n    padding: '24px 32px',\n  },\n  dividers: {\n    borderTop: `1px solid rgba(255, 255, 255, 0.08)`,\n  },\n  '@media (max-width: 600px)': {\n    root: {\n      width: '100%',\n      minWidth: '350px',\n      maxHeight: '60%',\n      padding: '24px 16px',\n    },\n  },\n}))(MuiDialogContent);\n\ninterface props {\n  children: React.ReactNode;\n  title?: string;\n  handleClose?: Function;\n  open?: boolean;\n  titleLogo?: React.ReactNode;\n  modalContainerStyle?: any;\n  modalTitleStyle?: any;\n  modalBodyStyle?: any;\n  closeButton?: boolean;\n  mobile?: boolean;\n}\n\nconst useStyles = makeStyles({\n  root: {\n    background: 'linear-gradient(180deg, #48423e 0%, #373030 100%)',\n    boxShadow: '0 8px 16px -2px rgba(0, 0, 0, 0.12)',\n    borderRadius: '6px !important',\n  },\n  halfScreen: {},\n  customPaper: {},\n\n  '@media (max-width: 800px)': {\n    root: {\n      marginTop: '250px !important',\n      borderRadius: '6px 6px 0 0 !important',\n    },\n    halfScreen: {\n      height: 'auto',\n      maxHeight: 'calc(100vh - 72px)',\n      width: '100%',\n      borderRadius: '6px 6px 0px 0px !important',\n    },\n    customPaper: {\n      alignItems: 'flex-end',\n    },\n  },\n});\n\nconst Modal: React.FC<props> = ({\n  children,\n  title,\n  handleClose,\n  open,\n  titleLogo,\n  modalContainerStyle,\n  modalTitleStyle,\n  modalBodyStyle,\n  closeButton,\n  mobile = false,\n}) => {\n  const theme = useTheme();\n  const modalStyles = useStyles();\n  const fullScreen = useMediaQuery(theme.breakpoints.down('sm'));\n  const [openModal, setOpen] = React.useState(open);\n\n  const handleCloseModal = () => {\n    if (handleClose) {\n      handleClose();\n    }\n  };\n  if (open !== openModal) {\n    setOpen(open);\n  }\n  let modalJsx = <div />;\n  if (openModal) {\n    modalJsx = (\n      <Dialog\n        style={modalContainerStyle}\n        fullScreen={fullScreen}\n        fullWidth={mobile}\n        onClose={handleCloseModal}\n        aria-labelledby=\"customized-dialog-title\"\n        open={openModal}\n        onBackdropClick={handleCloseModal}\n        classes={{\n          paper: modalStyles.root,\n          paperFullScreen: modalStyles.halfScreen,\n          scrollPaper: modalStyles.customPaper,\n        }}\n      >\n        {title && (\n          <DialogTitle\n            closeButton={closeButton}\n            modalTitleStyle={{\n              display: 'flex',\n              color: 'rgba(255, 255, 255, 0.88)',\n              alignItems: 'center',\n              justifyContent: 'center',\n              padding: '28px ',\n              ...modalTitleStyle,\n            }}\n            id=\"customized-dialog-title\"\n            onClose={handleCloseModal}\n            titleLogo={titleLogo}\n            title={title}\n          >\n            {title}\n          </DialogTitle>\n        )}\n        <DialogContent\n          style={{\n            ...modalBodyStyle,\n          }}\n          dividers\n        >\n          <div style={{}}>{children}</div>\n        </DialogContent>\n      </Dialog>\n    );\n  }\n  return modalJsx;\n};\nexport default Modal;\n","import React from 'react';\nimport styled, { keyframes } from 'styled-components';\n\nimport Tick from '../../../assets/images/Tick.svg';\nimport Button from '../Button';\nimport IconLoader from '../IconLoader';\nimport CustomModal from '../Modal';\n\nexport interface InputProps {\n  modalOpen: boolean;\n  setModalOpen: () => void;\n\n  //title\n  title: string;\n\n  //Subtitle props\n  subTitle?: string;\n  subTitleLink?: string /* if want to redirect to other website only */;\n\n  //test below title and above subtitle\n  subsubTitle?: string;\n\n  //Buttons Props\n  buttonText?: string;\n  buttonType?: 'default' | 'transparent' | 'outlined' | 'rounded';\n  buttonHref?: string /* if want to redirect button to other website */;\n  buttonTo?: string /* if want to redirect to other page */;\n}\n\nconst SuccessModal: React.FC<InputProps> = (props) => {\n  const {\n    modalOpen,\n    setModalOpen,\n    title,\n    subTitle,\n    subTitleLink,\n    buttonText,\n    subsubTitle,\n    buttonType = 'transparent',\n    buttonHref,\n    buttonTo,\n  } = props;\n\n  let buttonRedirection: object;\n\n  if (buttonHref) {\n    buttonRedirection = {\n      href: buttonHref,\n    };\n  } else if (buttonTo) {\n    buttonRedirection = {\n      to: buttonTo,\n    };\n  } else {\n    buttonRedirection = {};\n  }\n\n  return (\n    <CustomModal\n      handleClose={() => setModalOpen()}\n      open={modalOpen}\n      modalTitleStyle={{}}\n      modalContainerStyle={{}}\n      modalBodyStyle={{}}\n    >\n      <MainContainer>\n        <CloseButton onClick={() => setModalOpen()}>\n          <IconLoader iconName=\"Cross\" iconType=\"misc\" />\n        </CloseButton>\n        <TickContainer>\n          <TickBackgroundWave />\n          <TickImg src={Tick} height={100} />\n        </TickContainer>\n        <ContentConatiner>\n          <ContentTitle>{title}</ContentTitle>\n          <ContentSubSubtitle>{subsubTitle}</ContentSubSubtitle>\n          <ContentSubtitle href={subTitleLink} target={'__blank'}>\n            {subTitle}\n          </ContentSubtitle>\n        </ContentConatiner>\n        {buttonText && (\n          <Button\n            text={buttonText}\n            size={'lg'}\n            variant={buttonType}\n            onClick={() => setModalOpen()}\n            {...buttonRedirection}\n          />\n        )}\n      </MainContainer>\n    </CustomModal>\n  );\n};\n\nexport default SuccessModal;\n\nconst TickAnimation = keyframes`\n  0%   {transform: scale(0)}\n  60%  {transform: scale(1.4)}\n  100% {transform: scale(1)}\n`;\n\nconst TickBackground = keyframes`\n  from {\n    transform: scale(0);\n    background: #20C97450;\n  }\n  to {\n    transform: scale(1);\n    background: #20C97400;\n  }\n`;\n\nconst CloseButton = styled.div`\n  position: absolute;\n  right: 32px;\n  top: 32px;\n  cursor: pointer;\n`;\n\nconst MainContainer = styled.div``;\n\nconst TickContainer = styled.div`\n  display: flex;\n  width: 100%;\n  justify-content: center;\n  align-items: center;\n  margin-top: 46px;\n  margin-bottom: 24px;\n  position: relative;\n`;\n\nconst TickImg = styled.img`\n  animation: ${TickAnimation} 0.5s linear;\n  z-index: 1;\n`;\n\nconst TickBackgroundWave = styled.div`\n  width: 300px;\n  height: 300px;\n  border-radius: 50%;\n  background: transparent;\n  position: absolute;\n  z-index: 0;\n  animation: ${TickBackground} 1s linear;\n`;\n\nconst ContentConatiner = styled.div`\n  text-align: center;\n  margin-bottom: 32px;\n`;\nconst ContentTitle = styled.p`\n  font-style: normal;\n  font-weight: 600;\n  font-size: 18px;\n  line-height: 24px;\n  text-align: center;\n  color: rgba(255, 255, 255);\n  margin: 0 0 10px;\n`;\n\nconst ContentSubtitle = styled.a`\n  font-style: normal;\n  font-weight: 300;\n  font-size: 14px;\n  line-height: 140%;\n  text-align: center;\n  color: #f7653b;\n  margin: 0;\n  cursor: pointer;\n  &:hover {\n    color: #f7653b;\n  }\n`;\n\nconst ContentSubSubtitle = styled.p`\n  font-style: normal;\n  font-weight: 300;\n  font-size: 14px;\n  line-height: 140%;\n  text-align: center;\n  color: rgba(255, 255, 255, 0.88);\n  margin-bottom: 4px;\n`;\n","import React from 'react';\nimport styled from 'styled-components';\n\nimport { Tooltip, withStyles } from '@material-ui/core';\n\nimport theme from '../../index';\nimport IconLoader from '../IconLoader';\n\n\ntype props = {\n  toolTipText?: string;\n  className?: string;\n};\n\nconst HtmlTooltip = withStyles(() => ({\n  tooltip: {\n    backgroundColor: theme.color.dark[200],\n    color: 'white',\n    fontWeight: 300,\n    fontSize: '13px',\n    borderRadius: '6px',\n    padding: '20px',\n  },\n}))(Tooltip);\n\nconst ToolTip: React.FC<props> = (props) => {\n  const { toolTipText = 'hello', className = '' } = props;\n\n  const [open, setOpen] = React.useState<boolean>(false);\n\n  const show = () => {\n    setOpen(true);\n  };\n\n  const hide = () => {\n    setOpen(false);\n  };\n\n  return (\n    <HtmlTooltip\n      title={\n        <React.Fragment>\n          <ToolTipFont>{toolTipText}</ToolTipFont>\n        </React.Fragment>\n      }\n      aria-label=\"add\"\n      disableHoverListener\n      onMouseEnter={() => show()}\n      onClick={() => show()}\n      onMouseLeave={() => hide()}\n      open={open || false}\n    >\n      <div className=\"single-line-center-center\">\n        <IconLoader iconName={'InfoToolTip'} className=\"pointer m-l-4\" />\n      </div>\n    </HtmlTooltip>\n  );\n};\n\nexport default ToolTip;\n\nconst ToolTipFont = styled.p`\n  padding: 0;\n  margin: 0;\n`;\n","import { BigNumber } from 'ethers';\nimport { formatUnits, parseUnits } from 'ethers/lib/utils';\n\nimport ERC20 from '../protocol/ERC20';\n\nexport const getDisplayBalance = (balance: BigNumber, decimals = 18, fractionDigits = 3) => {\n  const formattedBalance: string = getBalance(balance, decimals);\n  const decimalsPointIndex = formattedBalance.indexOf('.');\n  if (decimalsPointIndex === -1) return formattedBalance;\n  return (\n    formattedBalance.slice(0, decimalsPointIndex) +\n    '.' +\n    formattedBalance.slice(decimalsPointIndex + 1, decimalsPointIndex + 1 + fractionDigits)\n  );\n};\n\nexport const getFullDisplayBalance = (balance: BigNumber, decimals = 18) => {\n  return getDisplayBalance(balance, decimals);\n};\n\nexport const getDisplayBalanceToken = (\n  balance: BigNumber,\n  token: ERC20,\n  fractionDigits = 3,\n) => {\n  return getDisplayBalance(balance, token.decimal, fractionDigits);\n};\n\nexport function getBalance(balance: BigNumber, decimals = 18): string {\n  try {\n    return formatUnits(balance, decimals);\n  } catch (err) {\n    return '0';\n  }\n}\n\nexport const truncateMiddle = function (\n  fullStr: string = '12345678922500025',\n  strLen: number,\n  separator?: string,\n) {\n  if (fullStr.length <= strLen) return fullStr;\n\n  separator = separator || '...';\n\n  var sepLen = separator.length,\n    charsToShow = strLen - sepLen,\n    frontChars = Math.ceil(charsToShow / 3),\n    backChars = Math.floor(charsToShow / 3);\n\n  return fullStr.substr(0, frontChars) + separator + fullStr.substr(fullStr.length - backChars);\n};\n\nexport const formatToBN = (value: number | string, decimals = 18): BigNumber => {\n  try {\n    const [beforeDecimals, afterDecimal] = `${value}`.split('.');\n\n    const beforeDecimalsPrecisionText = beforeDecimals?.slice(0, 18) || '0';\n    const afterDecimalsPrecisionText = afterDecimal?.slice(0, decimals) || '0';\n    const fixedPrecisionValue = `${beforeDecimalsPrecisionText}.${afterDecimalsPrecisionText}`;\n\n    return BigNumber.from(parseUnits(`${fixedPrecisionValue}`, decimals));\n  } catch (error) {\n    return BigNumber.from('0');\n  }\n};\n","import config from '../config';\n\nexport const troveDetails = (data: string, chainId: number) => {\n  return config[chainId].troveStaticInfo;\n};\n","export function escapeRegExp(string: string): string {\n  return string.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&'); // $& means the whole matched string\n}\n\nexport const truncateMiddle = function (\n  fullStr: string = '',\n  strLen: number,\n  separator?: string,\n) {\n  if (fullStr.length <= strLen) return fullStr;\n\n  separator = separator || '...';\n\n  var sepLen = separator.length,\n    charsToShow = strLen - sepLen,\n    frontChars = Math.ceil(charsToShow / 3),\n    backChars = Math.floor(charsToShow / 3);\n\n  return fullStr.substr(0, frontChars) + separator + fullStr.substr(fullStr.length - backChars);\n};\n\nexport const convertToDate = (timestamp: number) => new Date(timestamp * 1000);\n","import assert from 'assert';\nimport { BigNumber, Contract } from 'ethers';\n\nimport Protocol from '../protocol';\nimport { BETA, MINUTE_DECAY_FACTOR } from '../protocol/constants';\n\nimport { convertToDate } from '.';\nimport { Decimal, Decimalish, decimalify } from './Decimal';\n\n\n/**\n * Value that the {@link Fees.borrowingRate | borrowing rate} will never decay below.\n *\n * @remarks\n * Note that the borrowing rate can still be lower than this during recovery mode, when it's\n * overridden by zero.\n *\n * @public\n */\nexport const MINIMUM_BORROWING_RATE = Decimal.from(0.005);\n\n/**\n * Value that the {@link Fees.borrowingRate | borrowing rate} will never exceed.\n *\n * @public\n */\nexport const MAXIMUM_BORROWING_RATE = Decimal.from(0.05);\n\n/**\n * Value that the {@link Fees.redemptionRate | redemption rate} will never decay below.\n *\n * @public\n */\nexport const MINIMUM_REDEMPTION_RATE = Decimal.from(0.005);\n\n/**\n * Calculator for fees.\n *\n * @remarks\n * Returned by the {@link ReadableLiquity.getFees | getFees()} function.\n *\n * @public\n */\nexport class Fees {\n  private readonly _baseRateWithoutDecay: Decimal;\n  private readonly _minuteDecayFactor: Decimal;\n  private readonly _beta: Decimal;\n  private readonly _lastFeeOperation: Date;\n  private readonly _timeOfLatestBlock: Date;\n  private readonly _recoveryMode: boolean;\n\n  /** @internal */\n  constructor(\n    baseRateWithoutDecay: Decimalish,\n    minuteDecayFactor: Decimalish,\n    beta: Decimalish,\n    lastFeeOperation: Date,\n    timeOfLatestBlock: Date,\n    recoveryMode: boolean,\n  ) {\n    this._baseRateWithoutDecay = Decimal.from(baseRateWithoutDecay);\n    this._minuteDecayFactor = Decimal.from(minuteDecayFactor);\n    this._beta = Decimal.from(beta);\n    this._lastFeeOperation = lastFeeOperation;\n    this._timeOfLatestBlock = timeOfLatestBlock;\n    this._recoveryMode = recoveryMode;\n\n    assert(this._minuteDecayFactor.lt(1));\n  }\n\n  /** @internal */\n  _setRecoveryMode(recoveryMode: boolean): Fees {\n    return new Fees(\n      this._baseRateWithoutDecay,\n      this._minuteDecayFactor,\n      this._beta,\n      this._lastFeeOperation,\n      this._timeOfLatestBlock,\n      recoveryMode,\n    );\n  }\n\n  /**\n   * Compare to another instance of `Fees`.\n   */\n  equals(that: Fees): boolean {\n    return (\n      this._baseRateWithoutDecay.eq(that._baseRateWithoutDecay) &&\n      this._minuteDecayFactor.eq(that._minuteDecayFactor) &&\n      this._beta.eq(that._beta) &&\n      this._lastFeeOperation.getTime() === that._lastFeeOperation.getTime() &&\n      this._timeOfLatestBlock.getTime() === that._timeOfLatestBlock.getTime() &&\n      this._recoveryMode === that._recoveryMode\n    );\n  }\n\n  /** @internal */\n  toString(): string {\n    return (\n      `{ baseRateWithoutDecay: ${this._baseRateWithoutDecay}` +\n      `, lastFeeOperation: \"${this._lastFeeOperation.toLocaleString()}\"` +\n      `, recoveryMode: ${this._recoveryMode} } `\n    );\n  }\n\n  /** @internal */\n  baseRate(when = this._timeOfLatestBlock): Decimal {\n    const millisecondsSinceLastFeeOperation = Math.max(\n      when.getTime() - this._lastFeeOperation.getTime(),\n      0, // Clamp negative elapsed time to 0, in case the client's time is in the past.\n      // We will calculate slightly higher than actual fees, which is fine.\n    );\n\n    const minutesSinceLastFeeOperation = Math.floor(millisecondsSinceLastFeeOperation / 60000);\n\n    return this._minuteDecayFactor\n      .pow(minutesSinceLastFeeOperation)\n      .mul(this._baseRateWithoutDecay);\n  }\n\n  /**\n   * Calculate the current borrowing rate.\n   *\n   * @param when - Optional timestamp that can be used to calculate what the borrowing rate would\n   *               decay to at a point of time in the future.\n   *\n   * @remarks\n   * By default, the fee is calculated at the time of the latest block. This can be overridden using\n   * the `when` parameter.\n   *\n   * To calculate the borrowing fee in ARTH, multiply the borrowed ARTH amount by the borrowing rate.\n   *\n   * @example\n   * ```typescript\n   * const fees = await liquity.getFees();\n   *\n   * const borrowedARTHAmount = 100;\n   * const borrowingRate = fees.borrowingRate();\n   * const borrowingFeeARTH = borrowingRate.mul(borrowedARTHAmount);\n   * ```\n   */\n  borrowingRate(when?: Date): Decimal {\n    return this._recoveryMode\n      ? Decimal.ZERO\n      : Decimal.min(MINIMUM_BORROWING_RATE.add(this.baseRate(when)), MAXIMUM_BORROWING_RATE);\n  }\n\n  /**\n   * Calculate the current redemption rate.\n   *\n   * @param redeemedFractionOfSupply - The amount of ARTH being redeemed divided by the total supply.\n   * @param when - Optional timestamp that can be used to calculate what the redemption rate would\n   *               decay to at a point of time in the future.\n   *\n   * @remarks\n   * By default, the fee is calculated at the time of the latest block. This can be overridden using\n   * the `when` parameter.\n   * Unlike the borrowing rate, the redemption rate depends on the amount being redeemed. To be more\n   * precise, it depends on the fraction of the redeemed amount compared to the total ARTH supply,\n   * which must be passed as a parameter.\n   *\n   * To calculate the redemption fee in ARTH, multiply the redeemed ARTH amount with the redemption\n   * rate.\n   *\n   * @example\n   * ```typescript\n   * const fees = await liquity.getFees();\n   * const total = await liquity.getTotal();\n   *\n   * const redeemedARTHAmount = Decimal.from(100);\n   * const redeemedFractionOfSupply = redeemedARTHAmount.div(total.debt);\n   * const redemptionRate = fees.redemptionRate(redeemedFractionOfSupply);\n   * const redemptionFeeARTH = redemptionRate.mul(redeemedARTHAmount);\n   * ```\n   */\n  redemptionRate(redeemedFractionOfSupply: Decimalish = Decimal.ZERO, when?: Date): Decimal {\n    redeemedFractionOfSupply = Decimal.from(redeemedFractionOfSupply);\n    let baseRate = this.baseRate(when);\n\n    if (redeemedFractionOfSupply.nonZero) {\n      baseRate = redeemedFractionOfSupply.div(this._beta).add(baseRate);\n    }\n\n    return Decimal.min(MINIMUM_REDEMPTION_RATE.add(baseRate), Decimal.ONE);\n  }\n}\n\n/** @internal */\nexport async function _getFeesFactory(\n  troveManager: Contract,\n): Promise<(blockTimestamp: number, recoveryMode: boolean) => Fees> {\n  const [lastFeeOperationTime, baseRateWithoutDecay] = await Promise.all([\n    troveManager.lastFeeOperationTime(),\n    troveManager.baseRate().then(decimalify),\n  ]);\n\n  return (blockTimestamp, recoveryMode) =>\n    new Fees(\n      baseRateWithoutDecay,\n      decimalify(MINUTE_DECAY_FACTOR),\n      BETA,\n      convertToDate(lastFeeOperationTime.toNumber()),\n      convertToDate(blockTimestamp),\n      recoveryMode,\n    );\n}\n\nexport async function getFees(\n  troveManager: Contract,\n  core: Protocol,\n  token: string,\n  price: BigNumber,\n  chainId: number,\n): Promise<Fees> {\n  const [createFees, total, blockTimestamp] = await Promise.all([\n    _getFeesFactory(troveManager),\n    core.getTotal(token, chainId),\n    core.getBlockTimestamp(),\n  ]);\n\n  return createFees(blockTimestamp, total.collateralRatioIsBelowCritical(decimalify(price)));\n}\n\nexport const addGasForBaseRateUpdate = (maxMinutesSinceLastUpdate = 10) => (gas: BigNumber) =>\n  gas.add(10000 + 1414 * Math.ceil(Math.log2(maxMinutesSinceLastUpdate + 1)));\n","const formatErrorMessage = (message: string): string => {\n  message = message.toLowerCase();\n\n  if (message.includes('trove does not exist or is closed')) return 'Loan not found';\n  if (message.includes(`requested redemption amount must be <= user's lusd token balance`))\n    return 'Requested amount is less than User balance.';\n  if (message.includes('user denied transaction')) return `Transaction was cancelled`;\n  if (message.includes('only one trove in the system'))\n    return `There should be atleast one active loan.`;\n  if (message.includes('paused')) return 'This action is paused.';\n  if (message.includes('cannot redeem when tcr < mcr'))\n    return 'Cannot redeem when Total Collateral Ratio < 110%.';\n  if (message.includes('redemptions are not allowed during bootstrap phase'))\n    return 'Cannot redeem in bootstrap phase.';\n  if (message.includes('is inactive')) return 'This action has been deactivated.';\n  if (message.includes('fee percentage must be between')) return 'Invalid fee percentage.';\n  if (message.includes('cannot withdraw while there are troves with icr < mcr'))\n    return 'Cannot withdraw when there are active loans with collateral ratio < 110%.';\n  if (message.includes('tag must be a registered front end, or the zero address'))\n    return 'Frontend must be registered.';\n  if (message.includes('kickback rate must be in range [0,1]'))\n    return 'Kickback must be between 0 and 100%.';\n  if (message.includes('cannot withdraw and add coll'))\n    return 'Cannot withdraw and add collateral at the same time.';\n  if (message.includes('not permitted during recovery mode'))\n    return 'This operation is not permitted in Recovery mode.';\n  if (message.includes('that would result in icr < mcr is not permitted'))\n    return 'Operations that results in Collateral Ratio < 100% are not permitted.';\n  if (message.includes('must leave trove with icr >= ccr'))\n    return 'Operations must result in Collateral Ratio > Critical collateral ratio';\n  if (message.includes(`cannot decrease your trove's icr in recovery mode`))\n    return 'This operation is not permitted in Recovery mode.';\n  if (message.includes(`that would result in tcr < ccr is not permitted`))\n    return 'Operations that results in Total collateral ratio < Critical collateral ratio are not permitted.';\n  if (message.includes('nothing to liquidate')) return 'Not under liquidation.';\n  if (message.includes('calldata address array must not be empty'))\n    return 'Cannot pass empty data.';\n  if (message.includes('unable to redeem any amount')) return 'Unable to redeem any amount.';\n  if (message.includes('fee would eat up all returned collateral'))\n    return 'Fee would eat up all returned collateral.';\n  if (message.includes(`requested redemption amount must be <= user's lusd token balance`))\n    return `Requested redemption amount must be <= user's ARTH token balance.`;\n  if (message.includes(`amount must be greater than zero`))\n    return `Amount must be greater than zero.`;\n  if (message.includes(`max fee percentage must be between 0.5% and 100`))\n    return `Max fee percentage must be between 0.5% and 100.`;\n  if (message.includes(`user must have a non-zero deposit`))\n    return `User must have a non-zero deposit.`;\n  if (message.includes(`user must have no deposit`)) return `User must have no deposit.`;\n  if (message.includes(`caller must have an active trove to withdraw ethgain to`))\n    return `Must have an active loan to withdraw gain to loan.`;\n  if (message.includes(`caller must have non-zero eth gain`)) return `Must have non-zero Gain.`;\n  if (message.includes(`there must be either a collateral change or a debt change`))\n    return `There must be either a collateral change or a debt change.`;\n  if (message.includes(`collateral withdrawal not permitted recovery mode`))\n    return `Collateral withdrawal not permitted Recovery Mode.`;\n  if (message.includes(`trove's net debt must be greater than minimum`))\n    return `Loan's net debt must be greater than minimum.`;\n  if (message.includes(`operation must leave trove with icr >= ccr`))\n    return `Operation must leave loan with ICR >= CCR.`;\n  if (message.includes(`fee exceeded provided maximum`))\n    return `Fee exceeded provided maximum.`;\n\n  // Fail safes like overflows etc.;\n  return 'Error';\n};\n\nexport default formatErrorMessage;\n","import { BigNumberish } from '@ethersproject/bignumber';\nimport assert from 'assert';\nimport { BigNumber, Contract } from 'ethers';\n\nimport {\n  MAX_TRIALS_AT_ONCE,\n  MAX_UINT_256,\n  REDEEM_MAX_ITERATIONS,\n  ZERO_ADDRESS,\n} from '../../../protocol/constants';\n\ntype Hint = {\n  truncatedARTHamount: BigNumber;\n  firstRedemptionHint: string;\n  partialRedemptionHintNICR: BigNumber;\n};\n\nfunction* generateTrials(totalNumberOfTrials: number): IterableIterator<number> {\n  assert(Number.isInteger(totalNumberOfTrials) && totalNumberOfTrials > 0);\n  while (totalNumberOfTrials) {\n    const numberOfTrials = Math.min(totalNumberOfTrials, MAX_TRIALS_AT_ONCE);\n    yield numberOfTrials;\n\n    totalNumberOfTrials -= numberOfTrials;\n  }\n}\n\nconst randomInteger = () => Math.floor(Math.random() * Number.MAX_SAFE_INTEGER);\n\nexport async function findHintsForNominalCollateralRatio(\n  nominalCollateralRatio: BigNumber,\n  sortedTroves: Contract,\n  hintHelpers: Contract,\n  troveManager: Contract,\n  ownAddress?: string,\n): Promise<[string, string]> {\n  const numberOfTroves = await troveManager.getTroveOwnersCount();\n  if (!numberOfTroves || numberOfTroves.lte(0)) {\n    return [ZERO_ADDRESS, ZERO_ADDRESS];\n  }\n\n  if (nominalCollateralRatio.eq(BigNumber.from(MAX_UINT_256))) {\n    return [ZERO_ADDRESS, await sortedTroves.getFirst()];\n  }\n\n  const totalNumberOfTrials = Math.ceil(10 * Math.sqrt(numberOfTroves));\n  const [firstTrials, ...restOfTrials]: any = generateTrials(totalNumberOfTrials);\n\n  const collectApproxHint = (\n    {\n      latestRandomSeed,\n      results,\n    }: {\n      latestRandomSeed: BigNumberish;\n      results: { diff: BigNumber; hintAddress: string }[];\n    },\n    numberOfTrials: number,\n  ) =>\n    hintHelpers\n      .getApproxHint(nominalCollateralRatio, numberOfTrials, latestRandomSeed)\n      .then(({ latestRandomSeed, ...result }: any) => ({\n        latestRandomSeed,\n        results: [...results, result],\n      }));\n\n  const { results } = await restOfTrials.reduce(\n    (p: any, numberOfTrials: number) =>\n      p.then((state: any) => collectApproxHint(state, numberOfTrials)),\n    collectApproxHint({ latestRandomSeed: randomInteger(), results: [] }, firstTrials),\n  );\n\n  const { hintAddress } = results.reduce((a: any, b: any) => (a.diff.lt(b.diff) ? a : b));\n\n  let [prev, next] = await sortedTroves.findInsertPosition(\n    nominalCollateralRatio,\n    hintAddress,\n    hintAddress,\n  );\n\n  if (ownAddress) {\n    // In the case of reinsertion, the address of the Trove being reinserted is not a usable hint,\n    // because it is deleted from the list before the reinsertion.\n    // \"Jump over\" the Trove to get the proper hint.\n    if (prev === ownAddress) {\n      prev = await sortedTroves.getPrev(prev);\n    } else if (next === ownAddress) {\n      next = await sortedTroves.getNext(next);\n    }\n  }\n\n  return prev === ZERO_ADDRESS\n    ? [next, next]\n    : next === ZERO_ADDRESS\n    ? [prev, prev]\n    : [prev, next];\n}\n\ntype RedeemptionHints = [BigNumber, string, string, string, BigNumber];\n\nexport async function findRedemptionHints(\n  amount: BigNumber,\n  sortedTroves: Contract,\n  hintHelpers: Contract,\n  troveManager: Contract,\n  priceFeed: Contract,\n  ownAddress?: string,\n): Promise<RedeemptionHints> {\n  const price = await priceFeed.callStatic.fetchPrice();\n\n  const {\n    firstRedemptionHint,\n    partialRedemptionHintNICR,\n    truncatedARTHamount,\n  }: Hint = await hintHelpers.getRedemptionHints(amount, price, REDEEM_MAX_ITERATIONS);\n\n  const [\n    partialRedemptionUpperHint,\n    partialRedemptionLowerHint,\n  ] = partialRedemptionHintNICR.isZero()\n    ? [ZERO_ADDRESS, ZERO_ADDRESS]\n    : await findHintsForNominalCollateralRatio(\n        partialRedemptionHintNICR,\n        sortedTroves,\n        hintHelpers,\n        troveManager,\n        ownAddress,\n      );\n\n  return [\n    truncatedARTHamount,\n    firstRedemptionHint,\n    partialRedemptionUpperHint,\n    partialRedemptionLowerHint,\n    partialRedemptionHintNICR,\n  ];\n}\n","import * as Sentry from '@sentry/react';\nimport { BigNumber } from 'ethers';\nimport { useCallback } from 'react';\n\nimport { REDEEM_MAX_ITERATIONS } from '../../../protocol/constants';\nimport { useAddPopup } from '../../../state/application/hooks';\nimport { useTransactionAdder } from '../../../state/transactions/hooks';\nimport { Decimal, decimalify } from '../../../utils/Decimal';\nimport { useGetChainId } from '../../../utils/NetworksCustomHooks';\nimport { getFees } from '../../../utils/fees';\nimport { getDisplayBalance } from '../../../utils/formatBalance';\nimport formatErrorMessage from '../../../utils/formatErrorMessage';\nimport { troveDetails } from '../../../utils/tokenDetails';\nimport { findRedemptionHints } from '../../state/hinthelpers/helper';\nimport useCore from '../../useCore';\n\nexport default function (trove: string, arthAmount: BigNumber, redemptionRate: BigNumber) {\n  const core = useCore();\n  const addPopup = useAddPopup();\n  const addTransaction = useTransactionAdder();\n  const activeChainId = useGetChainId();\n  const troveDetail = troveDetails(trove, activeChainId);\n\n  return useCallback(\n    async (callback: () => void, errorHandler: () => void): Promise<void> => {\n      try {\n        const priceFeed = core.getPriceFeed(troveDetail.contractPrefix, activeChainId);\n        const hintHelpers = core.getHintHelper(troveDetail.contractPrefix, activeChainId);\n\n        const troveManager = core.getTroveManager(troveDetail.contractPrefix, activeChainId);\n        const sortedTroves = core.getSortedTroves(troveDetail.contractPrefix, activeChainId);\n        const price = await priceFeed.callStatic.fetchPrice();\n\n        const [\n          fees,\n          total,\n          [truncatedAmount, firstRedemptionHint, ...partialHints],\n        ] = await Promise.all([\n          getFees(troveManager, core, troveDetail.depositToken, price, activeChainId),\n          core.getTotal(troveDetail.contractPrefix, activeChainId),\n          findRedemptionHints(\n            arthAmount,\n            sortedTroves,\n            hintHelpers,\n            troveManager,\n            priceFeed,\n            core.myAccount,\n          ),\n        ]);\n\n        if (truncatedAmount.isZero()) {\n          addPopup({\n            error: {\n              message: `Amount too low to redeem`,\n              stack: '',\n            },\n          });\n          return;\n        }\n\n        const defaultRedemptionRateSlippageTolerance = Decimal.from(0.001); // 0.1%\n\n        const defaultMaxRedemptionRate = (amount: Decimal) =>\n          Decimal.min(\n            fees\n              .redemptionRate(amount.div(total.debt))\n              .add(defaultRedemptionRateSlippageTolerance),\n            Decimal.ONE,\n          );\n\n        // const maxRedemptionRate = decimalify(redemptionRate)\n        const maxRedemptionRateOrDefault = defaultMaxRedemptionRate(\n          decimalify(truncatedAmount),\n        );\n\n        const response = await troveManager.redeemCollateral(\n          truncatedAmount,\n          firstRedemptionHint,\n          ...partialHints.map((d) => d.toString()),\n          REDEEM_MAX_ITERATIONS,\n          maxRedemptionRateOrDefault.hex,\n        );\n\n        if (response.status !== 1) {\n          errorHandler();\n          Sentry.captureException({\n            ...partialHints.map((d) => d.toString()),\n            response,\n            truncatedAmount,\n            firstRedemptionHint,\n            REDEEM_MAX_ITERATIONS,\n          });\n        }\n\n        addTransaction(response, {\n          summary: `Redeem ${Number(\n            getDisplayBalance(truncatedAmount, 18, 3),\n          ).toLocaleString()} ARTH for ${trove.toUpperCase()}`,\n        });\n\n        if (response.status !== 1) {\n          Sentry.captureException({\n            name: 'useRedeemCollateral',\n            response,\n            trove,\n            arthAmount,\n          });\n        }\n\n        const tx = await response.wait();\n        if (errorHandler && tx.status !== 1) errorHandler();\n        if (callback && tx.status === 1) callback();\n      } catch (e) {\n        Sentry.captureException({\n          name: 'useRedeemCollateral',\n          ...e,\n        });\n        if (errorHandler) errorHandler();\n\n        addPopup({\n          error: {\n            message: formatErrorMessage(e?.data?.message || e?.message),\n            stack: e?.stack,\n          },\n        });\n      }\n    },\n    [\n      activeChainId,\n      addPopup,\n      addTransaction,\n      arthAmount,\n      core,\n      trove,\n      troveDetail.contractPrefix,\n      troveDetail.depositToken,\n    ],\n  );\n}\n","import { BigNumber } from 'ethers';\nimport React, { useMemo, useState } from 'react';\nimport styled from 'styled-components';\n\nimport { Checkbox, CheckboxProps, FormControlLabel } from '@material-ui/core';\nimport { withStyles } from '@material-ui/core/styles';\n\nimport useOpenTrove from '../../../hooks/callbacks/borrowerOperations/useOpenTrove';\nimport useApprove, { ApprovalState } from '../../../hooks/callbacks/useApprove';\nimport useCore from '../../../hooks/useCore';\nimport Button from '../../../theme/components/Button';\nimport IconLoader from '../../../theme/components/IconLoader';\nimport Modal from '../../../theme/components/Modal';\nimport TextWrapper from '../../../theme/components/TextWrapper';\nimport { useGetChainId } from '../../../utils/NetworksCustomHooks';\nimport { getDisplayBalance } from '../../../utils/formatBalance';\n\n\nconst OrangeCheckBox = withStyles({\n  root: {\n    color: 'rgba(255, 255, 255, 0.32)',\n    '&$checked': {\n      color: '#FF7F57',\n    },\n  },\n  checked: {\n    color: 'white',\n  },\n})((props: CheckboxProps) => <Checkbox {...props} />);\n\ninterface Iprops {\n  openModal: boolean;\n  onClose: () => void;\n  onSuccess: () => void;\n  selectedCollateralCoin: string;\n  selectedContractPrefix: string;\n  totalDebt: BigNumber;\n  liquidationReserve: BigNumber;\n  borrowingFee: BigNumber;\n  borrowingFeeRate: BigNumber;\n  collateralAmount: BigNumber;\n}\n\nenum LoanTxState {\n  NOT_COMPLETED,\n  PENDING,\n  COMPLETED,\n}\n\nconst StepConfirmationModal = (props: Iprops) => {\n  const {\n    openModal,\n    onClose,\n    selectedCollateralCoin,\n    selectedContractPrefix,\n    totalDebt,\n    liquidationReserve,\n    borrowingFee,\n    borrowingFeeRate,\n    collateralAmount,\n    onSuccess,\n  } = props;\n\n  const [loanTxState, setLoanTxState] = useState<LoanTxState>(LoanTxState.NOT_COMPLETED);\n\n  const core = useCore();\n  const activeChainId = useGetChainId();\n\n  const [collatApproveStatus, approveCollateral] = useApprove(\n    core.tokens(selectedCollateralCoin, activeChainId),\n    core.getBorrowerOperations(selectedContractPrefix, activeChainId).address,\n  );\n\n  const isCollatApproved = useMemo(() => collatApproveStatus === ApprovalState.APPROVED, [\n    collatApproveStatus,\n  ]);\n  const isCollatApproving = useMemo(() => collatApproveStatus === ApprovalState.PENDING, [\n    collatApproveStatus,\n  ]);\n\n  const openTrove = useOpenTrove(\n    selectedContractPrefix,\n    borrowingFeeRate,\n    totalDebt.sub(liquidationReserve).sub(borrowingFee),\n    collateralAmount,\n  );\n\n  const handleButtonCallback = () => {\n    setLoanTxState(LoanTxState.COMPLETED);\n    const handler = setTimeout(() => {\n      onSuccess();\n    }, 1000);\n\n    return () => {\n      clearTimeout(handler);\n    };\n  };\n\n  const handleButtonClick = () => {\n    setLoanTxState(LoanTxState.PENDING);\n    openTrove(handleButtonCallback, () => setLoanTxState(LoanTxState.NOT_COMPLETED));\n  };\n\n  return (\n    <Modal\n      title={'Follow Transactions Steps'}\n      open={openModal}\n      handleClose={() => onClose()}\n      closeButton\n    >\n      <div>\n        <div className=\"m-b-32\">\n          <CheckboxDiv>\n            <FormControlLabel\n              checked={isCollatApproved}\n              control={\n                <OrangeCheckBox\n                  icon={\n                    isCollatApproved ? (\n                      <IconLoader iconType=\"checkbox\" iconName=\"Empty\" />\n                    ) : (\n                      <StepNo className=\"tags\">1</StepNo>\n                    )\n                  }\n                  checkedIcon={<IconLoader iconType=\"checkbox\" iconName=\"GreenCheck\" />}\n                  size={'small'}\n                />\n              }\n              label={'Approve Transaction'}\n              labelPlacement=\"end\"\n            />\n          </CheckboxDiv>\n          <div style={{ margin: '-12px 0px 20px 31px' }}>\n            <TextWrapper\n              text={'Approve the transaction using your wallet.'}\n              fontSize={16}\n              Fcolor={'#FFFFFF88'}\n            />\n          </div>\n          <Button\n            onClick={approveCollateral}\n            disabled={isCollatApproving || isCollatApproved}\n            loading={isCollatApproving}\n            tracking_id=\"approve_collateral_loan\"\n            tracking_params={{ collateral: selectedCollateralCoin }}\n          >\n            {isCollatApproved ? 'Completed' : 'Complete Transaction'}\n          </Button>\n        </div>\n        <div className=\"m-b-40\">\n          <CheckboxDiv>\n            <FormControlLabel\n              checked={loanTxState === LoanTxState.COMPLETED}\n              control={\n                <OrangeCheckBox\n                  icon={\n                    loanTxState === LoanTxState.COMPLETED ? (\n                      <IconLoader iconType=\"checkbox\" iconName=\"Empty\" />\n                    ) : (\n                      <StepNo className=\"tags\">2</StepNo>\n                    )\n                  }\n                  checkedIcon={<IconLoader iconType=\"checkbox\" iconName=\"GreenCheck\" />}\n                  size={'small'}\n                />\n              }\n              label={'Open a position'}\n              labelPlacement=\"end\"\n            />\n          </CheckboxDiv>\n          <div style={{ margin: '-12px 0px 20px 31px' }}>\n            <TextWrapper\n              text={'This is the final transaction to open loan.'}\n              fontSize={16}\n              Fcolor={'#FFFFFF88'}\n            />\n          </div>\n          <Button\n            onClick={handleButtonClick}\n            disabled={\n              loanTxState === LoanTxState.COMPLETED ||\n              loanTxState === LoanTxState.PENDING ||\n              !isCollatApproved\n            }\n            loading={loanTxState === LoanTxState.PENDING}\n            tracking_id=\"open_loan\"\n            tracking_params={{\n              collateral: selectedCollateralCoin,\n              amount: Number(getDisplayBalance(collateralAmount, 18, 3)),\n            }}\n          >\n            {loanTxState === LoanTxState.COMPLETED ? 'Completed' : 'Complete Transaction'}\n          </Button>\n        </div>\n      </div>\n    </Modal>\n  );\n};\n\nexport default StepConfirmationModal;\n\nconst CheckboxDiv = styled.div`\n  background: transparent;\n  border-radius: 6px;\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  font-style: normal;\n  font-weight: 600;\n  font-size: 14px;\n  line-height: 20px;\n  text-align: center;\n  color: rgba(255, 255, 255, 0.88);\n  margin: 15px 0 0 0;\n`;\n\nconst StepNo = styled.div`\n  width: 24px;\n  height: 24px;\n  font-size: 12px;\n  font-weight: 600;\n`;\n","import { BigNumber } from '@ethersproject/bignumber';\nimport { parseUnits } from 'ethers/lib/utils';\nimport React, { useState } from 'react';\n\nimport Grid from '@material-ui/core/Grid';\n\nimport useRedeemCollateral from '../../../hooks/callbacks/troveManager/useRedeemCollateral';\nimport Button from '../../../theme/components/Button';\nimport Modal from '../../../theme/components/Modal';\nimport TextWrapper from '../../../theme/components/TextWrapper';\nimport { useGetChainId } from '../../../utils/NetworksCustomHooks';\nimport { getDisplayBalance } from '../../../utils/formatBalance';\nimport { troveDetails } from '../../../utils/tokenDetails';\n\ninterface Iprops {\n  arthValue: string;\n  openModal: boolean;\n  onClose: () => void;\n  redemptionRate: BigNumber;\n  collateralValue: string;\n  trove: string;\n  redeemFee: BigNumber;\n  stabilityFee: BigNumber;\n  stabilityFeeRate: BigNumber;\n  stabilityFeeToken: string;\n  onSuccess: () => void;\n}\n\nconst ConfirmRedeemModal = (props: Iprops) => {\n  const {\n    openModal,\n    onClose,\n    trove,\n    redemptionRate,\n    arthValue,\n    collateralValue,\n    redeemFee,\n    stabilityFee,\n    stabilityFeeRate,\n    stabilityFeeToken,\n    onSuccess,\n  } = props;\n\n  const chainId = useGetChainId();\n  const troveDetail = troveDetails(trove, chainId);\n  const [loading, setLoading] = useState<boolean>(false);\n\n  const redeemCollateral = useRedeemCollateral(\n    trove,\n    BigNumber.from(parseUnits(arthValue, 18)),\n    redemptionRate,\n  );\n\n  const handleRedemption = () => {\n    setLoading(true);\n    redeemCollateral(\n      () => {\n        setLoading(false);\n        onClose();\n        onSuccess();\n      },\n      () => {\n        setLoading(false);\n        onClose();\n      },\n    );\n  };\n\n  return (\n    <>\n      <Modal\n        title={'Confirm Redemption'}\n        open={openModal}\n        handleClose={() => onClose()}\n        closeButton\n      >\n        <div>\n          <div className=\"single-line-center-between m-b-12\">\n            <TextWrapper text={'Your ARTH amount'} fontWeight={600} Fcolor={'#FFFFFF88'} />\n            <div className=\"single-line-center-between\">\n              <TextWrapper\n                text={Number(arthValue).toLocaleString()}\n                fontWeight={600}\n                Fcolor={'#FFFFFF88'}\n              />\n              <div className=\"tags m-l-4\">\n                <TextWrapper text={'ARTH'} fontSize={12} Fcolor={'#FFFFFF88'} />\n              </div>\n            </div>\n          </div>\n          <div className=\"single-line-center-between m-b-12\">\n            <TextWrapper text={'MAHA Fee'} fontWeight={600} Fcolor={'#FFFFFF88'} />\n            <div className=\"single-line-center-between\">\n              <TextWrapper\n                text={\n                  Number(getDisplayBalance(stabilityFee, 18, 3)).toLocaleString('en-US', {\n                    maximumFractionDigits: 4,\n                    minimumFractionDigits: 2,\n                  }) +\n                  ' (' +\n                  Number(getDisplayBalance(stabilityFeeRate, 16, 3)).toLocaleString() +\n                  '%)'\n                }\n                fontWeight={600}\n                Fcolor={'#FFFFFF88'}\n              />\n              <div className=\"tags m-l-4\">\n                <TextWrapper text={stabilityFeeToken} fontSize={12} Fcolor={'#FFFFFF88'} />\n              </div>\n            </div>\n          </div>\n          <div className=\"single-line-center-between m-b-24\">\n            <TextWrapper text={'Redeem Fee'} fontWeight={600} Fcolor={'#FFFFFF88'} />\n            <div className=\"single-line-center-between\">\n              <TextWrapper\n                text={\n                  Number(getDisplayBalance(redeemFee, 18, 6)).toLocaleString() +\n                  ' (' +\n                  Number(getDisplayBalance(redemptionRate, 16, 3)).toLocaleString() +\n                  '%)'\n                }\n                fontWeight={600}\n                Fcolor={'#FFFFFF88'}\n              />\n              <div className=\"tags m-l-4\">\n                <TextWrapper text={trove.toUpperCase()} fontSize={12} Fcolor={'#FFFFFF88'} />\n              </div>\n            </div>\n          </div>\n          <div className=\"bottom-divider m-b-24\" />\n          <div className=\"single-line-center-between m-b-32\">\n            <TextWrapper\n              text={`You will receive ${troveDetail.depositToken.toUpperCase()}`}\n              fontWeight={600}\n              Fcolor={'#FFFFFF88'}\n            />\n            <div className=\"single-line-center-between\">\n              <TextWrapper\n                text={Number(\n                  getDisplayBalance(\n                    BigNumber.from(parseUnits(collateralValue, 18)).sub(redeemFee),\n                    18,\n                    3,\n                  ),\n                ).toLocaleString()}\n                fontWeight={600}\n                Fcolor={'#FFFFFF88'}\n              />\n              <div className=\"tags m-l-4\">\n                <TextWrapper\n                  text={troveDetail.depositToken.toUpperCase()}\n                  fontSize={12}\n                  Fcolor={'#FFFFFF88'}\n                />\n              </div>\n            </div>\n          </div>\n          <Grid container spacing={2}>\n            <Grid item lg={6} md={6} sm={12} xs={12}>\n              <Button\n                variant={'transparent'}\n                onClick={() => onClose()}\n                tracking_id={'Redeem_ARTH'}\n                tracking_params={{\n                  collateral: troveDetail.trove,\n                  action: 'cancel',\n                  amount: Number(arthValue),\n                }}\n              >\n                Back\n              </Button>\n            </Grid>\n            <Grid item lg={6} md={6} sm={12} xs={12}>\n              <Button\n                loading={loading}\n                onClick={handleRedemption}\n                tracking_id={'Redeem_ARTH'}\n                tracking_params={{\n                  collateral: troveDetail.trove,\n                  action: 'confirm',\n                  amount: Number(arthValue),\n                }}\n              >\n                Redeem ARTH\n              </Button>\n            </Grid>\n          </Grid>\n        </div>\n      </Modal>\n    </>\n  );\n};\n\nexport default ConfirmRedeemModal;\n","import { BigNumber } from '@ethersproject/bignumber';\nimport { parseUnits } from 'ethers/lib/utils';\nimport React, { useEffect, useMemo, useState } from 'react';\nimport Loader from 'react-spinners/BeatLoader';\nimport styled from 'styled-components';\n\nimport Grid from '@material-ui/core/Grid';\n\nimport CustomInputContainer from '../../components/CustomInputContainer';\nimport { ValidateNumber } from '../../components/CustomInputContainer/RegexValidation';\nimport useApprove, { ApprovalState } from '../../hooks/callbacks/useApprove';\nimport useMAHAPrice from '../../hooks/state/controller/useMAHAPrice';\nimport useGetStabilityFeeAndToken from '../../hooks/state/governance/useGetStabilityFee';\nimport useGetRedemptionFeeRateWithDecay from '../../hooks/state/troveManager/useGetRedemptionFeeRateWithDecay';\nimport useCollateralPriceFeed from '../../hooks/state/useCollateralPriceFeed';\nimport useGetNativeTokenBalance from '../../hooks/state/useGetNativeTokenBalance';\nimport useTokenBalance from '../../hooks/state/useTokenBalance';\nimport useCore from '../../hooks/useCore';\nimport { DECIMALS_18 } from '../../protocol/constants';\nimport Button from '../../theme/components/Button';\nimport IconLoader from '../../theme/components/IconLoader';\nimport SuccessModal from '../../theme/components/SuccesModal';\nimport TextWrapper from '../../theme/components/TextWrapper';\nimport ToolTip from '../../theme/components/Tooltip';\nimport { useGetChainId } from '../../utils/NetworksCustomHooks';\nimport { getDisplayBalance } from '../../utils/formatBalance';\nimport { troveDetails } from '../../utils/tokenDetails';\n\nimport ConfirmRedeemModal from './modal/ConfirmRedeemModal';\n\n\ntype Props = {\n  trove: string;\n};\n\nconst RedeemTabContent = ({ trove }: Props) => {\n  const activeChainId = useGetChainId();\n  const troveDetail = troveDetails(trove, activeChainId);\n\n  const [arthValue, setArthValue] = useState<string>('0');\n  const [collateralValue, setCollateralValue] = useState<string>('0');\n  const [openConfirmationModal, setOpenConfirmationModal] = useState<boolean>(false);\n\n  const [isInputFieldError, setIsInputFieldError] = useState<boolean>(false);\n  const [successCollectModal, setSuccessCollectModal] = useState<boolean>(false);\n\n  const core = useCore();\n  const chainId = useGetChainId();\n\n  const mahaPrice = useMAHAPrice();\n  const arthBalance = useTokenBalance(core.tokens('ARTH', activeChainId));\n  const collateralGMUPrice = useCollateralPriceFeed(\n    troveDetail.depositToken,\n    troveDetail.contractPrefix,\n  );\n  const stabilityFeeRate = useGetStabilityFeeAndToken(troveDetail.contractPrefix);\n  const collateralBalance = useGetNativeTokenBalance();\n  const redemptionRate = useGetRedemptionFeeRateWithDecay(troveDetail.depositToken);\n\n  const redemptionFee = useMemo(() => {\n    if (redemptionRate.isLoading) return { isLoading: true, value: BigNumber.from(0) };\n\n    return {\n      isLoading: false,\n      value: BigNumber.from(parseUnits(collateralValue, 18))\n        .mul(redemptionRate.value)\n        .div(DECIMALS_18),\n    };\n  }, [redemptionRate, collateralValue]);\n\n  const stabilityFee = useMemo(() => {\n    if (stabilityFeeRate.isLoading || mahaPrice.isLoading)\n      return { isLoading: true, value: BigNumber.from(0) };\n\n    if (stabilityFeeRate.value.eq(0)) {\n      return {\n        isLoading: false,\n        value: BigNumber.from(0),\n      };\n    }\n\n    const stabilityFeeInARTH = BigNumber.from(parseUnits(arthValue, 18))\n      .mul(stabilityFeeRate.value)\n      .div(DECIMALS_18);\n\n    return {\n      isLoading: false,\n      value: stabilityFeeInARTH.mul(DECIMALS_18).div(mahaPrice.value),\n    };\n  }, [stabilityFeeRate, mahaPrice, arthValue]);\n\n  const [mahaApprovalStatus, approveMAHA] = useApprove(\n    core.tokens('MAHA', activeChainId),\n    core.getGovernance(troveDetail.contractPrefix, chainId).address,\n  );\n\n  const isMAHAApproved = useMemo(() => mahaApprovalStatus === ApprovalState.APPROVED, [\n    mahaApprovalStatus,\n  ]);\n  const isMAHAApproving = useMemo(() => mahaApprovalStatus === ApprovalState.PENDING, [\n    mahaApprovalStatus,\n  ]);\n\n  useEffect(() => window.scrollTo(0, 0), []);\n\n  const onCollateralValueChange = async (val: string) => {\n    if (val === '' || collateralGMUPrice.isLoading || collateralGMUPrice.value.lte(0)) {\n      setCollateralValue('0');\n      setArthValue('0');\n      return;\n    }\n\n    const check: boolean = ValidateNumber(val);\n    if (!check) return;\n    setCollateralValue(check ? val : String(Number(val)));\n\n    const valueInNumber: number = Number(val);\n    if (!valueInNumber) return;\n\n    const bnCollateralAmount = BigNumber.from(parseUnits(`${valueInNumber}`, 18));\n\n    const totalCollateralValue = collateralGMUPrice.value\n      .mul(bnCollateralAmount)\n      .div(DECIMALS_18);\n\n    setArthValue(getDisplayBalance(totalCollateralValue, 18, 18));\n  };\n\n  const onARTHValueChange = async (val: string) => {\n    if (val === '' || collateralGMUPrice.isLoading || collateralGMUPrice.value.lte(0)) {\n      setCollateralValue('0');\n      setArthValue('0');\n      return;\n    }\n\n    let check: boolean = ValidateNumber(val);\n    if (!check) return;\n    setArthValue(check ? val : String(Number(val)));\n\n    const valueInNumber: number = Number(val);\n    if (!valueInNumber) return;\n\n    const bnArthValue = BigNumber.from(parseUnits(`${valueInNumber}`, 18));\n\n    const finalCollateralValue = bnArthValue.mul(DECIMALS_18).div(collateralGMUPrice.value);\n\n    setCollateralValue(getDisplayBalance(finalCollateralValue, 18, 18));\n  };\n\n  const resetFields = () => {\n    setArthValue('0');\n    setCollateralValue('0');\n  };\n\n  return (\n    <>\n      <LeftTopCard className={'custom-mahadao-container'}>\n        <CustomInputContainer\n          ILabelValue={`Amount you want to redeem?`}\n          IBalanceValue={`${getDisplayBalance(arthBalance.value, 18, 3)}`}\n          isBalanceLoading={arthBalance.isLoading}\n          ILabelInfoValue={''}\n          DefaultValue={arthValue.toString()}\n          LogoSymbol={'ARTH'}\n          disabled={arthBalance.isLoading}\n          hasDropDown={false}\n          SymbolText={'ARTH'}\n          inputMode={'decimal'}\n          setText={onARTHValueChange}\n          tagText={'MAX'}\n          errorCallback={(flag: boolean) => {\n            setIsInputFieldError(flag);\n          }}\n          tokenDecimals={18}\n        />\n        <div className=\"text-center m-t-12 m-b-12\">\n          <IconLoader iconName={'ArrowTailDown'} iconType={'arrow'} />\n        </div>\n        <CustomInputContainer\n          ILabelValue={'You will receive'}\n          IBalanceValue={`${getDisplayBalance(collateralBalance.value, 18, 3)}`}\n          isBalanceLoading={collateralBalance.isLoading}\n          DefaultValue={collateralValue.toString()}\n          LogoSymbol={troveDetail.depositToken}\n          setText={onCollateralValueChange}\n          disabled={collateralBalance.isLoading || collateralGMUPrice.isLoading}\n          SymbolText={troveDetail.depositToken}\n          tokenDecimals={18}\n        />\n        <div className=\"single-line-center-between m-t-20 m-b-8\">\n          <div className=\"single-line-center-start\">\n            <TextWrapper text={'Redemption fee'} fontSize={12} />\n            <ToolTip\n              toolTipText={`The redemption fee is charged as a percentage of the redeemed ${troveDetail.depositToken.toUpperCase()}. The redemption fee is set algorithimatically based on demand and starts at 0.5%.`}\n            />\n          </div>\n          <div className=\"single-line-center-start\">\n            {redemptionFee.isLoading ? (\n              <Loader color={'#ffffff'} loading={true} size={8} margin={2} />\n            ) : (\n              <TextWrapper\n                text={Number(getDisplayBalance(redemptionFee.value, 18, 6)).toLocaleString(\n                  'en-US',\n                  {\n                    maximumFractionDigits: 4,\n                    minimumFractionDigits: 2,\n                  },\n                )}\n                fontSize={12}\n              />\n            )}\n            <div className=\"tags m-l-4\">\n              <TextWrapper text={troveDetail.depositToken.toUpperCase()} fontSize={12} />\n            </div>\n          </div>\n        </div>\n        <div className=\"single-line-center-between m-b-8\">\n          <div className=\"single-line-center-start\">\n            <TextWrapper text={'MAHA fee'} fontSize={12} />\n          </div>\n          <div className=\"single-line-center-start\">\n            {stabilityFee.isLoading ? (\n              <Loader color={'#ffffff'} loading={true} size={8} margin={2} />\n            ) : (\n              <TextWrapper\n                text={Number(getDisplayBalance(stabilityFee.value, 18, 6)).toLocaleString(\n                  'en-US',\n                  {\n                    maximumFractionDigits: 4,\n                    minimumFractionDigits: 2,\n                  },\n                )}\n                fontSize={12}\n              />\n            )}\n            <div className=\"tags m-l-4\">\n              <TextWrapper text={'MAHA'} fontSize={12} />\n            </div>\n          </div>\n        </div>\n        <div className=\"m-t-32\">\n          <Grid container spacing={2}>\n            <Grid item lg={6} md={6} sm={12} xs={12}>\n              <Button\n                loading={isMAHAApproving}\n                disabled={\n                  isMAHAApproved ||\n                  stabilityFee.value.lte(0) ||\n                  !Number(arthValue) ||\n                  !Number(collateralValue) ||\n                  isInputFieldError\n                }\n                onClick={approveMAHA}\n                tracking_id={isMAHAApproved ? `Redeem_Approved_MAHA` : `Redeem_Approve_MAHA`}\n                tracking_params={{ collateral: troveDetail.trove, action: 'confirm' }}\n              >\n                {isMAHAApproved ? `Approved MAHA` : `Approve MAHA`}\n              </Button>\n            </Grid>\n            <Grid item lg={6} md={6} sm={12} xs={12}>\n              <Button\n                disabled={\n                  !Number(arthValue) ||\n                  !Number(collateralValue) ||\n                  isInputFieldError ||\n                  (stabilityFee.value.gt(0) && !isMAHAApproved)\n                }\n                onClick={() => setOpenConfirmationModal(true)}\n                tracking_id={'Redeem_ARTH'}\n                tracking_params={{\n                  collateral: troveDetail.trove,\n                  action: 'initial',\n                  amount: Number(arthValue),\n                }}\n              >\n                Redeem ARTH\n              </Button>\n            </Grid>\n          </Grid>\n        </div>\n      </LeftTopCard>\n      <ConfirmRedeemModal\n        redeemFee={redemptionFee.value}\n        stabilityFee={stabilityFee.value}\n        stabilityFeeRate={stabilityFeeRate.value}\n        stabilityFeeToken={'MAHA'}\n        arthValue={arthValue}\n        trove={trove}\n        redemptionRate={redemptionRate.value}\n        openModal={openConfirmationModal}\n        onClose={() => setOpenConfirmationModal(false)}\n        collateralValue={collateralValue}\n        onSuccess={() => {\n          setSuccessCollectModal(true);\n          setOpenConfirmationModal(false);\n        }}\n      />\n      <SuccessModal\n        modalOpen={successCollectModal}\n        setModalOpen={() => {\n          resetFields();\n          setSuccessCollectModal(false);\n        }}\n        title={'Your transaction is being mined on blockchain'}\n        subTitle={''}\n        buttonText={'Close'}\n      />\n    </>\n  );\n};\n\nconst LeftTopCard = styled.div`\n  padding: 32px;\n  @media (max-width: 600px) {\n    padding: 32px 16px;\n  }\n`;\n\nexport default RedeemTabContent;\n","import { BigNumber } from '@ethersproject/bignumber';\nimport { useCallback, useEffect, useState } from 'react';\n\nimport { useGetChainId } from '../../../utils/NetworksCustomHooks';\nimport useCore from '../../useCore';\n\ntype State = {\n  isLoading: boolean;\n  value: BigNumber;\n};\n\nexport default () => {\n  const [customState, setCustomState] = useState<State>({\n    isLoading: true,\n    value: BigNumber.from(0),\n  });\n  const core = useCore();\n  const activeChainId = useGetChainId();\n\n  const fetchCashPrice = useCallback(async () => {\n    const controller = core.contracts('UniswapPairOracle_ARTH_MAHA', activeChainId);\n    const decimals = BigNumber.from(10).pow(18);\n\n    if (!controller) {\n      setCustomState({\n        isLoading: false,\n        value: BigNumber.from(0),\n      });\n    } else {\n      setCustomState({\n        isLoading: false,\n        value: await controller.consult(core.tokens('MAHA', activeChainId).address, decimals),\n      });\n    }\n  }, [activeChainId, core]);\n\n  useEffect(() => {\n    fetchCashPrice().catch((err) =>\n      console.error(`Failed to fetch uniswap price: ${err.stack}`),\n    );\n  }, [fetchCashPrice]);\n\n  return customState;\n};\n","import React from 'react';\n\nimport TextWrapper from '../../theme/components/TextWrapper';\n\nexport default () => {\n  return (\n    <div className={'material-primary m-b-24'}>\n      <TextWrapper\n        text={\n          \"Redeeming allows you claim ARTH for it's underlying collateral. \\\n        Redeemption charge a redeemption fee that is set algorithmically.\"\n        }\n      />\n      <br />\n      <TextWrapper\n        text={\n          'During a redemption, the borrower who has a loan with the lowest ratio \\\n        will have to give up some of their collateral to the redeemer, but in return, \\\n        their ARTH debt will be reduced accordingly.'\n        }\n      />\n      <br />\n      <TextWrapper\n        text={\n          \"Redemptions can be thought of as you repaying someone else's debt \\\n        and retrieving an equivalent amount of collateral.\"\n        }\n      />\n      <br />\n      <a href={'https://docs.arth.loans/protocol/redeeming-arth'} target={'_blank'}>\n        <TextWrapper text={'Read the Documentation.'} fontWeight={300} Fcolor={'#FF7F57'} />\n      </a>\n    </div>\n  );\n};\n","import { BigNumber } from 'ethers';\nimport { useSelector } from 'react-redux';\n\nimport { AppState } from '../../../state';\n\nexport default (token: string) => {\n  const borrowingRateWithDecay = useSelector(\n    (app: AppState) => app.analytics.borrowingRateWithDecay,\n  );\n\n  return { isLoading: false, value: borrowingRateWithDecay[token] || BigNumber.from(0) };\n};\n","import { BigNumber } from 'ethers';\nimport { useCallback, useEffect, useState } from 'react';\nimport { useSelector } from 'react-redux';\n\nimport { AppState } from '../../../state';\nimport { useBlockNumber } from '../../../state/application/hooks';\nimport { useGetAccount } from '../../../utils/NetworksCustomHooks';\nimport useCore from '../../useCore';\n\ntype State = {\n  isLoading: boolean;\n  value: BigNumber;\n};\n\nexport default (token: string) => {\n  const [value, setValue] = useState<State>({ isLoading: true, value: BigNumber.from(0) });\n\n  const core = useCore();\n  const account = useGetAccount();\n  const blockNumber = useBlockNumber();\n\n  const entireSystemColl = useSelector((app: AppState) => app.analytics.entireSystemColl);\n\n  const fetchValue = useCallback(async () => {\n    if (!account) {\n      setValue({ isLoading: false, value: BigNumber.from(0) });\n      return;\n    }\n\n    setValue({ isLoading: false, value: entireSystemColl[token] || BigNumber.from(0) });\n  }, [account, entireSystemColl, token]);\n\n  useEffect(() => {\n    if (core.isUnlocked) {\n      fetchValue().catch((err) => console.error(`Failed to fetch system debt: ${err}`));\n    }\n  }, [core.isUnlocked, account, blockNumber, fetchValue]);\n\n  return value;\n};\n","import { useCallback, useEffect, useState } from 'react';\n\nimport { useBlockNumber } from '../../../state/application/hooks';\nimport { useGetAccount, useGetChainId } from '../../../utils/NetworksCustomHooks';\nimport { troveDetails } from '../../../utils/tokenDetails';\nimport useCore from '../../useCore';\n\ntype State = {\n  isLoading: boolean;\n  value: boolean;\n};\n\nexport default (trove: string) => {\n  const [value, setValue] = useState<State>({ isLoading: true, value: false });\n\n  const core = useCore();\n  const account = useGetAccount();\n  const blockNumber = useBlockNumber();\n  const activeChainId = useGetChainId();\n  const troveDetail = troveDetails(trove, activeChainId);\n\n  // const collateralGMUPrices = useSelector((app: AppState) => app.analytics.gmuPrice);\n  // const collateralGMUPrice = collateralGMUPrices[troveDetail.depositToken];\n\n  const fetchValue = useCallback(async () => {\n    if (!account) {\n      setValue({ isLoading: false, value: false });\n      return;\n    }\n\n    // if (!collateralGMUPrice) {\n    //   return;\n    // }\n\n    const priceFeedContract = core.getPriceFeed(troveDetail.contractPrefix, activeChainId);\n    const price = await priceFeedContract.callStatic.fetchPrice();\n    const contract = core.getTroveManager(troveDetail.contractPrefix, activeChainId);\n    const value = await contract.checkRecoveryMode(price);\n    setValue({ isLoading: false, value: value });\n  }, [core, account, activeChainId, troveDetail]);\n\n  useEffect(() => {\n    if (core.isUnlocked) {\n      fetchValue().catch((err) =>\n        console.error(`Failed to fetch checkRecoveryMode() for ${trove}: ${err}`),\n      );\n    }\n  }, [core.isUnlocked, account, blockNumber, fetchValue, trove, activeChainId]);\n\n  return value;\n};\n","import { BigNumber } from 'ethers';\nimport { useCallback, useEffect, useState } from 'react';\n\nimport { useBlockNumber } from '../../../state/application/hooks';\nimport { useGetAccount, useGetChainId } from '../../../utils/NetworksCustomHooks';\nimport { troveDetails } from '../../../utils/tokenDetails';\nimport useCore from '../../useCore';\n\ntype State = {\n  isLoading: boolean;\n  value: BigNumber;\n};\n\nexport default (trove: string) => {\n  const [value, setValue] = useState<State>({ isLoading: true, value: BigNumber.from(0) });\n\n  const core = useCore();\n  const account = useGetAccount();\n  const blockNumber = useBlockNumber();\n  const activeChainId = useGetChainId();\n  const troveDetail = troveDetails(trove, activeChainId);\n\n  // const collateralGMUPrices = useSelector((app: AppState) => app.analytics.gmuPrice);\n  // const collateralGMUPrice = collateralGMUPrices[troveDetail.depositToken] || BigNumber.from(0);\n\n  const fetchValue = useCallback(async () => {\n    if (!account) {\n      setValue({ isLoading: false, value: BigNumber.from(0) });\n      return;\n    }\n\n    // if (!collateralGMUPrice) {\n    //   return;\n    // }\n\n    const priceFeedContract = core.getPriceFeed(troveDetail.contractPrefix, activeChainId);\n    const price = await priceFeedContract.callStatic.fetchPrice();\n    const contract = core.getTroveManager(troveDetail.contractPrefix, activeChainId);\n    const value = await contract.getTCR(price);\n    setValue({ isLoading: false, value: value });\n  }, [core, account, troveDetail, activeChainId]);\n\n  useEffect(() => {\n    if (core.isUnlocked) {\n      fetchValue().catch((err) =>\n        console.error(`Failed to fetch getTCR() for ${trove}: ${err}`),\n      );\n    }\n  }, [core.isUnlocked, account, blockNumber, fetchValue, trove, activeChainId]);\n\n  return value;\n};\n","import { BigNumber } from 'ethers';\nimport { useCallback, useEffect, useState } from 'react';\nimport { useSelector } from 'react-redux';\n\nimport { AppState } from '../../state';\nimport { useBlockNumber } from '../../state/application/hooks';\nimport useCore from '../useCore';\n\ntype State = {\n  isLoading: boolean;\n  value: BigNumber;\n};\n\nconst useARTHCirculatingSupply = () => {\n  const [price, setPrice] = useState<State>({\n    isLoading: true,\n    value: BigNumber.from(1).pow(18),\n  });\n\n  const core = useCore();\n  const blockNumber = useBlockNumber();\n\n  const supply = useSelector((state: AppState) => state.stats.updateARTHSupply);\n\n  const fetchValue = useCallback(async () => {\n    setPrice({\n      isLoading: false,\n      value: BigNumber.from(supply),\n    });\n  }, [supply]);\n\n  useEffect(() => {\n    fetchValue().catch((err) => console.error(`Failed to fetch ARTH supply: ${err.stack}`));\n  }, [blockNumber, setPrice, core, fetchValue]);\n\n  return price;\n};\n\nexport default useARTHCirculatingSupply;\n","import { BigNumber } from 'ethers';\nimport { useCallback, useEffect, useState } from 'react';\n\nimport { useGetAccount } from '../../utils/NetworksCustomHooks';\nimport useCore from '../useCore';\n\nimport useGetARTHInStabilityPool from './stabilityPool/useGetARTHInStabilityPool';\nimport useARTHCirculatingSupply from './useARTHCirculatingSupply';\n\n\ntype State = {\n  isLoading: boolean;\n  value: BigNumber;\n  percent: BigNumber;\n};\n\nexport default (contractPrefix: string) => {\n  const [value, setValue] = useState<State>({\n    isLoading: true,\n    value: BigNumber.from(0),\n    percent: BigNumber.from(0),\n  });\n\n  const core = useCore();\n  const account = useGetAccount();\n  const arthCirculatingSupply = useARTHCirculatingSupply();\n  const arthInStabilityPool = useGetARTHInStabilityPool(contractPrefix);\n\n  const fetchValue = useCallback(async () => {\n    if (!account || arthCirculatingSupply.value.lte(0)) {\n      setValue({ isLoading: false, value: BigNumber.from(0), percent: BigNumber.from(0) });\n      return;\n    }\n\n    if (arthCirculatingSupply.isLoading || arthInStabilityPool.isLoading) {\n      return;\n    }\n\n    const percent = arthInStabilityPool.value\n      .mul(BigNumber.from(10).pow(18))\n      .div(arthCirculatingSupply.value);\n    setValue({ isLoading: false, value: arthInStabilityPool.value, percent: percent });\n  }, [account, arthCirculatingSupply, arthInStabilityPool]);\n\n  useEffect(() => {\n    if (core.isUnlocked) {\n      fetchValue().catch((err) =>\n        console.error(`Failed to fetch arth in circulating supply with %: ${err}`),\n      );\n    }\n  }, [core.isUnlocked, account, fetchValue]);\n\n  return value;\n};\n","import { BigNumber } from 'ethers';\nimport { useCallback, useEffect, useState } from 'react';\n\nimport { useBlockNumber } from '../../../state/application/hooks';\nimport { useGetAccount, useGetChainId } from '../../../utils/NetworksCustomHooks';\nimport useCore from '../../useCore';\n\ntype State = {\n  isLoading: boolean;\n  value: BigNumber;\n};\n\nexport default (contractPrefix: string) => {\n  const [value, setValue] = useState<State>({ isLoading: true, value: BigNumber.from(0) });\n\n  const core = useCore();\n  const account = useGetAccount();\n  const blockNumber = useBlockNumber();\n  const chainId = useGetChainId();\n\n  const fetchValue = useCallback(async () => {\n    if (!account) {\n      setValue({ isLoading: false, value: BigNumber.from(0) });\n      return;\n    }\n\n    const contract = core.getStabilityPool(contractPrefix, chainId);\n    const value = await contract.getTotalARTHDeposits();\n    setValue({ isLoading: false, value: value });\n  }, [account, core, contractPrefix, chainId]);\n\n  useEffect(() => {\n    if (core.isUnlocked) {\n      fetchValue().catch((err) =>\n        console.error(`Failed to fetch getDepositorETHGain() for ${contractPrefix}: ${err}`),\n      );\n    }\n  }, [core.isUnlocked, account, blockNumber, fetchValue, contractPrefix]);\n\n  return value;\n};\n","import React from 'react';\nimport Loader from 'react-spinners/BeatLoader';\n\nimport theme from '../../index';\nimport TextWrapper, { TextWrapperProps } from '../TextWrapper';\nimport ToolTip from '../Tooltip';\n\ninterface Iprops {\n  label?: string;\n  labelToolTip?: string;\n  value?: string;\n  valueTag?: string;\n  isValueLoading?: boolean;\n\n  labelFontSize?: TextWrapperProps['fontSize'];\n  labelFontWeight?: TextWrapperProps['fontWeight'];\n  labelFontColor?: string;\n\n  valueFontSize?: TextWrapperProps['fontSize'];\n  valueFontWeight?: TextWrapperProps['fontWeight'];\n  valueFontColor?: string;\n  className?: string;\n}\n\nconst DataField = (props: Iprops) => {\n  const {\n    label,\n    labelToolTip,\n    value,\n    valueTag,\n    isValueLoading = false,\n    labelFontSize = 14,\n    labelFontColor = theme.color.transparent[100],\n    labelFontWeight = 300,\n    valueFontSize = 14,\n    valueFontColor = '#FFFFFF',\n    valueFontWeight = 300,\n    className = '',\n  } = props;\n\n  return (\n    <div className={`single-line-start-between ${className}`}>\n      <div className=\"single-line-center-start\">\n        {label && (\n          <TextWrapper\n            text={label}\n            fontWeight={labelFontWeight}\n            Fcolor={labelFontColor}\n            fontSize={labelFontSize}\n          />\n        )}\n        {label && labelToolTip && <ToolTip toolTipText={labelToolTip} className=\"m-l-4\" />}\n      </div>\n      <div className=\"single-line-center-end flex1 m-l-8\">\n        {value && isValueLoading ? (\n          <Loader color={'#ffffff'} loading={true} size={2} margin={2} />\n        ) : (\n          <TextWrapper\n            text={value || ''}\n            fontWeight={valueFontWeight}\n            Fcolor={valueFontColor}\n            fontSize={valueFontSize}\n            align={'right'}\n          />\n        )}\n        {valueTag && (\n          <div className=\"tags m-l-4\">\n            <TextWrapper\n              text={valueTag}\n              fontWeight={valueFontWeight}\n              fontSize={valueFontSize}\n              Fcolor={'#FFFFFF88'}\n              align={'right'}\n            />\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default DataField;\n","import { BigNumber } from 'ethers';\nimport Numeral from 'numeral';\nimport React, { useMemo } from 'react';\nimport Loader from 'react-spinners/BeatLoader';\n\nimport useGetIsFrontendRegistered from '../../hooks/state/borrowerOperations/useGetIsFrontendRegistered';\nimport useGetStabilityFeeAndToken from '../../hooks/state/governance/useGetStabilityFee';\nimport useLinkedListSize from '../../hooks/state/sortedTroves/useGetLinkedListSize';\nimport useGetBorrowingFeeRateWithDecay from '../../hooks/state/troveManager/useGetBorrowingFeeRateWithDecay';\nimport useGetEntireSystemCollateral from '../../hooks/state/troveManager/useGetEntireSystemCollateral';\nimport useGetEntireSystemDebt from '../../hooks/state/troveManager/useGetEntireSystemDebt';\nimport useGetIsRecoveryMode from '../../hooks/state/troveManager/useGetIsRecoveryMode';\nimport useGetRedemptionFeeRateWithDecay from '../../hooks/state/troveManager/useGetRedemptionFeeRateWithDecay';\nimport useGetTotalCollateralRatio from '../../hooks/state/troveManager/useGetTotalCollateralRatio';\nimport useTotalSupply from '../../hooks/state/useARTHCirculatingSupply';\nimport useCollateralPriceFeed from '../../hooks/state/useCollateralPriceFeed';\nimport useGetARTHInStabilityPoolWithPercent from '../../hooks/state/useGetARTHInStabilityPoolWithPercent';\nimport useGetCollateralWithGMUValue from '../../hooks/state/useGetCollateralWithGMUValue';\nimport useCore from '../../hooks/useCore';\nimport useTokenDecimals from '../../hooks/useTokenDecimals';\nimport { DECIMALS_18 } from '../../protocol/constants';\nimport theme from '../../theme';\nimport DataField from '../../theme/components/DataField';\nimport TextWrapper from '../../theme/components/TextWrapper';\nimport ToolTip from '../../theme/components/Tooltip';\nimport { useGetChainId } from '../../utils/NetworksCustomHooks';\nimport { formatToBN, getDisplayBalance } from '../../utils/formatBalance';\nimport { troveDetails } from '../../utils/tokenDetails';\n\ntype Props = {\n  trove: string;\n};\n\nconst LoanInfo = ({ trove }: Props) => {\n  const core = useCore();\n  const totalSupply = useTotalSupply();\n  const activeChainId = useGetChainId();\n  const troveDetail = troveDetails(trove, activeChainId);\n  const tvl = useGetCollateralWithGMUValue(\n    troveDetail.depositToken,\n    troveDetail.contractPrefix,\n  );\n  const isRecoveryMode = useGetIsRecoveryMode(trove);\n  const vaultLinkedListSize = useLinkedListSize(troveDetail.contractPrefix);\n  const stabiltyFee = useGetStabilityFeeAndToken(troveDetail.contractPrefix);\n  const entireSystemDebt = useGetEntireSystemDebt(troveDetail.contractPrefix);\n  const collateralGMUPrice = useCollateralPriceFeed(\n    troveDetail.depositToken,\n    troveDetail.contractPrefix,\n  );\n  const totalCollteralRatio = useGetTotalCollateralRatio(trove);\n  const isFrontEndRegistered = useGetIsFrontendRegistered(troveDetail.contractPrefix);\n  const borrowingFeeRate = useGetBorrowingFeeRateWithDecay(troveDetail.contractPrefix);\n  const redemptionFeeRate = useGetRedemptionFeeRateWithDecay(troveDetail.contractPrefix);\n  const entireSystemCollateral = useGetEntireSystemCollateral(troveDetail.contractPrefix);\n  const amountOfARTHInStabilityPool = useGetARTHInStabilityPoolWithPercent(\n    troveDetail.contractPrefix,\n  );\n  const tokenDecimals = useTokenDecimals(troveDetail.depositToken);\n  const arthUSDValue = {\n    isLoading: false,\n    value: formatToBN(2),\n  };\n\n  const recoveryModelPriceThreshold = useMemo(() => {\n    if (\n      collateralGMUPrice.isLoading ||\n      entireSystemCollateral.isLoading ||\n      entireSystemDebt.isLoading\n    )\n      return { isLoading: true, value: BigNumber.from(0) };\n\n    if (collateralGMUPrice.value.lte(0) || entireSystemDebt.value.lte(0))\n      return {\n        isLoading: false,\n        value: BigNumber.from(0),\n      };\n\n    if (!isRecoveryMode.value) {\n      const thresholdCR = DECIMALS_18.mul(troveDetail.crParameters.ccr).div(1000);\n\n      return {\n        isLoading: false,\n        value: thresholdCR\n          .mul(entireSystemDebt.value)\n          .div(entireSystemCollateral.value)\n          .div(100),\n        // .div(BigNumber.from(10).pow(18 - tokenDecimals)),\n      };\n    }\n\n    const thresholdCR = DECIMALS_18.mul(troveDetail.crParameters.ccr).div(10000);\n    return {\n      isLoading: false,\n      value: thresholdCR.mul(entireSystemDebt.value).div(entireSystemCollateral.value).div(100),\n    };\n  }, [\n    collateralGMUPrice.isLoading,\n    collateralGMUPrice.value,\n    entireSystemCollateral.isLoading,\n    entireSystemCollateral.value,\n    entireSystemDebt.isLoading,\n    entireSystemDebt.value,\n    isRecoveryMode.value,\n    troveDetail.crParameters.ccr,\n  ]);\n\n  return (\n    <div className=\"material-primary\">\n      <TextWrapper className={'m-b-12'} text={'Protocol Statistics'} fontWeight={600} />\n\n      <div className={'m-b-8'}>\n        <DataField\n          label={'TVL'}\n          isValueLoading={tvl.isLoading}\n          value={`${\n            Numeral(getDisplayBalance(tvl.value, 18, 6)).format('0,0.000a') +\n            ` ${troveDetail.trove.toUpperCase()}`\n          }`}\n          valueFontWeight={600}\n          className={'m-b-2'}\n        />\n        <DataField\n          isValueLoading={tvl.isLoading || arthUSDValue.isLoading}\n          value={`$${Numeral(\n            getDisplayBalance(tvl.gmuValue.mul(arthUSDValue.value), 18 * 2, 6),\n          ).format('0,0.000')}`}\n          valueFontColor={theme.color.transparent[100]}\n        />\n      </div>\n\n      <div className={'m-b-8'}>\n        <DataField\n          label={`${troveDetail.trove.toUpperCase()} Price`}\n          isValueLoading={collateralGMUPrice.isLoading}\n          value={`${\n            Numeral(getDisplayBalance(collateralGMUPrice.value, 18, 6)).format('0,0.000') +\n            ' ARTH'\n          }`}\n          valueFontWeight={600}\n          className={'m-b-2'}\n        />\n        <DataField\n          isValueLoading={collateralGMUPrice.isLoading || arthUSDValue.isLoading}\n          value={`$${Numeral(\n            getDisplayBalance(collateralGMUPrice.value.mul(arthUSDValue.value), 18 * 2, 6),\n          ).format('0,0.000')}`}\n          valueFontColor={theme.color.transparent[100]}\n        />\n      </div>\n\n      <div className=\"single-line-center-between m-b-8\">\n        <div className=\"single-line-center-between\">\n          <TextWrapper\n            text={`Loans with ${troveDetail.trove.toUpperCase()}`}\n            Fcolor={'#FFFFFF88'}\n          />\n          <ToolTip\n            toolTipText={`The total No. of active Loans for ${troveDetail.trove.toUpperCase()} in the Protocol.`}\n          />\n        </div>\n        {vaultLinkedListSize.isLoading ? (\n          <Loader color={'#ffffff'} loading={true} size={4} margin={2} />\n        ) : (\n          <TextWrapper\n            text={vaultLinkedListSize.value.toString() + ' loans'}\n            fontWeight={600}\n          />\n        )}\n      </div>\n\n      <div className=\"single-line-center-between m-b-8\">\n        <div className=\"single-line-center-between\">\n          <TextWrapper text={'ARTH Supply'} Fcolor={'#FFFFFF88'} />\n          <ToolTip toolTipText={`The total ARTH minted by the Protocol.`} />\n        </div>\n        {totalSupply.isLoading ? (\n          <Loader color={'#ffffff'} loading={true} size={4} margin={2} />\n        ) : (\n          <TextWrapper\n            text={\n              Numeral(getDisplayBalance(totalSupply.value, 18, 6)).format('0,0.000a') + ' ARTH'\n            }\n            fontWeight={600}\n          />\n        )}\n      </div>\n\n      <div className=\"single-line-center-between m-b-8\">\n        <div className=\"single-line-center-between\">\n          <TextWrapper text={'ARTH Debt'} Fcolor={'#FFFFFF88'} />\n          <ToolTip\n            toolTipText={`The total Debt minted by the loans for ${troveDetail.trove.toUpperCase()}.`}\n          />\n        </div>\n        {entireSystemDebt.isLoading ? (\n          <Loader color={'#ffffff'} loading={true} size={4} margin={2} />\n        ) : (\n          <TextWrapper\n            text={\n              Numeral(getDisplayBalance(entireSystemDebt.value, 18, 6)).format('0,0.000a') +\n              ' ARTH'\n            }\n            fontWeight={600}\n          />\n        )}\n      </div>\n\n      <div className=\"single-line-center-between m-b-8\">\n        <div className=\"single-line-center-between\">\n          <TextWrapper text={'ARTH in Stability Pool'} Fcolor={'#FFFFFF88'} />\n          <ToolTip\n            toolTipText={`The total ARTH currently held in the Stability Pool, expressed as an amount and a fraction of the ARTH Circulating Supply.`}\n          />\n        </div>\n        {amountOfARTHInStabilityPool.isLoading ? (\n          <Loader color={'#ffffff'} loading={true} size={4} margin={2} />\n        ) : (\n          <TextWrapper\n            text={\n              Numeral(getDisplayBalance(amountOfARTHInStabilityPool.value, 18, 6)).format(\n                '0,0.000a',\n              ) +\n              ' ARTH (' +\n              Numeral(getDisplayBalance(amountOfARTHInStabilityPool.percent, 18, 3)).format(\n                '0,0.000%',\n              ) +\n              ')'\n            }\n            fontWeight={600}\n          />\n        )}\n      </div>\n\n      <div className=\"single-line-center-between m-b-8\">\n        <div className=\"single-line-center-between\">\n          <TextWrapper text={'Total Collateral Ratio'} Fcolor={'#FFFFFF88'} />\n          <ToolTip\n            toolTipText={`The ratio of the GMU value of the entire system collateral at the current ARTH/${troveDetail.trove.toUpperCase()} price, to the entire system debt.`}\n          />\n        </div>\n        {totalCollteralRatio.isLoading ? (\n          <Loader color={'#ffffff'} loading={true} size={4} margin={2} />\n        ) : (\n          <TextWrapper\n            text={\n              vaultLinkedListSize.value.gt(0)\n                ? Numeral(getDisplayBalance(totalCollteralRatio.value, 18, 6)).format(\n                    '0,0.000%',\n                  )\n                : '0%'\n            }\n            fontWeight={600}\n          />\n        )}\n      </div>\n\n      <div className=\"single-line-center-between m-b-8\">\n        <div className=\"single-line-center-between\">\n          <TextWrapper text={'In Recovery Mode?'} Fcolor={'#FFFFFF88'} />\n          <ToolTip\n            toolTipText={`Recovery Mode is activated when the Total Collateral Ratio (TCR) falls below 150%. When active,\n              your loan can be liquidated if its collateral ratio is below the TCR. The maximum collateral\n              you can lose from liquidation is capped at 110% of your loan's debt. Operations are also restricted\n              that would negatively impact the TCR.`}\n          />\n        </div>\n        {isRecoveryMode.isLoading ? (\n          <Loader color={'#ffffff'} loading={true} size={4} margin={2} />\n        ) : (\n          <TextWrapper text={isRecoveryMode.value ? 'Yes' : 'No'} fontWeight={600} />\n        )}\n      </div>\n\n      <div className={'m-b-32'}>\n        <DataField\n          label={!isRecoveryMode.value ? 'Recovery Mode Price' : `Normal Mode Price Threshold`}\n          isValueLoading={recoveryModelPriceThreshold.isLoading}\n          labelToolTip={\n            !isRecoveryMode.value\n              ? `The GMU value of ${troveDetail.trove.toUpperCase()} below which the Total Collateral Ratio will drop below 150% and the system will enter Recovery Mode.`\n              : `The GMU value of ${troveDetail.trove.toUpperCase()} above which the Total Collateral Ratio will go above 150% and the system will enter Normal Mode.`\n          }\n          value={`~${\n            Numeral(getDisplayBalance(recoveryModelPriceThreshold.value, 18, 6)).format(\n              '0,0.000',\n            ) + ' ARTH'\n          }`}\n          valueFontWeight={600}\n          className={'m-b-2'}\n        />\n        <DataField\n          isValueLoading={recoveryModelPriceThreshold.isLoading || arthUSDValue.isLoading}\n          value={`$${Numeral(\n            getDisplayBalance(\n              recoveryModelPriceThreshold.value.mul(arthUSDValue.value),\n              18 * 2,\n              6,\n            ),\n          ).format('0,0.000')}`}\n          valueFontColor={theme.color.transparent[100]}\n        />\n      </div>\n\n      <TextWrapper className={'m-b-12'} text={'Fees'} fontWeight={600} />\n\n      <div className=\"single-line-center-between m-b-8\">\n        <div className=\"single-line-center-between\">\n          <TextWrapper text={'One-time borrowing fee'} Fcolor={'#FFFFFF88'} />\n          <ToolTip\n            toolTipText={`The one-time borrowing fee is a one-off fee charged as a percentage of the borrowed amount (in ARTH) and is part of a loan's debt. The fee varies between 0.5% and 5% depending on ARTH redemption volumes.`}\n          />\n        </div>\n        {borrowingFeeRate.isLoading || isRecoveryMode.isLoading ? (\n          <Loader color={'#ffffff'} loading={true} size={4} margin={2} />\n        ) : (\n          <TextWrapper\n            text={\n              isRecoveryMode.value\n                ? '0%'\n                : Numeral(getDisplayBalance(borrowingFeeRate.value, 18, 6)).format('0,0.000%')\n            }\n            fontWeight={600}\n          />\n        )}\n      </div>\n\n      <div className=\"single-line-center-between m-b-8\">\n        <div className=\"single-line-center-between\">\n          <TextWrapper text={'Redemption fee'} Fcolor={'#FFFFFF88'} />\n          <ToolTip\n            toolTipText={`The redemption fee is charged as a percentage of the redeemed ${troveDetail.depositToken.toUpperCase()}. The redemption fee is set algorithimatically based on demand and starts at 0.5%.`}\n          />\n        </div>\n        {redemptionFeeRate.isLoading ? (\n          <Loader color={'#ffffff'} loading={true} size={4} margin={2} />\n        ) : (\n          <TextWrapper\n            text={Numeral(getDisplayBalance(redemptionFeeRate.value, 18, 6)).format('0,0.000%')}\n            fontWeight={600}\n          />\n        )}\n      </div>\n\n      <div className=\"single-line-center-between m-b-32\">\n        <div className=\"single-line-center-between\">\n          <TextWrapper text={'MAHA fee'} Fcolor={'#FFFFFF88'} />\n          <ToolTip\n            toolTipText={`The MAHA fee is an extra fee charged during redemption as a percentage of the redeemed ${troveDetail.trove.toUpperCase()} in MAHA. This fee is controlled by governance.`}\n          />\n        </div>\n        {stabiltyFee.isLoading ? (\n          <Loader color={'#ffffff'} loading={true} size={4} margin={2} />\n        ) : (\n          <TextWrapper\n            text={Numeral(getDisplayBalance(stabiltyFee.value, 18, 6)).format('0,0.000%')}\n            fontWeight={600}\n          />\n        )}\n      </div>\n\n      <TextWrapper text={'Frontend'} fontWeight={600} className=\"m-b-16\" />\n\n      <div className=\"single-line-center-between m-b-8\">\n        <div className=\"single-line-center-between\">\n          <TextWrapper text={'Share of one-time fee'} Fcolor={'#FFFFFF88'} />\n          <ToolTip\n            toolTipText={`A rate by the Frontend Operator that determines the fraction of borrowing fee that will be paid out to the Frontend operated by using this Frontend. Remaining share of borrowing fee is paid out to the Ecosystem Fund.`}\n          />\n        </div>\n        {isFrontEndRegistered.isLoading ? (\n          <Loader color={'#ffffff'} loading={true} size={4} margin={2} />\n        ) : (\n          <TextWrapper\n            text={isFrontEndRegistered.isRegistered ? '50.000%' : '0.000%'}\n            fontWeight={600}\n          />\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default LoanInfo;\n","import { BigNumber } from 'ethers';\nimport { useCallback, useEffect, useState } from 'react';\n\nimport { useGetAccount, useGetChainId } from '../../utils/NetworksCustomHooks';\nimport useCore from '../useCore';\nimport useTokenDecimals from '../useTokenDecimals';\n\nimport useGetEntireSystemCollateral from './troveManager/useGetEntireSystemCollateral';\nimport useCollateralPriceFeed from './useCollateralPriceFeed';\n\n\ntype State = {\n  isLoading: boolean;\n  value: BigNumber;\n  gmuValue: BigNumber;\n};\n\nexport default (token: string, contractPrefix: string) => {\n  const [value, setValue] = useState<State>({\n    isLoading: true,\n    value: BigNumber.from(0),\n    gmuValue: BigNumber.from(0),\n  });\n\n  const core = useCore();\n  const chainId = useGetChainId();\n  const account = useGetAccount();\n  const collateralGMUPrice = useCollateralPriceFeed(token, contractPrefix);\n  const entireSystemCollateral = useGetEntireSystemCollateral(contractPrefix);\n  const tokenDecimals = useTokenDecimals(token);\n\n  const fetchValue = useCallback(async () => {\n    if (!account) {\n      setValue({ isLoading: false, value: BigNumber.from(0), gmuValue: BigNumber.from(0) });\n      return;\n    }\n\n    if (collateralGMUPrice.isLoading || entireSystemCollateral.isLoading) {\n      return;\n    }\n\n    const gmuValue = entireSystemCollateral.value\n      .mul(collateralGMUPrice.value)\n      .div(BigNumber.from(10).pow(18));\n    // + (18 - (18 - tokenDecimals))))\n\n    setValue({ isLoading: false, value: entireSystemCollateral.value, gmuValue: gmuValue });\n  }, [\n    account,\n    collateralGMUPrice.isLoading,\n    collateralGMUPrice.value,\n    entireSystemCollateral.isLoading,\n    entireSystemCollateral.value,\n    tokenDecimals,\n  ]);\n\n  useEffect(() => {\n    if (core.isUnlocked) {\n      fetchValue().catch((err) =>\n        console.error(`Failed to fetch arth in circulating supply with %: ${err}`),\n      );\n    }\n  }, [core.isUnlocked, account, fetchValue]);\n\n  return value;\n};\n","import { BigNumber } from 'ethers';\nimport { useCallback, useEffect, useState } from 'react';\nimport { useSelector } from 'react-redux';\n\nimport { AppState } from '../../../state';\nimport { useBlockNumber } from '../../../state/application/hooks';\nimport { useGetAccount } from '../../../utils/NetworksCustomHooks';\nimport useCore from '../../useCore';\n\ntype State = {\n  isLoading: boolean;\n  value: BigNumber;\n};\n\nexport default (token: string) => {\n  const [value, setValue] = useState<State>({ isLoading: true, value: BigNumber.from(0) });\n\n  const core = useCore();\n  const account = useGetAccount();\n  const blockNumber = useBlockNumber();\n\n  const entireSystemDebt = useSelector((app: AppState) => app.analytics.entireSystemDebt);\n\n  const fetchValue = useCallback(async () => {\n    if (!account) {\n      setValue({ isLoading: false, value: BigNumber.from(0) });\n      return;\n    }\n\n    setValue({ isLoading: false, value: entireSystemDebt[token] || BigNumber.from(0) });\n  }, [account, entireSystemDebt, token]);\n\n  useEffect(() => {\n    if (core.isUnlocked) {\n      fetchValue().catch((err) => console.error(`Failed to fetch system debt: ${err}`));\n    }\n  }, [core.isUnlocked, account, blockNumber, fetchValue]);\n\n  return value;\n};\n","import { useCallback, useEffect, useState } from 'react';\n\nimport { useGetAccount, useGetChainId } from '../../../utils/NetworksCustomHooks';\nimport useCore from '../../useCore';\n\ntype State = {\n  isLoading: boolean;\n  isRegistered: boolean;\n};\n\nexport default (contractPrefix: string) => {\n  const [value, setValue] = useState<State>({ isLoading: true, isRegistered: false });\n\n  const core = useCore();\n  const account = useGetAccount();\n  const activeChainId = useGetChainId();\n\n  const fetchValue = useCallback(async () => {\n    if (!account) {\n      setValue({ isLoading: false, isRegistered: false });\n      return;\n    }\n\n    const contract = core.getBorrowerOperations(contractPrefix, activeChainId);\n    const flag = await contract.frontEnds(core.config('frontEndAddress', activeChainId));\n    setValue({ isLoading: false, isRegistered: flag });\n  }, [core, contractPrefix, account]);\n\n  useEffect(() => {\n    if (core.isUnlocked) {\n      fetchValue().catch((err) =>\n        console.error(`Failed to fetch frontend registration status %: ${err}`),\n      );\n    }\n  }, [core.isUnlocked, account, fetchValue]);\n\n  return value;\n};\n","import React, { useMemo, useState } from 'react';\nimport { useParams } from 'react-router-dom';\n\nimport Grid from '@material-ui/core/Grid';\n\nimport Container from '../components/Container';\nimport config from '../config';\nimport useCore from '../hooks/useCore';\nimport RedeemTabContent from '../modules/redeem/Redeem';\nimport RedeemDesc from '../modules/redeem/RedeemDesc';\nimport PageHeader from '../theme/components/PageHeader';\nimport { useGetAccount, useGetChainId } from '../utils/NetworksCustomHooks';\nimport LoanInfo from '../views/LoanInfo/LoanInfo';\nimport PageLayout from \"../layouts/PageLayout\";\n\n\nconst Redeem = () => {\n  // @ts-ignore\n  const { id } = useParams();\n  const [trove, setTrove] = useState<string>('');\n  const chainId = useGetChainId();\n  const account = useGetAccount();\n\n  const core = useCore();\n  const isTroveValid: boolean = useMemo(() => {\n    const troves = core.getAllTroves(chainId, account);\n    if (troves.includes(id)) {\n      setTrove(id);\n      return true;\n    } else {\n      return false;\n    }\n  }, [core, chainId, account, id]);\n\n  if (!isTroveValid) {\n    window.location.href = `/#/redeem/${config[chainId].defaultCollateral}`;\n    return <div />;\n  }\n\n  return (\n    <PageLayout\n      title={`Redeem ARTH for ${trove}`}\n      subTitle={`Reedem ARTH for its underlying collateral.`}\n    >\n      <Grid container className=\"m-t-24\" spacing={2}>\n        <Grid item lg={6} md={6} sm={12} xs={12}>\n          <RedeemTabContent trove={trove} />\n        </Grid>\n        <Grid item lg={6} md={6} sm={12} xs={12}>\n          <RedeemDesc />\n          <LoanInfo trove={trove} />\n        </Grid>\n      </Grid>\n    </PageLayout>\n\n  );\n};\n\nexport default Redeem;\n","import { BigNumber } from 'ethers';\nimport { useCallback, useEffect, useState } from 'react';\n\nimport { useBlockNumber } from '../../../state/application/hooks';\nimport { useGetAccount, useGetChainId } from '../../../utils/NetworksCustomHooks';\nimport useCore from '../../useCore';\n\ntype State = {\n  isLoading: boolean;\n  value: BigNumber;\n};\n\nexport default (contractPrefix: string) => {\n  const [value, setValue] = useState<State>({ isLoading: true, value: BigNumber.from(0) });\n\n  const core = useCore();\n  const account = useGetAccount();\n  const blockNumber = useBlockNumber();\n  const chainId = useGetChainId();\n\n  const fetchValue = useCallback(async () => {\n    if (!account) {\n      setValue({ isLoading: false, value: BigNumber.from(0) });\n      return;\n    }\n\n    const contract = core.getStabilityPool(contractPrefix, chainId);\n    const value = await contract.getDepositorETHGain(account);\n    setValue({ isLoading: false, value: value });\n  }, [account, core, contractPrefix]);\n\n  useEffect(() => {\n    if (core.isUnlocked) {\n      fetchValue().catch((err) => {\n        console.error(`Failed to fetch getDepositorETHGain() for ${contractPrefix}: ${err}`);\n      });\n    }\n  }, [core.isUnlocked, account, core.myAccount, blockNumber, fetchValue, contractPrefix]);\n\n  return value;\n};\n","import { BigNumber } from 'ethers';\nimport { useCallback, useEffect, useState } from 'react';\n\nimport { useBlockNumber } from '../../../state/application/hooks';\nimport { useGetAccount, useGetChainId } from '../../../utils/NetworksCustomHooks';\nimport useCore from '../../useCore';\n\ntype State = {\n  isLoading: boolean;\n  value: BigNumber;\n};\n\nexport default (contractPrefix: string) => {\n  const [value, setValue] = useState<State>({ isLoading: true, value: BigNumber.from(0) });\n\n  const core = useCore();\n  const account = useGetAccount();\n  const blockNumber = useBlockNumber();\n  const chainId = useGetChainId();\n\n  const fetchValue = useCallback(async () => {\n    if (!account) {\n      setValue({ isLoading: false, value: BigNumber.from(0) });\n      return;\n    }\n\n    const contract = core.getStabilityPool(contractPrefix, chainId);\n    const value = await contract.getDepositorMAHAGain(core.myAccount);\n    setValue({ isLoading: false, value: value });\n  }, [account, core, contractPrefix, chainId]);\n\n  useEffect(() => {\n    if (core.isUnlocked) {\n      fetchValue().catch((err) =>\n        console.error(`Failed to fetch useGetMAHARewards() for ${contractPrefix}: ${err}`),\n      );\n    }\n  }, [core.isUnlocked, account, core.myAccount, blockNumber, fetchValue, contractPrefix]);\n\n  return value;\n};\n","import React, { ReactElement } from 'react';\nimport styled from 'styled-components';\n\nimport theme from '../../index';\nimport IconLoader from '../IconLoader';\n\ninterface Iprops {\n  type: 'Warning' | 'Info' | 'Error';\n  msg: string | ReactElement;\n  className?: string;\n}\n\nconst InfoTip = (props: Iprops) => {\n  const { type, msg, className = '' } = props;\n\n  let color: string = '#FFFFFF';\n  if (type === 'Warning') {\n    color = '#FCB400';\n  } else if (type === 'Error') {\n    color = theme.color.red[300];\n  }\n\n  return (\n    <CustomBadgeAlert className={className}>\n      <IconLoader iconName={type} iconType={'infoTip'} />\n      <Text style={{ color: color }}>{msg}</Text>\n    </CustomBadgeAlert>\n  );\n};\n\nexport default InfoTip;\n\nconst CustomBadgeAlert = styled.div`\n  background: rgba(255, 255, 255, 0.08);\n  box-sizing: border-box;\n  border-radius: 4px;\n  padding: 8px;\n  display: flex;\n  align-items: flex-start;\n  width: 100%;\n`;\n\nconst Text = styled.div`\n  font-style: normal;\n  font-weight: 300;\n  font-size: 12px;\n  line-height: 130%;\n  color: #fcb400;\n  flex: 1;\n  padding-left: 10px;\n  margin-bottom: 0;\n`;\n","import { BigNumber } from 'ethers';\nimport { parseUnits } from 'ethers/lib/utils';\nimport React, { useState } from 'react';\nimport Loader from 'react-spinners/BeatLoader';\n\nimport Grid from '@material-ui/core/Grid';\n\nimport CustomInputContainer from '../../components/CustomInputContainer';\nimport { ValidateNumber } from '../../components/CustomInputContainer/RegexValidation';\nimport useStake from '../../hooks/callbacks/stabilityPool/useStake';\nimport useETHGain from '../../hooks/state/stabilityPool/useETHGain';\nimport useGetMAHARewards from '../../hooks/state/stabilityPool/useGetMAHARewards';\nimport useTokenBalance from '../../hooks/state/useTokenBalance';\nimport useCore from '../../hooks/useCore';\nimport theme from '../../theme';\nimport Button from '../../theme/components/Button';\nimport InfoTip from '../../theme/components/InfoTip';\nimport TextWrapper from '../../theme/components/TextWrapper';\nimport { useGetChainId } from '../../utils/NetworksCustomHooks';\nimport { getDisplayBalance } from '../../utils/formatBalance';\nimport { troveDetails } from '../../utils/tokenDetails';\n\ninterface IProps {\n  trove: string;\n}\n\nconst Deposit = (props: IProps) => {\n  const { trove } = props;\n  const [arthValue, setARTHValue] = useState<string>('0');\n  const [isInputFieldError, setIsInputFieldError] = useState<boolean>(false);\n\n  const core = useCore();\n  const chainId = useGetChainId();\n  const ethGain = useETHGain(trove);\n  const mahaGain = useGetMAHARewards(trove);\n  const arthBalance = useTokenBalance(core.tokens('ARTH', chainId));\n  const troveDetail = troveDetails(trove, chainId);\n\n  const stake = useStake(troveDetail.contractPrefix, BigNumber.from(parseUnits(arthValue, 18)));\n\n  const handleClose = () => {\n    setARTHValue('0');\n  };\n\n  const handleStake = () => {\n    stake(() => {\n      setARTHValue('0');\n      handleClose();\n    });\n  };\n\n  const onValueChange = async (val: string) => {\n    if (val === '') {\n      setARTHValue('0');\n      return;\n    }\n\n    const check: boolean = ValidateNumber(val);\n    if (!check) return;\n    setARTHValue(check ? val : String(Number(val)));\n  };\n\n  return (\n    <div>\n      <CustomInputContainer\n        isBalanceLoading={arthBalance.isLoading}\n        IBalanceValue={getDisplayBalance(BigNumber.from(arthBalance.value), 18)}\n        ILabelValue={'How much would you like to deposit?'}\n        showBalance={true}\n        DefaultValue={arthValue}\n        LogoSymbol={'ARTH'}\n        SymbolText={'ARTH'}\n        dontShowBackgroundContainer={true}\n        setText={(t) => onValueChange(t)}\n        inputMode={'decimal'}\n        tagText={'MAX'}\n        hasDropDown={false}\n        errorCallback={(flag: boolean) => {\n          setIsInputFieldError(flag);\n        }}\n      />\n      <div className={'m-t-32'}>\n        {(ethGain.value.gt(0) || mahaGain.value.gt(0)) && (\n          <div>\n            <div className=\"single-line-start-between m-b-8\">\n              <div className=\"single-line-center-start\">\n                <TextWrapper text={'Gain you will recieve'} fontSize={12} />\n              </div>\n              <div>\n                <div className=\"single-line-center-end m-b-2\">\n                  {ethGain.isLoading ? (\n                    <Loader color={'#ffffff'} loading={true} size={8} margin={2} />\n                  ) : (\n                    <TextWrapper\n                      text={\n                        Number(getDisplayBalance(ethGain.value, 18, 3)).toLocaleString() +\n                        ' ' +\n                        troveDetail.depositToken.toUpperCase()\n                      }\n                      fontSize={12}\n                      Fcolor={theme.color.green[300]}\n                    />\n                  )}\n                </div>\n                <div className=\"single-line-center-end\">\n                  {mahaGain.isLoading ? (\n                    <Loader color={'#ffffff'} loading={true} size={8} margin={2} />\n                  ) : (\n                    <TextWrapper\n                      text={`${Number(\n                        getDisplayBalance(mahaGain.value, 18, 3),\n                      ).toLocaleString()} MAHA`}\n                      fontSize={12}\n                      Fcolor={theme.color.green[300]}\n                    />\n                  )}\n                </div>\n              </div>\n            </div>\n            <InfoTip\n              type={'Info'}\n              msg={'While depositing again you will receive your rewards too'}\n              className={'m-b-8'}\n            />\n          </div>\n        )}\n        <Grid container spacing={2}>\n          <Grid item lg={6} md={6} sm={12} xs={12}>\n            <Button\n              variant={'transparent'}\n              onClick={() => handleClose()}\n              tracking_id={\n                ethGain.value.gt(0) || mahaGain.value.gt(0)\n                  ? `deposit&claim_S_P`\n                  : `deposit_S_P`\n              }\n              tracking_params={{\n                collateral: troveDetail.trove,\n                action: 'cancel',\n                amount: Number(arthValue),\n              }}\n            >\n              Cancel\n            </Button>\n          </Grid>\n          <Grid item lg={6} md={6} sm={12} xs={12}>\n            <Button\n              disabled={isInputFieldError || !Number(arthValue)}\n              onClick={handleStake}\n              tracking_id={\n                ethGain.value.gt(0) || mahaGain.value.gt(0)\n                  ? `deposit&claim_S_P`\n                  : `deposit_S_P`\n              }\n              tracking_params={{\n                collateral: troveDetail.trove,\n                action: 'confirm',\n                amount: Number(arthValue),\n              }}\n            >\n              {ethGain.value.gt(0) || mahaGain.value.gt(0) ? 'Deposit and Claim' : 'Deposit'}\n            </Button>\n          </Grid>\n        </Grid>\n      </div>\n    </div>\n  );\n};\n\nexport default Deposit;\n","import * as Sentry from '@sentry/react';\nimport { BigNumber } from 'ethers';\nimport { useCallback } from 'react';\n\nimport { useAddPopup } from '../../../state/application/hooks';\nimport { useTransactionAdder } from '../../../state/transactions/hooks';\nimport { useGetChainId } from '../../../utils/NetworksCustomHooks';\nimport { getDisplayBalance } from '../../../utils/formatBalance';\nimport formatErrorMessage from '../../../utils/formatErrorMessage';\nimport useCore from '../../useCore';\n\nexport default function (contractPrefix: string, amount: BigNumber) {\n  const core = useCore();\n  const addPopup = useAddPopup();\n  const addTransaction = useTransactionAdder();\n  const activeChainId = useGetChainId();\n\n  return useCallback(\n    async (callback: () => void): Promise<void> => {\n      const contract = core.getStabilityPool(contractPrefix, activeChainId);\n      try {\n        const response = await contract.provideToSP(\n          amount,\n          core.config('frontEndAddress', activeChainId),\n        );\n\n        if (response.status !== 1) {\n          Sentry.captureException({\n            name: 'useStake',\n            response,\n            contractPrefix,\n            amount,\n          });\n        }\n\n        addTransaction(response, {\n          summary: `Deposit ${Number(getDisplayBalance(amount, 18, 3)).toLocaleString()} ARTH`,\n        });\n\n        if (callback) callback();\n      } catch (e) {\n        console.log(\"error sp stake\", e);\n        Sentry.captureException({\n          name: 'useStake',\n          ...e,\n        });\n        addPopup({\n          error: {\n            message: formatErrorMessage(e?.data?.message || e?.message),\n            stack: e.stack,\n          },\n        });\n      }\n    },\n    [amount, addPopup, addTransaction, contractPrefix, core, activeChainId],\n  );\n}\n","import { BigNumber } from 'ethers';\n\nimport { BasicNumberState, BasicState } from './interface';\n\nexport const LOADING_DEFAULT_BASIC_STATE: BasicState = {\n  isLoading: true,\n  value: BigNumber.from(0),\n};\n\nexport const NON_LOADING_DEFAULT_BASIC_STATE: BasicState = {\n  isLoading: false,\n  value: BigNumber.from(0),\n};\n\nexport const LOADING_DEFAULT_BASIC_NUMBER_STATE: BasicNumberState = {\n  isLoading: true,\n  value: 0,\n};\n\nexport const NON_LOADING_DEFAULT_BASIC_NUMBER_STATE: BasicNumberState = {\n  isLoading: false,\n  value: 0,\n};\n","import Numeral from 'numeral';\nimport React, { useCallback, useEffect, useMemo, useState } from 'react';\n\nimport useGetRemainingETHGain from '../../hooks/state/stabilityPool/useGetRemainingETHGain';\nimport useGetTvlInARTH from '../../hooks/state/useGetTvlInARTH';\nimport theme from '../../theme';\nimport DataField from '../../theme/components/DataField';\nimport { useGetChainId } from '../../utils/NetworksCustomHooks';\nimport { getDisplayBalance } from '../../utils/formatBalance';\nimport { troveDetails } from '../../utils/tokenDetails';\n\ninterface IAprInternal {\n  min: number;\n  max: number;\n  boostEffectiveness: number;\n}\n\ninterface IApr {\n  tvlUSD: number;\n  current: IAprInternal;\n  upcoming: IAprInternal;\n}\n\ninterface IProps {\n  trove: string;\n}\n\nconst GlobalData = (props: IProps) => {\n  const { trove } = props;\n\n  const activeChainId = useGetChainId();\n  const troveDetail = troveDetails(trove, activeChainId);\n  const remainingETH = useGetRemainingETHGain(trove);\n  const arthTvl = useGetTvlInARTH(troveDetail.contractPrefix);\n  const [mahaAprTvl, setMahaAprTvl] = useState<{\n    data: { [key: string]: IApr };\n    isLoading: false;\n  }>({\n    isLoading: false,\n    data: {},\n  });\n\n  const fetchAPY = useCallback(async () => {\n    const url = `https://api.arthcoin.com/apr/stability-pool-v2`;\n    /*const headers = {\n      'Access-Control-Allow-Origin': '*',\n      'Access-Control-Allow-Methods': 'GET,POST,OPTIONS',\n      'Access-Control-Allow-Headers':\n        'access-control-allow-headers,access-control-allow-methods,access-control-allow-origin,content-type',\n    };*/\n\n    fetch(url)\n      .then((res) => res.json())\n      .then((res: { [key: string]: IApr }) => {\n        setMahaAprTvl({ isLoading: false, data: res });\n      })\n      .catch((err) => {\n        setMahaAprTvl({\n          isLoading: false,\n          data: {},\n        });\n      });\n  }, []);\n\n  useEffect(() => {\n    fetchAPY();\n  }, [fetchAPY]);\n\n  const displayApr = useMemo(() => {\n    if (mahaAprTvl.isLoading)\n      return {\n        value: '-',\n        isLoading: true,\n      };\n    console.log('apr', mahaAprTvl.data);\n    const apr = mahaAprTvl.data['eth-sp']?.current.min;\n    if (apr) {\n      return {\n        value: Number(apr).toLocaleString('en-US', {\n          maximumFractionDigits: 2,\n        }),\n        isLoading: false,\n      };\n    } else\n      return {\n        value: '-',\n        isLoading: false,\n      };\n  }, [mahaAprTvl.data, mahaAprTvl.isLoading, troveDetail.trove]);\n\n  return (\n    <div className={'material-primary'}>\n      <DataField\n        label={'TVL'}\n        isValueLoading={arthTvl.isLoading}\n        value={`${Numeral(getDisplayBalance(arthTvl.value, 18, 6)).format('0,0.000a')} ARTH`}\n        labelFontColor={theme.color.transparent[100]}\n        labelFontWeight={600}\n        className={'m-b-16'}\n      />\n      <DataField\n        label={'Remaining Rewards'}\n        labelToolTip={`This amount is the ${troveDetail.depositToken.toUpperCase()} earned from ${troveDetail.depositToken.toUpperCase()} liquidation bonuses.`}\n        isValueLoading={remainingETH.isLoading}\n        value={\n          Numeral(getDisplayBalance(remainingETH.value, 18, 3)).format('0,0.000a') +\n          ' ' +\n          troveDetail.depositToken.toUpperCase()\n        }\n        labelFontColor={theme.color.transparent[100]}\n        labelFontWeight={600}\n        className={'m-b-16'}\n      />\n      <DataField\n        label={'MAHA APR'}\n        isValueLoading={displayApr.isLoading}\n        value={`${displayApr.value}%`}\n        labelFontColor={theme.color.transparent[100]}\n        // labelFontSize={16}\n        // valueFontSize={16}\n        labelFontWeight={600}\n        valueFontColor={theme.color.primary[300]}\n        valueFontWeight={600}\n      />\n    </div>\n  );\n};\n\nexport default GlobalData;\n","import { BigNumber } from 'ethers';\nimport { useCallback, useEffect, useState } from 'react';\n\nimport { useBlockNumber } from '../../../state/application/hooks';\nimport { useGetAccount, useGetChainId } from '../../../utils/NetworksCustomHooks';\nimport useCore from '../../useCore';\n\ntype State = {\n  isLoading: boolean;\n  value: BigNumber;\n};\n\nexport default (contractPrefix: string) => {\n  const [value, setValue] = useState<State>({ isLoading: true, value: BigNumber.from(0) });\n\n  const core = useCore();\n  const account = useGetAccount();\n  const blockNumber = useBlockNumber();\n  const chainId = useGetChainId();\n\n  const fetchValue = useCallback(async () => {\n    if (!account) {\n      setValue({ isLoading: false, value: BigNumber.from(0) });\n      return;\n    }\n\n    const contract = core.getStabilityPool(contractPrefix, chainId);\n    const value = await contract.getETH();\n    setValue({ isLoading: false, value: value });\n  }, [account, core, contractPrefix]);\n\n  useEffect(() => {\n    if (core.isUnlocked) {\n      fetchValue().catch((err) =>\n        console.error(`Failed to fetch getETH() for ${contractPrefix}: ${err}`),\n      );\n    }\n  }, [core.isUnlocked, account, blockNumber, fetchValue, contractPrefix]);\n\n  return value;\n};\n","import { BigNumber } from 'ethers';\nimport { useCallback, useEffect, useState } from 'react';\n\nimport { useBlockNumber } from '../../state/application/hooks';\nimport { useGetAccount, useGetChainId } from '../../utils/NetworksCustomHooks';\nimport { LOADING_DEFAULT_BASIC_STATE } from '../../utils/constants';\nimport { BasicState } from '../../utils/interface';\nimport useCore from '../useCore';\n\nexport default (contractPrefix: string) => {\n  const [value, setValue] = useState<BasicState>(LOADING_DEFAULT_BASIC_STATE);\n\n  const core = useCore();\n  const account = useGetAccount();\n  const activeChainId = useGetChainId();\n  const blockNumber = useBlockNumber();\n\n  const contract = core.getStabilityPool(contractPrefix, activeChainId);\n\n  const fetchValue = useCallback(async () => {\n    if (!account) {\n      setValue({ isLoading: false, value: BigNumber.from(0) });\n      return;\n    }\n\n    const response = await contract.getTotalARTHDeposits();\n\n    setValue({\n      isLoading: false,\n      value: response,\n    });\n  }, [account, contract]);\n\n  useEffect(() => {\n    if (core.isUnlocked) {\n      fetchValue().catch((err) => console.error(`Failed to fetch tvl in (arth) %: ${err}`));\n    }\n  }, [core.isUnlocked, account, fetchValue, blockNumber]);\n\n  return value;\n};\n","import React from 'react';\n\nimport TextWrapper from '../../theme/components/TextWrapper';\n\nexport default () => {\n  return (\n    <div className={'material-primary m-b-24'}>\n      <TextWrapper\n        text={\n          'To avoid the protocol going into extreme stress, the stability pool acts as a' +\n          ' source of liquidity to repay debt from liquidated loans to ensure that the' +\n          ' total ARTH supply always remains backed by collateral. '\n        }\n      />\n      <br />\n      <TextWrapper\n        text={\n          'Users who deposit ARTH in the stability pool get on average 10% more \\\n        from liquidations and also earn a steady reward in MAHA.'\n        }\n      />\n      <br />\n      <a href={'https://docs.arth.loans/protocol/stability-pool'} target={'_blank'}>\n        <TextWrapper text={'Read the Documentation.'} fontWeight={300} Fcolor={'#FF7F57'} />\n      </a>\n    </div>\n  );\n};\n","import { BigNumber } from 'ethers';\nimport { parseUnits } from 'ethers/lib/utils';\nimport React, { useState } from 'react';\nimport Loader from 'react-spinners/BeatLoader';\n\nimport Grid from '@material-ui/core/Grid';\n\nimport CustomInputContainer from '../../../components/CustomInputContainer';\nimport { ValidateNumber } from '../../../components/CustomInputContainer/RegexValidation';\nimport useWithdraw from '../../../hooks/callbacks/stabilityPool/useWithdraw';\nimport theme from '../../../theme';\nimport Button from '../../../theme/components/Button';\nimport InfoTip from '../../../theme/components/InfoTip';\nimport Modal from '../../../theme/components/Modal';\nimport TextWrapper from '../../../theme/components/TextWrapper';\nimport ToolTipip from '../../../theme/components/Tooltip';\nimport { useGetChainId } from '../../../utils/NetworksCustomHooks';\nimport { formatToBN, getDisplayBalance } from '../../../utils/formatBalance';\nimport { troveDetails } from '../../../utils/tokenDetails';\n\ninterface Iprops {\n  depositedStake: { isLoading: boolean; value: BigNumber };\n  openModal: boolean;\n  onClose: () => void;\n  trove: string;\n  unClaimedReward: { isLoading: boolean; value: BigNumber };\n}\n\nconst StakeArthModal = (props: Iprops) => {\n  const { openModal, onClose, trove, depositedStake, unClaimedReward } = props;\n\n  const [arthValue, setARTHValue] = useState<string>('0');\n  const chainId = useGetChainId();\n  const [isInputFieldError, setIsInputFieldError] = useState<boolean>(false);\n  const troveDetail = troveDetails(trove, chainId);\n  const [withdrawing, setWithdrawing] = useState<boolean>(false);\n\n  const withdraw = useWithdraw(\n    troveDetail.contractPrefix,\n    BigNumber.from(parseUnits(arthValue, 18)),\n  );\n\n  const handleClose = () => {\n    setARTHValue('0');\n    onClose();\n  };\n\n  const handleWithdraw = () => {\n    setWithdrawing(true);\n    withdraw(\n      () => {\n        setWithdrawing(false);\n        window.location.reload();\n      },\n      () => {\n        setWithdrawing(false);\n      },\n    );\n  };\n\n  const onValueChange = async (val: string) => {\n    if (val === '') {\n      setARTHValue('0');\n      return;\n    }\n\n    const check: boolean = ValidateNumber(val);\n    if (!check) return;\n    setARTHValue(check ? val : String(Number(val)));\n  };\n\n  return (\n    <>\n      <Modal\n        title={'Withdraw ARTH'}\n        open={openModal}\n        handleClose={() => handleClose()}\n        closeButton\n      >\n        <CustomInputContainer\n          isBalanceLoading={depositedStake.isLoading}\n          IBalanceValue={getDisplayBalance(BigNumber.from(depositedStake.value), 18)}\n          ILabelValue={'How much ARTH would you like to withdraw?'}\n          showBalance={false}\n          DefaultValue={arthValue}\n          LogoSymbol={'ARTH'}\n          SymbolText={'ARTH'}\n          dontShowBackgroundContainer={true}\n          setText={(t) => onValueChange(t)}\n          inputMode={'decimal'}\n          tagText={'MAX'}\n          hasDropDown={false}\n          errorCallback={(flag: boolean) => {\n            setIsInputFieldError(flag);\n          }}\n        />\n        <div className=\"single-line-center-between m-t-4 m-b-32\">\n          <div />\n          <div className=\"single-line-center-between\">\n            <TextWrapper text={'Staked ARTH Balance'} Fcolor={'#FFFFFF88'} />\n            <div className=\"tags m-l-4\">\n              {depositedStake.isLoading ? (\n                <Loader color={'#ffffff'} loading={true} size={8} margin={2} />\n              ) : (\n                <TextWrapper\n                  text={`${Number(\n                    getDisplayBalance(depositedStake.value, 18, 3),\n                  ).toLocaleString()} ARTH`}\n                  fontSize={12}\n                  Fcolor={'#FFFFFF88'}\n                />\n              )}\n            </div>\n          </div>\n        </div>\n        {unClaimedReward.value.gt(0) && (\n          <div className=\"single-line-center-between m-t-12 m-b-8\">\n            <div className=\"single-line-center-start\">\n              <TextWrapper text={'Gain you will recieve'} fontSize={12} />\n              <ToolTipip\n                toolTipText={`This amount is the ${troveDetail.depositToken.toUpperCase()} earned from ${troveDetail.trove.toUpperCase()} liquidation bonuses.`}\n              />\n            </div>\n            <div className=\"single-line-center-start\">\n              {unClaimedReward.isLoading ? (\n                <Loader color={'#ffffff'} loading={true} size={8} margin={2} />\n              ) : (\n                <TextWrapper\n                  text={\n                    Number(getDisplayBalance(unClaimedReward.value, 18, 3)).toLocaleString() +\n                    ' ' +\n                    troveDetail.depositToken.toUpperCase()\n                  }\n                  fontSize={12}\n                  Fcolor={theme.color.green[300]}\n                />\n              )}\n            </div>\n          </div>\n        )}\n        {formatToBN(arthValue).gt(depositedStake.value) && (\n          <InfoTip\n            type={'Error'}\n            msg={'Amount cannot be more than your stake amount'}\n            className={'m-b-8'}\n          />\n        )}\n        <Grid container spacing={2}>\n          <Grid item lg={6} md={6} sm={12} xs={12}>\n            <Button\n              variant={'transparent'}\n              onClick={() => handleClose()}\n              tracking_id={unClaimedReward.value.gt(0) ? `withdraw&claim_S_P` : `withdraw_S_P`}\n              tracking_params={{\n                collateral: troveDetail.trove,\n                action: 'cancel',\n                amount: Number(arthValue),\n              }}\n            >\n              Cancel\n            </Button>\n          </Grid>\n          <Grid item lg={6} md={6} sm={12} xs={12}>\n            <Button\n              disabled={\n                isInputFieldError ||\n                !Number(arthValue) ||\n                formatToBN(arthValue).gt(depositedStake.value)\n              }\n              onClick={handleWithdraw}\n              tracking_id={unClaimedReward.value.gt(0) ? `withdraw&claim_S_P` : `withdraw_S_P`}\n              loading={withdrawing}\n              tracking_params={{\n                collateral: troveDetail.trove,\n                action: 'confirm',\n                amount: Number(arthValue),\n              }}\n            >\n              {unClaimedReward.value.gt(0) ? `Withdraw and Claim` : `Withdraw`}\n            </Button>\n          </Grid>\n        </Grid>\n      </Modal>\n    </>\n  );\n};\n\nexport default StakeArthModal;\n","import * as Sentry from '@sentry/react';\nimport { BigNumber } from 'ethers';\nimport { useCallback } from 'react';\n\nimport { useAddPopup } from '../../../state/application/hooks';\nimport { useTransactionAdder } from '../../../state/transactions/hooks';\nimport { useGetChainId } from '../../../utils/NetworksCustomHooks';\nimport { getDisplayBalance } from '../../../utils/formatBalance';\nimport formatErrorMessage from '../../../utils/formatErrorMessage';\nimport useCore from '../../useCore';\n\nexport default function (contractPrefix: string, amount: BigNumber) {\n  const core = useCore();\n  const addPopup = useAddPopup();\n  const addTransaction = useTransactionAdder();\n  const chainId = useGetChainId();\n\n  return useCallback(\n    async (onSuccess: () => void, onError: () => void): Promise<void> => {\n      const contract = core.getStabilityPool(contractPrefix, chainId);\n\n      try {\n        const response = await contract.withdrawFromSP(amount);\n\n        if (response.status !== 1) {\n          Sentry.captureException({\n            name: 'useWithdraw',\n            response,\n            contractPrefix,\n            amount,\n          });\n        }\n\n        addTransaction(response, {\n          summary: `Withdraw ${Number(getDisplayBalance(amount, 18, 3)).toLocaleString()} ARTH`,\n        });\n\n        const tx = await response.wait();\n\n        if (tx.status === 1) onSuccess();\n        if (tx.status !== 1) onError();\n      } catch (e) {\n        Sentry.captureException({\n          name: 'useWithdraw',\n          ...e,\n        });\n        addPopup({\n          error: {\n            message: formatErrorMessage(e?.data?.message || e?.message),\n            stack: e.stack,\n          },\n        });\n        onError();\n      }\n    },\n    [core, contractPrefix, chainId, amount, addTransaction, addPopup],\n  );\n}\n","import React, { useState } from 'react';\n\nimport useETHGain from '../../hooks/state/stabilityPool/useETHGain';\nimport useGetDepositedAmount from '../../hooks/state/stabilityPool/useGetDepositedAmount';\nimport useGetMAHARewards from '../../hooks/state/stabilityPool/useGetMAHARewards';\nimport useGetPoolShare from '../../hooks/state/stabilityPool/useGetPoolShare';\nimport theme from '../../theme';\nimport Button from '../../theme/components/Button';\nimport DataField from '../../theme/components/DataField';\nimport { useGetChainId } from '../../utils/NetworksCustomHooks';\nimport { getDisplayBalance } from '../../utils/formatBalance';\nimport { troveDetails } from '../../utils/tokenDetails';\n\nimport WithdrawARTHModal from './modal/WithdrawARTHModal';\n\ninterface IProps {\n  trove: string;\n}\n\nconst UsersData = (props: IProps) => {\n  const { trove } = props;\n  const activeChainId = useGetChainId();\n  const troveDetail = troveDetails(trove, activeChainId);\n  const ethGain = useETHGain(trove);\n  const mahaGain = useGetMAHARewards(trove);\n  const poolShare = useGetPoolShare(trove);\n  const depositedStake = useGetDepositedAmount(trove);\n\n  const [openConfirmWithdrawModal, setOpenConfirmWithdrawModal] = useState<boolean>(false);\n\n  return (\n    <div className={'material-primary'}>\n      <WithdrawARTHModal\n        unClaimedReward={ethGain}\n        depositedStake={depositedStake}\n        trove={trove}\n        openModal={openConfirmWithdrawModal}\n        onClose={() => setOpenConfirmWithdrawModal(false)}\n      />\n      <DataField\n        label={'Your Pool Share'}\n        isValueLoading={poolShare.isLoading}\n        value={`${poolShare.value.toString() + '%'}`}\n        labelFontColor={theme.color.transparent[100]}\n        labelFontWeight={600}\n        className={'m-b-16'}\n      />\n      <DataField\n        label={'Your Locked Stake'}\n        isValueLoading={depositedStake.isLoading}\n        value={\n          Number(getDisplayBalance(depositedStake.value, 18, 3)).toLocaleString() + ' ARTH'\n        }\n        labelFontColor={theme.color.transparent[100]}\n        labelFontWeight={600}\n        className={'m-b-16'}\n      />\n      <DataField\n        label={'Unclaimed Rewards'}\n        isValueLoading={ethGain.isLoading}\n        value={\n          ' ' +\n          Number(getDisplayBalance(ethGain.value, 18, 6)).toLocaleString() +\n          ' ' +\n          troveDetail.depositToken.toUpperCase()\n        }\n        labelFontColor={theme.color.transparent[100]}\n        labelFontWeight={600}\n        className={'m-b-2'}\n      />\n      <DataField\n        label={''}\n        isValueLoading={mahaGain.isLoading}\n        value={Number(getDisplayBalance(mahaGain.value, 18, 6)).toLocaleString() + ' MAHA'}\n        labelFontColor={theme.color.transparent[100]}\n        labelFontWeight={600}\n        className={'m-b-32'}\n      />\n      <Button\n        onClick={() =>\n          depositedStake.value.gt(0) ? setOpenConfirmWithdrawModal(true) : () => {}\n        }\n        text={ethGain.value.gt(0) || mahaGain.value.gt(0) ? 'Withdraw and Claim' : 'Withdraw'}\n        tracking_id={\n          ethGain.value.gt(0) || mahaGain.value.gt(0) ? `withdraw&claim_S_P` : `withdraw_S_P`\n        }\n        tracking_params={{\n          collateral: troveDetail.trove,\n          action: 'initial',\n          amount: Number(getDisplayBalance(depositedStake.value, 18, 3)),\n        }}\n        disabled={depositedStake.value.lte(0)}\n      />\n      {/*<Grid container spacing={2}>\n        <Grid item lg={6} md={6} sm={12} xs={12}>\n        </Grid>\n        <Grid item lg={6} md={6} sm={12} xs={12}>\n          <Button\n            onClick={() =>\n              depositedStake.value.gt(0)\n                ? setOpenConfirmWithdrawModal(true)\n                : () => { }\n            }\n            text={(ethGain.value.gt(0) || mahaGain.value.gt(0))? 'Withdraw and Claim': 'Withdraw'}\n            tracking_id={(ethGain.value.gt(0) || mahaGain.value.gt(0)) ? `withdraw&claim_S_P` : `withdraw_S_P`}\n            tracking_params={{\n              collateral: troveDetail.trove,\n              action: 'initial',\n              amount: Number(getDisplayBalance(depositedStake.value, 18, 3)),\n            }}\n            disabled={depositedStake.value.lte(0)}\n          />\n        </Grid>\n      </Grid>*/}\n    </div>\n  );\n};\n\nexport default UsersData;\n","import { BigNumber } from 'ethers';\nimport { useCallback, useEffect, useState } from 'react';\n\nimport { useBlockNumber } from '../../../state/application/hooks';\nimport { useGetAccount, useGetChainId } from '../../../utils/NetworksCustomHooks';\nimport useCore from '../../useCore';\n\ntype State = {\n  isLoading: boolean;\n  value: BigNumber;\n};\n\nexport default (contractPrefix: string) => {\n  const [value, setValue] = useState<State>({ isLoading: true, value: BigNumber.from(0) });\n\n  const core = useCore();\n  const account = useGetAccount();\n  const blockNumber = useBlockNumber();\n  const chainId = useGetChainId();\n\n  const fetchValue = useCallback(async () => {\n    if (!account) {\n      setValue({ isLoading: false, value: BigNumber.from(0) });\n      return;\n    }\n\n    const contract = core.getStabilityPool(contractPrefix, chainId);\n    const value = await contract.getTotalARTHDeposits();\n    if (value.lte(0)) {\n      setValue({ isLoading: false, value: BigNumber.from(0) });\n      return;\n    }\n\n    const currentDeposit = await contract.getCompoundedARTHDeposit(core.myAccount);\n    setValue({ isLoading: false, value: currentDeposit.mul(100).div(value) });\n  }, [account, core, contractPrefix, chainId]);\n\n  useEffect(() => {\n    if (core.isUnlocked) {\n      fetchValue().catch((err) =>\n        console.error(`Failed to fetch useGetPoolShare() for ${contractPrefix}: ${err}`),\n      );\n    }\n  }, [core.isUnlocked, core.myAccount, account, blockNumber, fetchValue, contractPrefix]);\n\n  return value;\n};\n","import { BigNumber } from 'ethers';\nimport { useCallback, useEffect, useState } from 'react';\n\nimport { useBlockNumber } from '../../../state/application/hooks';\nimport { useGetAccount, useGetChainId } from '../../../utils/NetworksCustomHooks';\nimport useCore from '../../useCore';\n\ntype State = {\n  isLoading: boolean;\n  value: BigNumber;\n};\n\nexport default (contractPrefix: string) => {\n  const [value, setValue] = useState<State>({ isLoading: true, value: BigNumber.from(0) });\n\n  const core = useCore();\n  const account = useGetAccount();\n  const blockNumber = useBlockNumber();\n  const chainId = useGetChainId();\n\n  const fetchValue = useCallback(async () => {\n    if (!account) {\n      setValue({ isLoading: false, value: BigNumber.from(0) });\n      return;\n    }\n\n    const contract = core.getStabilityPool(contractPrefix, chainId);\n    const value = await contract.getCompoundedARTHDeposit(core.myAccount);\n    setValue({ isLoading: false, value: value });\n  }, [account, core, contractPrefix, chainId]);\n\n  useEffect(() => {\n    if (core.isUnlocked) {\n      fetchValue().catch((err) =>\n        console.error(`Failed to fetch useGetDepositAmount() for ${contractPrefix}: ${err}`),\n      );\n    }\n  }, [core.isUnlocked, account, core.myAccount, blockNumber, fetchValue, contractPrefix]);\n\n  return value;\n};\n","import React, { useMemo, useState } from 'react';\nimport { useParams } from 'react-router-dom';\n\nimport Grid from '@material-ui/core/Grid';\n\nimport useCore from '../hooks/useCore';\nimport Deposit from '../modules/stabilityPool/Deposit';\nimport GlobalData from '../modules/stabilityPool/GlobalData';\nimport SPDesc from '../modules/stabilityPool/SPDesc';\nimport UsersData from '../modules/stabilityPool/UsersData';\nimport PageHeader from '../theme/components/PageHeader';\nimport { useGetAccount, useGetChainId } from '../utils/NetworksCustomHooks';\nimport { switchMetamaskChain } from '../utils/chains/function';\n\n\nconst StabilityPool = () => {\n  const { id } = useParams<{ id: string }>();\n  const [trove, setTrove] = useState<string>('');\n  const chainId = useGetChainId();\n  const account = useGetAccount();\n\n  const core = useCore();\n\n  const isTroveValid: boolean = useMemo(() => {\n    const troves = core.getAllTroves(chainId, account);\n    if (troves.includes(id)) {\n      setTrove(id);\n      return true;\n    } else {\n      return false;\n    }\n  }, [core, chainId, account, id]);\n\n  if (!isTroveValid) {\n    // window.location.href = `/#/stability-pool/${config[chainId].defaultCollateral}`;\n    return <div />;\n  }\n\n  if (isTroveValid && trove !== '') {\n    return (\n      <div className=\"custom-container\">\n        {/*<div className=\"mo-custom-container\">\n          <div className={'m-b-20 single-line-center-start'}>\n            <a href={''}>\n              <TextWrapper text={'Stability Pool'} Fcolor={theme.color.transparent[200]} />\n            </a>\n            <IconLoader iconName={'ArrowRight'} iconType={'arrow'} className={'m-r-4 m-l-4'} />\n            <TextWrapper text={`${trove}`} Fcolor={theme.color.transparent[100]} />\n          </div>\n        </div>*/}\n\n        <PageHeader\n          title={`Stability Pool`}\n          subTitle={`Earn liquidation rewards in ${trove} and MAHA by depositing ARTH into the stability pool.`}\n          showLearnMore={true}\n          learnMoreLink={'https://docs.arth.loans/protocol/stability-pool'}\n        />\n        <Grid container style={{ marginTop: '24px' }} spacing={2}>\n          <Grid item lg={6} md={6} sm={12} xs={12}>\n            <div className={'m-b-24'}>\n              <div className={'custom-mahadao-container'}>\n                <div className={'custom-mahadao-container-content'}>\n                  <Deposit trove={trove} />\n                </div>\n              </div>\n            </div>\n            <UsersData trove={trove} />\n          </Grid>\n          <Grid item lg={6} md={6} sm={12} xs={12}>\n            <SPDesc />\n            <GlobalData trove={trove} />\n          </Grid>\n        </Grid>\n      </div>\n    );\n  }\n};\n\nexport default StabilityPool;\n","import React from 'react';\nimport styled from 'styled-components';\n\nimport Sidebar from '../../../components/Sidebar';\n\ninterface IProps {\n  children: any;\n}\n\nexport default ({ children }: IProps) => {\n  return (\n    <MainPageContainer>\n      <Sidebar />\n      <StyledPage>\n        <StyledMain id={'main_page'}>\n          {children}\n          {/* <Footer /> */}\n        </StyledMain>\n      </StyledPage>\n    </MainPageContainer>\n  );\n};\n\nconst StyledPage = styled.div`\n  display: flex;\n  flex-direction: column;\n  position: relative;\n  width: 100%;\n`;\n\nconst StyledMain = styled.div`\n  align-items: center;\n  display: flex;\n  flex-direction: column;\n  min-height: calc(100vh - 112px);\n  padding-bottom: 80px;\n  padding-top: calc(112px);\n\n  @media (max-width: 600px) {\n    padding-top: calc(112px);\n  }\n`;\n\nconst MainPageContainer = styled.div`\n  padding: 0 60px;\n  width: 100vw;\n  display: flex;\n  @media (max-width: 600px) {\n    padding: 0;\n  }\n`;\n","import config from '../config';\n\nexport const crParameters = (trove: string, chainId: number) => {\n  return config[chainId].troveStaticInfo.crParameters;\n};\n\nexport const getDisplaycrParameters = (trove: string, chainId: number, type = 'trove') => {\n  const ratio = crParameters(trove, chainId);\n  const ccr = Math.ceil(ratio.ccr / 1000);\n  const mcr = Math.ceil(ratio.mcr / 1000);\n  return {\n    mcr: mcr,\n    ccr: ccr,\n  };\n};\n","import * as Sentry from '@sentry/react';\nimport { BigNumber } from 'ethers';\nimport { useCallback } from 'react';\n\nimport { DECIMALS_18 } from '../../../protocol/constants';\nimport { useAddPopup } from '../../../state/application/hooks';\nimport { useTransactionAdder } from '../../../state/transactions/hooks';\nimport { useGetChainId } from '../../../utils/NetworksCustomHooks';\nimport { getDisplayBalance } from '../../../utils/formatBalance';\nimport formatErrorMessage from '../../../utils/formatErrorMessage';\nimport { findHintsForNominalCollateralRatio } from '../../state/hinthelpers/helper';\nimport useCore from '../../useCore';\n\nexport default function (\n  contractPrefix: string,\n  borrowingFee: BigNumber,\n  debtAmount: BigNumber,\n  collateralAmount: BigNumber,\n) {\n  const core = useCore();\n  const activeChainId = useGetChainId();\n  const addPopup = useAddPopup();\n  const addTransaction = useTransactionAdder();\n\n  return useCallback(\n    async (callback?: () => void, errorHandler?: () => void): Promise<void> => {\n      try {\n        const contract = core.getBorrowerOperations(contractPrefix, activeChainId);\n\n        const [\n          partialRedemptionUpperHint,\n          partialRedemptionLowerHint,\n        ]: string[] = await findHintsForNominalCollateralRatio(\n          collateralAmount.mul(DECIMALS_18.mul(100)).div(debtAmount),\n          core.getSortedTroves(contractPrefix, activeChainId),\n          core.getHintHelper(contractPrefix, activeChainId),\n          core.getTroveManager(contractPrefix, activeChainId),\n          core.myAccount,\n        );\n\n        const gasLimit = await contract.estimateGas.openTrove(\n          borrowingFee.add(BigNumber.from(10).pow(18).mul(1).div(100)).toString(), // Slippage in max fee.\n          debtAmount,\n          partialRedemptionUpperHint,\n          partialRedemptionLowerHint,\n          core.config('frontEndAddress', activeChainId),\n          { value: collateralAmount },\n        );\n\n        const tx = await contract.openTrove(\n          borrowingFee.add(BigNumber.from(10).pow(18).mul(1).div(100)).toString(), // Slippage in max fee.\n          debtAmount,\n          partialRedemptionUpperHint,\n          partialRedemptionLowerHint,\n          core.config('frontEndAddress', activeChainId),\n          { value: collateralAmount, gasLimit: gasLimit.mul(110).div(100) },\n        );\n\n        addTransaction(tx, {\n          summary: `Borrow ${Number(\n            getDisplayBalance(debtAmount, 18, 3),\n          ).toLocaleString()} ARTH using ${contractPrefix.toUpperCase()} as collateral.`,\n        });\n\n        const response = await tx.wait();\n\n        if (errorHandler && response.status !== 1) {\n          Sentry.captureException({\n            name: 'useOpenTrove',\n            response,\n            contractPrefix,\n            borrowingFee,\n            debtAmount,\n            collateralAmount,\n          });\n          errorHandler();\n        }\n        if (callback && response.status === 1) callback();\n      } catch (e) {\n        Sentry.captureException({\n          ...e,\n          name: 'useOpenTrove',\n        });\n        if (errorHandler) {\n          errorHandler();\n        }\n\n        addPopup({\n          error: {\n            message: formatErrorMessage(e?.data?.message || e?.message),\n            stack: e?.stack,\n          },\n        });\n      }\n    },\n    [\n      core,\n      contractPrefix,\n      activeChainId,\n      collateralAmount,\n      debtAmount,\n      borrowingFee,\n      addTransaction,\n      addPopup,\n    ],\n  );\n}\n","import { BigNumber } from 'ethers';\nimport React, { useState } from 'react';\n\nimport Grid from '@material-ui/core/Grid';\n\nimport useOpenTrove from '../../../hooks/callbacks/borrowerOperations/useOpenTrove';\nimport useTokenDecimals from '../../../hooks/useTokenDecimals';\nimport Button from '../../../theme/components/Button';\nimport InfoTip from '../../../theme/components/InfoTip';\nimport Modal from '../../../theme/components/Modal';\nimport SuccessModal from '../../../theme/components/SuccesModal';\nimport TextWrapper from '../../../theme/components/TextWrapper';\nimport ToolTip from '../../../theme/components/Tooltip';\nimport { formatToBN, getDisplayBalance } from '../../../utils/formatBalance';\n\nimport StepConfirmationModal from './StepConfirmationModal';\n\ninterface Iprops {\n  selectedCollateralCoin: string;\n  selectedContractPrefix: string;\n  openModal: boolean;\n  onClose: () => void;\n  onSuccess: () => void;\n  swapAmount: BigNumber;\n  entryPrice: BigNumber;\n  collateralValue: BigNumber;\n  collateralAmount: BigNumber;\n  liquidationPrice: BigNumber;\n  leverage: number | string;\n  collateralRatio: BigNumber;\n  borrowingFee: BigNumber;\n  totalDebt: BigNumber;\n  liquidationReserve: BigNumber;\n  borrowingFeeRate: BigNumber;\n}\n\nenum LoanTxState {\n  NOT_COMPLETED,\n  PENDING,\n  COMPLETED,\n}\n\nconst ConfirmLoanModal = (props: Iprops) => {\n  const {\n    selectedCollateralCoin,\n    selectedContractPrefix,\n    openModal,\n    onClose,\n    onSuccess,\n    entryPrice,\n    collateralValue,\n    collateralAmount,\n    liquidationPrice,\n    leverage,\n    collateralRatio,\n    borrowingFee,\n    totalDebt,\n    liquidationReserve,\n    borrowingFeeRate,\n  } = props;\n\n  const [openStepConfirmModal, setOpenStepConfirmModal] = useState<boolean>(false);\n  const [openSuccessModal, setOpenSuccessModal] = useState<boolean>(false);\n  const [loanTxState, setLoanTxState] = useState<LoanTxState>(LoanTxState.NOT_COMPLETED);\n\n  const tokenDecimals = useTokenDecimals(selectedCollateralCoin);\n  const arthUSDValue = {\n    isLoading: false,\n    value: formatToBN(2),\n  };\n  const openTrove = useOpenTrove(\n    selectedContractPrefix,\n    borrowingFeeRate,\n    totalDebt.sub(liquidationReserve).sub(borrowingFee),\n    collateralAmount,\n  );\n\n  const handleButtonCallback = () => {\n    setLoanTxState(LoanTxState.COMPLETED);\n    const handler = setTimeout(() => {\n      onSuccess();\n    }, 1000);\n\n    return () => {\n      clearTimeout(handler);\n    };\n  };\n\n  const handleButtonClick = () => {\n    setLoanTxState(LoanTxState.PENDING);\n    openTrove(handleButtonCallback, () => setLoanTxState(LoanTxState.NOT_COMPLETED));\n  };\n\n  return (\n    <>\n      <Modal title={'Confirm Loan'} open={openModal} handleClose={() => onClose()} closeButton>\n        <div>\n          <div className=\"single-line-center-between m-b-8\">\n            <div className=\"single-line-center-start\">\n              <TextWrapper\n                text={'Your collateral amount as supply'}\n                fontWeight={600}\n                Fcolor={'#FFFFFF88'}\n              />\n              <ToolTip\n                toolTipText={`The total amount of ${selectedCollateralCoin} you are providing to the protocol to borrow ARTH at the given Collateral Ratio.`}\n              />\n            </div>\n\n            <div className=\"single-line-center-between\">\n              <TextWrapper\n                text={\n                  Number(getDisplayBalance(collateralAmount, 18, 3)).toLocaleString() +\n                  '(' +\n                  Number(getDisplayBalance(collateralValue, 18, 3)).toLocaleString() +\n                  ' ARTH)'\n                }\n                fontWeight={600}\n                Fcolor={'#FFFFFF88'}\n                className={'m-r-4'}\n              />\n              <div className=\"tags\">\n                <TextWrapper\n                  text={selectedCollateralCoin.toUpperCase()}\n                  fontSize={12}\n                  Fcolor={'#FFFFFF88'}\n                />\n              </div>\n            </div>\n          </div>\n          <div className=\"single-line-center-between\">\n            <div className=\"single-line-center-start\">\n              <TextWrapper text={'You will recieve'} fontWeight={600} Fcolor={'#FFFFFF88'} />\n              <ToolTip\n                toolTipText={`The total amount of ARTH you are able to borrow. This is the amount of ARTH you will recieve after removing borrowing fee and liquidation reserve from the total debt of your loan.`}\n              />\n            </div>\n            <div className=\"single-line-center-between\">\n              <TextWrapper\n                text={Number(\n                  getDisplayBalance(totalDebt.sub(borrowingFee).sub(liquidationReserve), 18, 3),\n                ).toLocaleString()}\n                fontWeight={600}\n                Fcolor={'#FFFFFF88'}\n                className={'m-r-4'}\n              />\n              <div className=\"tags \">\n                <TextWrapper text={'ARTH'} fontSize={12} Fcolor={'#FFFFFF88'} />\n              </div>\n            </div>\n          </div>\n          <div className=\"bottom-divider m-b-24 m-t-24\" />\n          <div className=\"single-line-center-between m-b-8\">\n            <div className=\"single-line-center-start\">\n              <TextWrapper text={'Entry price'} fontWeight={600} Fcolor={'#FFFFFF88'} />\n              <ToolTip\n                toolTipText={`The current price of GMU Value of ${selectedCollateralCoin.toUpperCase()}. This is the price at which your position on ${selectedCollateralCoin.toUpperCase()} will be opened.`}\n              />\n            </div>\n            <div className=\"single-line-center-between\">\n              <TextWrapper\n                text={Number(getDisplayBalance(entryPrice, 18, 3)).toLocaleString('en-US', {\n                  minimumFractionDigits: 3,\n                })}\n                fontWeight={600}\n                Fcolor={'#FFFFFF88'}\n                className={'m-r-4'}\n              />\n              <div className=\"tags \">\n                <TextWrapper\n                  text={`${selectedCollateralCoin.toUpperCase()}/ARTH`}\n                  fontSize={12}\n                  Fcolor={'#FFFFFF88'}\n                />\n              </div>\n            </div>\n          </div>\n          <div className=\"single-line-center-between m-b-2\">\n            <div className=\"single-line-center-start\">\n              <TextWrapper text={'Liquidation price'} fontWeight={600} Fcolor={'#FFFFFF88'} />\n              <ToolTip\n                toolTipText={`The GMU value of ${selectedCollateralCoin.toUpperCase()} below which your position can be Liquidated.`}\n              />\n            </div>\n            <div className=\"single-line-center-between\">\n              <TextWrapper\n                text={'~' + Number(getDisplayBalance(liquidationPrice, 18, 3)).toLocaleString()}\n                fontWeight={600}\n                Fcolor={'#FFFFFF88'}\n                className={'m-r-4'}\n              />\n              <div className=\"tags \">\n                <TextWrapper\n                  text={`ARTH/${selectedCollateralCoin.toUpperCase()}`}\n                  fontSize={12}\n                  Fcolor={'#FFFFFF88'}\n                />\n              </div>\n            </div>\n          </div>\n          <div className=\"single-line-center-end\">\n            <div className=\"single-line-center-end\">\n              <TextWrapper\n                text={\n                  '~' +\n                  Number(\n                    getDisplayBalance(liquidationPrice.mul(arthUSDValue.value), 18 * 2, 3),\n                  ).toLocaleString()\n                }\n                fontWeight={600}\n                Fcolor={'#FFFFFF88'}\n                className={'m-r-4'}\n              />\n              <div className=\"tags \">\n                <TextWrapper\n                  text={`USD/${selectedCollateralCoin.toUpperCase()}`}\n                  fontSize={12}\n                  Fcolor={'#FFFFFF88'}\n                />\n              </div>\n            </div>\n          </div>\n          <div className=\"bottom-divider m-b-24 m-t-24\" />\n          <div className=\"single-line-center-between m-b-8\">\n            <div className=\"single-line-center-start\">\n              <TextWrapper text={'Collateral Ratio'} fontWeight={600} Fcolor={'#FFFFFF88'} />\n              <ToolTip\n                toolTipText={`The ratio of the GMU value of the entire system collateral at the current ARTH/${selectedCollateralCoin.toUpperCase()} price, to the entire system debt.`}\n              />\n            </div>\n            <TextWrapper\n              text={Number(getDisplayBalance(collateralRatio, 18, 3)).toLocaleString() + '%'}\n              fontWeight={600}\n              Fcolor={'#FFFFFF88'}\n            />\n          </div>\n          <div className=\"single-line-center-between m-b-8\">\n            <div className=\"single-line-center-start\">\n              <TextWrapper text={'One-time Fee'} fontWeight={600} Fcolor={'#FFFFFF88'} />\n              <ToolTip\n                toolTipText={`The One-time Fee is a one-off fee charged as a percentage of the borrowed amount (in ARTH) and is part of a loan's debt. The fee varies between 0.5% and 5% depending on ARTH redemption volumes.`}\n              />\n            </div>\n            <div className=\"single-line-center-between\">\n              <TextWrapper\n                text={\n                  Number(getDisplayBalance(borrowingFee, 18, 3)).toLocaleString() +\n                  ' (' +\n                  Number(getDisplayBalance(borrowingFeeRate, 16, 3)).toLocaleString() +\n                  '%) '\n                }\n                fontWeight={600}\n                Fcolor={'#FFFFFF88'}\n                className={'m-r-4'}\n              />\n              <div className=\"tags \">\n                <TextWrapper text={'ARTH'} fontSize={12} Fcolor={'#FFFFFF88'} />\n              </div>\n            </div>\n          </div>\n          <div className=\"single-line-center-between\">\n            <div className=\"single-line-center-start\">\n              <TextWrapper text={'Liquidation Reserve'} fontWeight={600} Fcolor={'#FFFFFF88'} />\n              <ToolTip\n                toolTipText={\n                  'An amount set aside to cover the liquidators gas costs if your loan needs to be liquidated. The amount increases your debt and is refunded if you close your loan by fully paying off its net debt.'\n                }\n              />\n            </div>\n            <div className=\"single-line-center-between\">\n              <TextWrapper\n                text={Number(getDisplayBalance(liquidationReserve, 18, 3)).toLocaleString()}\n                fontWeight={600}\n                Fcolor={'#FFFFFF88'}\n                className={'m-r-4'}\n              />\n              <div className=\"tags \">\n                <TextWrapper text={'ARTH'} fontSize={12} Fcolor={'#FFFFFF88'} />\n              </div>\n            </div>\n          </div>\n          <div className=\"bottom-divider m-b-24 m-t-24\" />\n          <div className=\"single-line-center-between m-b-32\">\n            <div className=\"single-line-center-start\">\n              <TextWrapper text={'Total Debt'} fontWeight={600} Fcolor={'#FFFFFF88'} />\n              <ToolTip toolTipText={`The total amount of ARTH your loan will hold.`} />\n            </div>\n\n            <div className=\"single-line-center-between\">\n              <TextWrapper\n                text={Number(getDisplayBalance(totalDebt, 18, 3)).toLocaleString()}\n                fontWeight={600}\n                Fcolor={'#FFFFFF88'}\n                className={'m-r-4'}\n              />\n              <div className=\"tags \">\n                <TextWrapper text={'ARTH'} fontSize={12} Fcolor={'#FFFFFF88'} />\n              </div>\n            </div>\n          </div>\n          <div className=\"m-b-4\">\n            <InfoTip\n              type={'Warning'}\n              msg={`To break even, you should close your position at a price no less than ${Number(\n                getDisplayBalance(entryPrice, tokenDecimals, 3),\n              ).toLocaleString()} ARTH/${selectedCollateralCoin.toUpperCase()}`}\n            />\n          </div>\n          <div className=\"m-b-32\">\n            <InfoTip\n              type={'Warning'}\n              msg={`To avoid liquidation, you should close your position at a price no less than ${Number(\n                getDisplayBalance(liquidationPrice, tokenDecimals, 3),\n              ).toLocaleString()} ARTH/${selectedCollateralCoin.toUpperCase()}`}\n            />\n          </div>\n          <Grid container spacing={2}>\n            <Grid item lg={6} md={6} sm={12} xs={12}>\n              <Button\n                variant={'transparent'}\n                onClick={() => onClose()}\n                tracking_id=\"take_loan\"\n                tracking_params={{\n                  action: 'cancel',\n                  collateral: selectedCollateralCoin,\n                  amount: Number(getDisplayBalance(collateralAmount, tokenDecimals, 3)),\n                }}\n              >\n                Back\n              </Button>\n            </Grid>\n            <Grid item lg={6} md={6} sm={12} xs={12}>\n              <Button\n                onClick={handleButtonClick}\n                disabled={\n                  loanTxState === LoanTxState.COMPLETED || loanTxState === LoanTxState.PENDING\n                }\n                loading={loanTxState === LoanTxState.PENDING}\n                tracking_id=\"open_loan\"\n                tracking_params={{\n                  collateral: selectedCollateralCoin,\n                  amount: Number(getDisplayBalance(collateralAmount, 18, 3)),\n                }}\n              >\n                {loanTxState === LoanTxState.COMPLETED ? 'Loan Opened' : 'Take Loan'}\n              </Button>\n              {/*<Button\n                onClick={() => {\n                  onClose();\n                  setTimeout(() => {\n                    setOpenStepConfirmModal(true);\n                  }, 100);\n                }}\n                tracking_id=\"take_loan\"\n                tracking_params={{\n                  action: 'confirm',\n                  collateral: selectedCollateralCoin,\n                  amount: Number(getDisplayBalance(collateralAmount, tokenDecimals, 3)),\n                }}\n              >\n                Take Loan\n              </Button>*/}\n            </Grid>\n          </Grid>\n        </div>\n      </Modal>\n      <StepConfirmationModal\n        totalDebt={totalDebt}\n        selectedContractPrefix={selectedContractPrefix}\n        liquidationReserve={liquidationReserve}\n        borrowingFee={borrowingFee}\n        borrowingFeeRate={borrowingFeeRate}\n        collateralAmount={collateralAmount}\n        selectedCollateralCoin={selectedCollateralCoin}\n        openModal={openStepConfirmModal}\n        onClose={() => setOpenStepConfirmModal(false)}\n        onSuccess={() => {\n          setOpenStepConfirmModal(false);\n          setTimeout(() => {\n            window.location.href = '/#/loans/your-loans';\n            // setOpenSuccessModal(true)\n          }, 100);\n        }}\n      />\n\n      <SuccessModal\n        modalOpen={openSuccessModal}\n        setModalOpen={() => {\n          onSuccess();\n          setOpenSuccessModal(false);\n        }}\n        title={'Your transaction is being mined on blockchain'}\n        buttonText={'Close'}\n        buttonHref={''}\n      />\n    </>\n  );\n};\n\nexport default ConfirmLoanModal;\n","import { BigNumber } from '@ethersproject/bignumber';\nimport { parseUnits } from 'ethers/lib/utils';\nimport React, { useMemo, useState } from 'react';\nimport Loader from 'react-spinners/BeatLoader';\nimport styled from 'styled-components';\n\nimport CustomInputContainer from '../../../components/CustomInputContainer';\nimport { ValidateNumber } from '../../../components/CustomInputContainer/RegexValidation';\nimport useOneTroveIsAlreadyOpen from '../../../hooks/state/sortedTroves/useGetTroveIsAlreadyOpen';\nimport useGetBorrowingFeeRateWithDecay from '../../../hooks/state/troveManager/useGetBorrowingFeeRateWithDecay';\nimport useGetIsRecoveryMode from '../../../hooks/state/troveManager/useGetIsRecoveryMode';\nimport useCollateralPriceFeed from '../../../hooks/state/useCollateralPriceFeed';\nimport useGetNativeTokenBalance from '../../../hooks/state/useGetNativeTokenBalance';\nimport useTokenBalance from '../../../hooks/state/useTokenBalance';\nimport useCore from '../../../hooks/useCore';\nimport useTokenDecimals from '../../../hooks/useTokenDecimals';\nimport { DECIMALS_18 } from '../../../protocol/constants';\nimport theme from '../../../theme';\nimport Button from '../../../theme/components/Button';\nimport IconLoader from '../../../theme/components/IconLoader';\nimport InfoTip from '../../../theme/components/InfoTip';\nimport TextWrapper from '../../../theme/components/TextWrapper';\nimport ToolTip from '../../../theme/components/Tooltip';\nimport { useGetAccount, useGetChainId } from '../../../utils/NetworksCustomHooks';\nimport { crParameters, getDisplaycrParameters } from '../../../utils/crParameters';\nimport { getDisplayBalance } from '../../../utils/formatBalance';\nimport { troveDetails } from '../../../utils/tokenDetails';\nimport ConfirmLoanModal from '../modal/ConfirmLoanModal';\n\ntype Props = {\n  trove: string;\n};\n\nconst calculateBorrowingFee = (\n  debtAmount: BigNumber,\n  borrowingFeeRate: BigNumber,\n): BigNumber => {\n  return debtAmount.mul(borrowingFeeRate).div(DECIMALS_18);\n};\n\nconst AddLoanSection = ({ trove }: Props) => {\n  const core = useCore();\n  const activeChainId = useGetChainId();\n  const troveDetail = troveDetails(trove, activeChainId);\n  const [debtAmount, setdebtAmount] = useState<string>('0');\n  const [checkedLevarage, setCheckedLevarage] = useState(false);\n  const [depositModal, setdepositModal] = useState<boolean>(false);\n  const [collateralValue, setCollateralValue] = useState<string>('0');\n  const [isInputFieldError, setIsInputFieldError] = useState<boolean>(false);\n  const [openConfirmationModal, setOpenConfirmationModal] = useState<boolean>(false);\n\n  const arthBalance = useTokenBalance(core.tokens('ARTH', activeChainId));\n  const tokenDecimals = useTokenDecimals(troveDetail.depositToken);\n  const isRecoveryMode = useGetIsRecoveryMode(trove);\n  const collateralGMUPrice = useCollateralPriceFeed(\n    troveDetail.depositToken,\n    troveDetail.contractPrefix,\n  );\n  const collateralBalance = useGetNativeTokenBalance();\n  const troveIsAlreadyPresent = useOneTroveIsAlreadyOpen(troveDetail.contractPrefix);\n  const borrowingFeeRate = useGetBorrowingFeeRateWithDecay(troveDetail.depositToken);\n  const account = useGetAccount();\n\n  const borrowingFee = useMemo(() => {\n    if (borrowingFeeRate.isLoading || isRecoveryMode.isLoading)\n      return { isLoading: true, value: BigNumber.from(0) };\n\n    if (isRecoveryMode.value)\n      return {\n        isLoading: false,\n        value: BigNumber.from(0),\n      };\n\n    return {\n      isLoading: false,\n      value: calculateBorrowingFee(\n        BigNumber.from(parseUnits(debtAmount, 18)),\n        borrowingFeeRate.value,\n      ),\n    };\n  }, [borrowingFeeRate, isRecoveryMode, debtAmount]);\n\n  const totalDebt = useMemo(() => {\n    if (borrowingFee.isLoading)\n      return {\n        isLoading: true,\n        value: BigNumber.from(0),\n      };\n    if (!Number(debtAmount)) return { isLoading: false, value: BigNumber.from(0) };\n\n    return {\n      isLoading: false,\n      value: BigNumber.from(parseUnits(debtAmount, 18))\n        .add(troveDetail.liquidationReserve)\n        .add(borrowingFee.value),\n    };\n  }, [borrowingFee.isLoading, borrowingFee.value, debtAmount, troveDetail.liquidationReserve]);\n\n  const collateralRatio = useMemo(() => {\n    if (collateralGMUPrice.isLoading || totalDebt.isLoading) {\n      return { isLoading: true, value: BigNumber.from(0) };\n    }\n    if (!Number(debtAmount) || !Number(collateralValue))\n      return { isLoading: false, value: BigNumber.from(0) };\n\n    const collateralValueBN = BigNumber.from(parseUnits(collateralValue, tokenDecimals));\n    const ratio = collateralValueBN.mul(collateralGMUPrice.value).mul(100).div(totalDebt.value);\n\n    return {\n      isLoading: false,\n      value: ratio,\n    };\n  }, [debtAmount, tokenDecimals, collateralValue, collateralGMUPrice, totalDebt]);\n\n  const isCollateralRatioBelowMin = useMemo(() => {\n    if (isRecoveryMode.isLoading) return false;\n    if (!Number(debtAmount) || !Number(collateralValue)) return false;\n    const crData = crParameters(troveDetail.trove, activeChainId);\n    return !isRecoveryMode.value\n      ? collateralRatio.value.lte(DECIMALS_18.mul(crData.mcr).div(1000))\n      : collateralRatio.value.lte(DECIMALS_18.mul(crData.ccr).div(1000));\n  }, [\n    isRecoveryMode.isLoading,\n    isRecoveryMode.value,\n    debtAmount,\n    collateralValue,\n    troveDetail.trove,\n    activeChainId,\n    collateralRatio.value,\n  ]);\n\n  const isDebtBelowMinNetDebt = useMemo(() => {\n    const bn = BigNumber.from(parseUnits(debtAmount, 18));\n    if (bn.eq(0) && BigNumber.from(parseUnits(collateralValue, 18)).eq(0)) return false;\n    return bn.lt(troveDetail.minDebtAmount);\n  }, [debtAmount, collateralValue, troveDetail.minDebtAmount]);\n\n  const liquidationPrice = useMemo(() => {\n    if (collateralGMUPrice.isLoading || totalDebt.isLoading)\n      return { isLoading: true, value: BigNumber.from(0) };\n\n    const collateralAmountBN = BigNumber.from(parseUnits(collateralValue, 18));\n    const liquidationCR = DECIMALS_18.mul(1099999).div(10000);\n\n    if (collateralGMUPrice.value.lte(0) || collateralAmountBN.lte(0))\n      return {\n        isLoading: false,\n        value: BigNumber.from(0),\n      };\n\n    return {\n      isLoading: false,\n      value: liquidationCR.mul(totalDebt.value).div(collateralAmountBN).div(100),\n    };\n  }, [collateralValue, totalDebt, collateralGMUPrice]);\n\n  const handleCheck = () => {\n    setCheckedLevarage(!checkedLevarage);\n  };\n\n  const onCollateralValueChange = async (val: string) => {\n    if (val === '' || collateralGMUPrice.value.lte(0) || collateralGMUPrice.isLoading) {\n      setCollateralValue('0');\n      return;\n    }\n\n    const check: boolean = ValidateNumber(val);\n    if (!check) return;\n    setCollateralValue(check ? val : String(Number(val)));\n    if (Number(debtAmount)) return;\n    const valueInNumber: number = Number(val);\n    if (!valueInNumber) return;\n\n    setdebtAmount(getDisplayBalance(troveDetail.minDebtAmount, 18, 18));\n  };\n\n  const onDebtAmounChange = async (val: string) => {\n    if (val === '' || collateralGMUPrice.value.lte(0) || collateralGMUPrice.isLoading) {\n      setdebtAmount('0');\n      return;\n    }\n\n    const check: boolean = ValidateNumber(val);\n    if (!check) return;\n    setdebtAmount(check ? val : String(Number(val)));\n  };\n\n  const resetFields = () => {\n    onCollateralValueChange('0');\n    setdebtAmount('0');\n  };\n\n  return (\n    <div>\n      <ConfirmLoanModal\n        selectedCollateralCoin={troveDetail.depositToken}\n        selectedContractPrefix={troveDetail.contractPrefix}\n        openModal={openConfirmationModal}\n        swapAmount={BigNumber.from(0)}\n        entryPrice={collateralGMUPrice.value}\n        collateralValue={BigNumber.from(parseUnits(collateralValue, 18))\n          .mul(collateralGMUPrice.value)\n          .div(DECIMALS_18)}\n        collateralAmount={BigNumber.from(parseUnits(collateralValue, tokenDecimals))}\n        liquidationPrice={liquidationPrice.value}\n        leverage={0}\n        collateralRatio={collateralRatio.value}\n        borrowingFee={borrowingFee.value}\n        totalDebt={BigNumber.from(parseUnits(debtAmount, 18))\n          .add(borrowingFee.value)\n          .add(troveDetail.liquidationReserve)}\n        liquidationReserve={troveDetail.liquidationReserve}\n        borrowingFeeRate={borrowingFeeRate.value}\n        onClose={() => setOpenConfirmationModal(false)}\n        onSuccess={() => {\n          window.location.href = '/#/loans/your-loans';\n          resetFields();\n        }}\n      />\n      {troveIsAlreadyPresent.value && (\n        <div className=\"m-b-12 m-t-12\">\n          <InfoTip\n            type={'Info'}\n            msg={\n              <div>\n                You already have an open loan for {troveDetail.trove.toUpperCase()}. &nbsp;\n                <a\n                  className={'links'}\n                  href={`/#/loan/details/${account || ''}/${troveDetail.depositToken}`}\n                >\n                  view loan\n                </a>\n              </div>\n            }\n          />\n        </div>\n      )}\n      <InfoTip\n        type={'Warning'}\n        msg={\n          <div>\n            Please understand the price mechanics of ARTH before opening a loan. ARTH's price is\n            stable in the short term but appreciates over the long-term. Read{' '}\n            <a\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n              href=\"https://docs.arth.loans/target-price-for-arth\"\n              className={'links bold'}\n            >\n              the documentation\n            </a>{' '}\n            for more info.\n          </div>\n        }\n        className={'m-b-12'}\n      />\n      <CustomInputContainer\n        ILabelValue={'Enter Collateral'}\n        IBalanceValue={`${getDisplayBalance(collateralBalance.value, tokenDecimals)}`}\n        isBalanceLoading={collateralBalance.isLoading}\n        ILabelInfoValue={''}\n        disabled={collateralBalance.isLoading || troveIsAlreadyPresent.value}\n        DefaultValue={collateralValue.toString()}\n        LogoSymbol={troveDetail.depositToken}\n        hasDropDown={false}\n        SymbolText={troveDetail.depositToken}\n        inputMode={'numeric'}\n        setText={(val: string) => {\n          onCollateralValueChange(val);\n        }}\n        tagText={'MAX'}\n        tokenDecimals={tokenDecimals}\n        errorCallback={(flag: boolean) => {\n          setIsInputFieldError(flag);\n        }}\n      />\n      <div className=\"single-line-center-center m-t-12 m-b-12\">\n        <IconLoader iconName={'ArrowTailDown'} iconType={'arrow'} />\n      </div>\n      <CustomInputContainer\n        ILabelValue={'Enter Debt Amount'}\n        IBalanceValue={`${getDisplayBalance(arthBalance.value, 18)}`}\n        isBalanceLoading={arthBalance.isLoading}\n        DefaultValue={debtAmount.toString()}\n        ILabelInfoValue={''}\n        LogoSymbol={'ARTH'}\n        disabled={arthBalance.isLoading || troveIsAlreadyPresent.value}\n        hasDropDown={false}\n        SymbolText={'ARTH'}\n        setText={(val: string) => onDebtAmounChange(val)}\n        tokenDecimals={18}\n      />\n      {isCollateralRatioBelowMin && (\n        <div className=\"m-b-12 m-t-12\">\n          <InfoTip\n            type={'Warning'}\n            msg={\n              !isRecoveryMode.value\n                ? `Collateral ratio must be at least ${\n                    getDisplaycrParameters(troveDetail.trove, activeChainId).mcr\n                  }%.`\n                : `Collateral ratio must be at least ${\n                    getDisplaycrParameters(troveDetail.trove, activeChainId).ccr\n                  }% in Recovery Mode.`\n            }\n          />\n        </div>\n      )}\n      {isDebtBelowMinNetDebt && (\n        <div className=\"m-b-12 m-t-12\">\n          <InfoTip\n            type={'Warning'}\n            msg={`Minimum debt must be at least ${Number(\n              getDisplayBalance(troveDetail.minDebtAmount, 18, 3),\n            ).toLocaleString()}`}\n          />\n        </div>\n      )}\n      <div className=\"m-b-12 m-t-12\">\n        <InfoTip\n          type={'Warning'}\n          msg={\n            <div>\n              Please make sure you understand the risks of opening a loan. Read the{' '}\n              <a\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n                href=\"https://docs.arth.loans/protocol/risks-and-security\"\n                className={'links bold'}\n              >\n                documentation on risks\n              </a>{' '}\n              for more information.\n            </div>\n          }\n        />\n      </div>\n      <div className=\"m-t-24\">\n        <div className=\"single-line-center-between m-b-8\">\n          <div className=\"single-line-center-start\">\n            <TextWrapper text={'Collateral Ratio'} fontSize={12} />\n            <ToolTip\n              toolTipText={`The ratio between the ARTH value of the collateral and the debt (in ARTH) you are depositing.\n              While the Minimum Collateral Ratio is ${\n                getDisplaycrParameters(troveDetail.trove, activeChainId).mcr\n              }%\n              during normal operation, it is recommended to keep the Collateral Ratio always above\n              ${\n                getDisplaycrParameters(troveDetail.trove, activeChainId).ccr\n              }%% to avoid liquidation under Recovery Mode.\n              A Collateral Ratio above 200% or 250% is recommended for additional safety.`}\n            />\n          </div>\n          <div className=\"single-line-center-start\">\n            {collateralRatio.isLoading ? (\n              <Loader color={'#ffffff'} loading={true} size={8} margin={2} />\n            ) : (\n              <TextWrapper\n                text={\n                  Number(getDisplayBalance(collateralRatio.value, 18, 3)).toLocaleString() + '%'\n                }\n                fontSize={12}\n                Fcolor={\n                  Number(getDisplayBalance(collateralRatio.value, 18, 3)) >=\n                  getDisplaycrParameters(troveDetail.trove, activeChainId).mcr\n                    ? theme.color.green[300]\n                    : theme.color.red[300]\n                }\n              />\n            )}\n          </div>\n        </div>\n        <div className=\"single-line-center-between m-b-8\">\n          <div className=\"single-line-center-start\">\n            <TextWrapper text={'One-time Fee'} fontSize={12} />\n            <ToolTip\n              toolTipText={`The One-time Fee is a one-off fee charged as a percentage of the borrowed amount (in ARTH) and is part of a loan's debt. The fee varies between 0.5% and 5% depending on ARTH redemption volumes.`}\n            />\n          </div>\n          <div className=\"single-line-center-start\">\n            {borrowingFee.isLoading ? (\n              <Loader color={'#ffffff'} loading={true} size={8} margin={2} />\n            ) : (\n              <TextWrapper\n                text={\n                  Number(getDisplayBalance(borrowingFee.value, 18, 3)).toLocaleString() +\n                  ' ARTH'\n                }\n                fontSize={12}\n              />\n            )}\n          </div>\n        </div>\n        <div className=\"single-line-center-between\">\n          <div className=\"single-line-center-start\">\n            <TextWrapper text={'Liquidation Reserve'} fontSize={12} />\n            <ToolTip\n              toolTipText={\n                'An amount set aside to cover the liquidators gas costs if your loan needs to be liquidated. The amount increases your debt and is refunded if you close your loan by fully paying off its net debt.'\n              }\n            />\n          </div>\n          <div className=\"single-line-center-start\">\n            <TextWrapper\n              text={\n                Number(\n                  getDisplayBalance(troveDetail.liquidationReserve, 18, 3),\n                ).toLocaleString() + ' ARTH'\n              }\n              fontSize={12}\n            />\n          </div>\n        </div>\n        <div className=\"single-line-center-between m-t-12\">\n          <div className=\"single-line-center-start\">\n            <TextWrapper text={'Total Debt'} fontSize={12} />\n            <ToolTip\n              toolTipText={\n                'The Total Debt your loan will hold. This amount is inclusive of the amount you will recieve, borrowing fee and the liquidation reserve set aside.'\n              }\n            />\n          </div>\n          <div className=\"single-line-center-start\">\n            {totalDebt.isLoading ? (\n              <Loader color={'#ffffff'} loading={true} size={8} margin={2} />\n            ) : (\n              <TextWrapper\n                text={\n                  Number(getDisplayBalance(totalDebt.value, 18, 3)).toLocaleString() + ' ARTH'\n                }\n                fontSize={12}\n                Fcolor={theme.color.green[300]}\n              />\n            )}\n          </div>\n        </div>\n      </div>\n      <div className=\"m-t-32\">\n        <InfoTip\n          type={'Warning'}\n          msg={`Please make sure you some ${troveDetail.trove} left over to pay for gas fees while opening a loan`}\n          className={'m-b-8'}\n        />\n        <Button\n          disabled={\n            troveIsAlreadyPresent.value ||\n            isInputFieldError ||\n            !Number(debtAmount) ||\n            !Number(collateralValue) ||\n            isCollateralRatioBelowMin ||\n            isDebtBelowMinNetDebt\n          }\n          tracking_id=\"take_loan\"\n          tracking_params={{\n            collateral: troveDetail.trove,\n            action: 'initial',\n            amount: Number(collateralValue),\n          }}\n          onClick={() => setOpenConfirmationModal(true)}\n        >\n          Take Loan\n        </Button>\n      </div>\n    </div>\n  );\n};\n\nexport default AddLoanSection;\n\nconst CheckboxDiv = styled.div`\n  background: rgba(255, 255, 255, 0.08);\n  border-radius: 6px;\n  padding: 6px 12px 6px 12px;\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  font-style: normal;\n  font-weight: 600;\n  font-size: 14px;\n  line-height: 20px;\n  text-align: center;\n  color: rgba(255, 255, 255, 0.88);\n  margin: 15px 0 0 0;\n`;\n","import React from 'react';\n\nimport Grid from '@material-ui/core/Grid';\n\nimport useClaimCollateral from '../../../hooks/callbacks/borrowerOperations/useClaimCollateral';\nimport useUnclaimedCollateral from '../../../hooks/state/borrowerOperations/useUnclaimedCollateral';\nimport Button from '../../../theme/components/Button';\nimport TextWrapper from '../../../theme/components/TextWrapper';\n\nexport default (props: { contractPrefix: string }) => {\n  const action = useClaimCollateral(props.contractPrefix);\n\n  const claimableCollateral = useUnclaimedCollateral(props.contractPrefix);\n\n  if (claimableCollateral.value.eq(0)) return <div />;\n\n  return (\n    <div className={'material-secondary'}>\n      <Grid container spacing={2} justify={'space-between'} alignItems={'center'}>\n        <Grid item lg={6} md={6} sm={12} xs={12}>\n          <TextWrapper\n            text={\n              'You have unclaimed collateral from your loan that ' +\n              'got closed because it was fully redeemed. Click on the button to claim your collateral back.'\n            }\n          />\n        </Grid>\n        <Grid item lg={3} md={3} sm={6} xs={6}>\n          <Button onClick={action} text={'Claim Collateral'} />\n        </Grid>\n      </Grid>\n    </div>\n  );\n};\n","import * as Sentry from '@sentry/react';\nimport { useCallback } from 'react';\n\nimport { useAddPopup } from '../../../state/application/hooks';\nimport { useTransactionAdder } from '../../../state/transactions/hooks';\nimport { useGetChainId } from '../../../utils/NetworksCustomHooks';\nimport formatErrorMessage from '../../../utils/formatErrorMessage';\nimport useCore from '../../useCore';\n\nexport default function (symbol: string) {\n  const core = useCore();\n  const addPopup = useAddPopup();\n  const addTransaction = useTransactionAdder();\n  const chainId = useGetChainId();\n\n  return useCallback(\n    async (callback?: () => void): Promise<void> => {\n      try {\n        const contract = core.getBorrowerOperations(symbol, chainId);\n        const response = await contract.claimCollateral();\n\n        addTransaction(response, {\n          summary: `Claim unspent collateral from ${symbol.toUpperCase()} closed loan`,\n        });\n\n        if (response.status !== 1) {\n          Sentry.captureException({\n            name: 'useClaimCollateral',\n            response,\n            symbol,\n          });\n        }\n\n        if (callback) callback();\n      } catch (e) {\n        Sentry.captureException({\n          ...e,\n          name: 'useClaimCollateral',\n        });\n        addPopup({\n          error: {\n            message: formatErrorMessage(e?.data?.message || e?.message),\n            stack: e?.stack,\n          },\n        });\n      }\n    },\n    [core, symbol, chainId, addTransaction, addPopup],\n  );\n}\n","import { BigNumber } from 'ethers';\nimport { useCallback, useEffect, useState } from 'react';\n\nimport { useGetAccount, useGetChainId } from '../../../utils/NetworksCustomHooks';\nimport useCore from '../../useCore';\n\ntype State = {\n  isLoading: boolean;\n  value: BigNumber;\n};\n\nexport default (contractPrefix: string) => {\n  const [value, setValue] = useState<State>({ isLoading: true, value: BigNumber.from(0) });\n\n  const core = useCore();\n  const account = useGetAccount();\n  const activeChainId = useGetChainId();\n\n  const fetchValue = useCallback(async () => {\n    if (!account) {\n      setValue({ isLoading: false, value: BigNumber.from(0) });\n      return;\n    }\n\n    const contract = core.getCollSurplusPool(contractPrefix, activeChainId);\n    const value = await contract.getCollateral(account);\n    setValue({ isLoading: false, value });\n  }, [account, core, contractPrefix, activeChainId]);\n\n  useEffect(() => {\n    if (core.isUnlocked) {\n      fetchValue().catch((err) =>\n        console.error(`Failed to fetch frontend registration status %: ${err}`),\n      );\n    }\n  }, [core.isUnlocked, account, fetchValue]);\n\n  return value;\n};\n","import React, { useMemo, useState } from 'react';\nimport { useParams } from 'react-router-dom';\n\nimport Grid from '@material-ui/core/Grid';\n\nimport config from '../../config';\nimport useCore from '../../hooks/useCore';\nimport InfoTip from '../../theme/components/InfoTip';\nimport PageHeader from '../../theme/components/PageHeader';\nimport { useGetAccount, useGetChainId } from '../../utils/NetworksCustomHooks';\nimport LoanInfo from '../LoanInfo/LoanInfo';\n\nimport AddLoanSection from './components/AddLoanSection';\nimport UnclaimedCollateral from './components/UnclaimedCollateral';\n\n\nconst AddLoan = () => {\n  const { id } = useParams<{ id: string }>();\n  const [trove, setTrove] = useState<string>('');\n  const chainId = useGetChainId();\n  const account = useGetAccount();\n\n  const core = useCore();\n  const isTroveValid: boolean = useMemo(() => {\n    const troves = core.getAllTroves(chainId, account);\n    if (troves.includes(id)) {\n      setTrove(id);\n      return true;\n    } else {\n      return false;\n    }\n  }, [core, chainId, account, id]);\n\n  if (!isTroveValid) {\n    window.location.href = `/#/loan/add/${config[chainId].defaultCollateral}`;\n    return <div />;\n  }\n\n  if (isTroveValid && trove !== '') {\n    return (\n      <div className=\"custom-container\">\n        <PageHeader\n          title={`Mint ARTH`}\n          subTitle={`Mint ARTH by putting down your ETH as collateral.`}\n        />\n        <div className={'m-b-24'}>\n          <UnclaimedCollateral contractPrefix={id} />\n        </div>\n\n        <Grid container spacing={2}>\n          <Grid item lg={6} md={6} sm={12} xs={12}>\n            <div className={'m-b-24'}>\n              <InfoTip\n                type={'Info'}\n                msg={\n                  <div>\n                    <b>Mint ARTH and get special access to our Discord </b> <br />\n                    Users who mint arth will get special roles in our discord that give you\n                    access to exclusive channels. Visit\n                    <a\n                      target=\"_blank\"\n                      rel=\"noopener noreferrer\"\n                      href=\"https://guild.xyz/mahadao\"\n                      className={'links bold'}\n                    >\n                      &nbsp; Guild.xyz\n                    </a>{' '}\n                    to learn more.\n                  </div>\n                }\n              />\n            </div>\n            <div className={'custom-mahadao-container'}>\n              <div className={'custom-mahadao-container-content'}>\n                <AddLoanSection trove={trove} />\n              </div>\n            </div>\n          </Grid>\n          <Grid item lg={6} md={6} sm={12} xs={12}>\n            {/*<LoanDesc />*/}\n            <LoanInfo trove={trove} />\n          </Grid>\n        </Grid>\n      </div>\n    );\n  }\n};\n\nexport default AddLoan;\n","import { BigNumber } from 'ethers';\nimport { useCallback, useEffect, useState } from 'react';\n\nimport BasisCash from '../../protocol';\nimport { DECIMALS_18, PAGINATION_PAGE_SIZE } from '../../protocol/constants';\nimport { useGetAccount, useGetChainId } from '../../utils/NetworksCustomHooks';\nimport useCore from '../useCore';\n\ntype State = {\n  isLoading: boolean;\n  value: Array<any>;\n};\n\nconst fetchForCollaterals = async (\n  core: BasisCash,\n  pageNo: number = 0,\n  collaterals: string[],\n  activeChainId: number,\n) => {\n  const finalTroves = [];\n\n  const index = Number(pageNo);\n\n  const pageIndex = index === 0 ? -1 : -1 - index * PAGINATION_PAGE_SIZE;\n  /*\n    index 0 pageindex -1\n    index 1 pageindex -5\n    index 2 pageindes -10\n   */\n  for (let i = 0; i < collaterals.length; i++) {\n    const collateral = collaterals[i];\n    const troveContract = core.getTroveManager(collateral, activeChainId);\n\n    const multiTroveGetterContract = core.getMultiTroveGetter(collateral, activeChainId);\n    const troves = await multiTroveGetterContract.getMultipleSortedTroves(\n      pageIndex,\n      PAGINATION_PAGE_SIZE,\n    );\n\n    const collateralPriceFeedContract = core.getPriceFeed(collateral, activeChainId);\n    const collateralPrice = await collateralPriceFeedContract.callStatic.fetchPrice();\n\n    const recoveryMode = await troveContract.checkRecoveryMode(collateralPrice);\n    const tcr = await troveContract.getTCR(collateralPrice);\n\n    const spContract = core.getStabilityPool(collateral, activeChainId);\n    const arthInSp = await spContract.getTotalARTHDeposits();\n\n    for (const trove of troves) {\n      if (trove.coll.lte(0) && trove.debt.lte(0)) continue;\n\n      const pendingETHReward: any =\n        (await troveContract.getPendingETHReward(trove.owner)) || BigNumber.from(0);\n      const pendingARTHDebtReward: any =\n        (await troveContract.getPendingARTHDebtReward(trove.owner)) || BigNumber.from(0);\n\n      let coll: any = trove.coll;\n      let debt: any = trove.debt;\n      if (pendingETHReward && pendingETHReward.gt(0)) coll = coll.add(pendingETHReward);\n      if (pendingARTHDebtReward && pendingARTHDebtReward.gt(0))\n        debt = debt.add(pendingARTHDebtReward);\n\n      const cr = debt.lte(0)\n        ? BigNumber.from(0)\n        : coll.mul(collateralPrice).mul(100).div(debt).div(DECIMALS_18);\n\n      finalTroves.push({\n        id: `${Date.now() + Math.random()}-${trove.owner}`, // Reduces the chance of getting same id.\n        token: collateral,\n        owner: trove.owner,\n        deposit: coll,\n        debt: debt,\n        isLiquidateable: recoveryMode\n          ? cr.lt(tcr.mul(100).div(DECIMALS_18)) && arthInSp.gte(debt)\n          : cr.lt(110),\n        collateralRatio: cr,\n      });\n    }\n  }\n\n  return finalTroves;\n};\n\nexport default (token: string, pageNo: number = 5, doRefresh: boolean) => {\n  const [value, setValue] = useState<State>({ isLoading: true, value: [] });\n\n  const core = useCore();\n  const account = useGetAccount();\n  const activeChainId = useGetChainId();\n\n  const fetchValue = useCallback(async () => {\n    if (!account) {\n      setValue({ isLoading: false, value: [] });\n      return;\n    }\n\n    const collateralTroveMapping = await fetchForCollaterals(\n      core,\n      pageNo,\n      [token],\n      activeChainId,\n    );\n    setValue({ isLoading: false, value: collateralTroveMapping });\n  }, [account, token, pageNo, core, activeChainId]);\n\n  useEffect(() => {\n    setValue({ isLoading: true, value: [] });\n  }, [token, pageNo, doRefresh]);\n\n  useEffect(() => {\n    if (core.isUnlocked) {\n      fetchValue().catch((err) =>\n        console.error(`Failed to fetch all loans: ${err.message}`, err),\n      );\n    }\n  }, [\n    core.isUnlocked,\n    doRefresh,\n    account,\n    token,\n    pageNo,\n    core.myAccount,\n    fetchValue,\n    activeChainId,\n  ]);\n\n  return value;\n};\n","import Tooltip from '@material-ui/core/Tooltip';\nimport { withStyles } from '@material-ui/core/styles';\n\nimport theme from '../../index';\n\nconst HtmlTooltip = withStyles(() => ({\n  tooltip: {\n    backgroundColor: theme.color.dark[200],\n    color: 'white',\n    fontWeight: 300,\n    fontSize: '13px',\n    borderRadius: '6px',\n    padding: '20px',\n    // paddingRight: 0\n  },\n}))(Tooltip);\n\nexport default HtmlTooltip;\n","import clsx from 'clsx';\nimport React, { useEffect, useState } from 'react';\nimport Loader from 'react-spinners/BeatLoader';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport { DataGrid } from '@material-ui/data-grid';\n\nimport { Mixpanel } from '../../../analytics/Mixpanel';\nimport config from '../../../config';\nimport '../../../customCss/Custom-Mahadao-Data-Table.css';\nimport useLiquidateTrove from '../../../hooks/callbacks/troveManager/useLiquidateTrove';\nimport useGetStaticLinkedListSize from '../../../hooks/state/sortedTroves/useGetStaticLinkedListSize';\nimport useGetAllTroves from '../../../hooks/state/useGetAllTroves';\nimport useTokenDecimals from '../../../hooks/useTokenDecimals';\nimport { PAGINATION_PAGE_SIZE } from '../../../protocol/constants';\nimport HtmlTooltip from '../../../theme/components/HtmlTooltip';\nimport IconLoader from '../../../theme/components/IconLoader';\nimport TextWrapper from '../../../theme/components/TextWrapper';\nimport { useGetChainId } from '../../../utils/NetworksCustomHooks';\nimport { getDisplayBalance, truncateMiddle } from '../../../utils/formatBalance';\nimport { troveDetails } from '../../../utils/tokenDetails';\n\nexport function SortedDescendingIcon() {\n  return <IconLoader iconName={'ArrowUp'} iconType=\"arrow\" />;\n}\n\nexport function SortedAscendingIcon() {\n  return <IconLoader iconName={'ArrowDown'} iconType=\"arrow\" />;\n}\n\nconst useStyles = makeStyles({\n  root: {\n    '& .super-app-theme--header': {\n      cursor: 'pointer',\n    },\n    '& .super-app.negative': {\n      color: '#FA4C69',\n      fontWeight: '600',\n    },\n    '& .super-app.positive': {\n      color: '#20C974',\n      fontWeight: '600',\n    },\n    '& .super-app.loss': {\n      color: '#FA4C69',\n      fontWeight: '600',\n    },\n    '& .super-app.profit': {\n      color: '#20C974',\n      fontWeight: '600',\n    },\n  },\n  gridStyle: {\n    color: 'white',\n  },\n});\n\ntype Props = {\n  selectedTrove: string;\n  doRefresh: boolean;\n  setDoRefresh: () => void;\n};\n\nconst AllLoansTable = ({ setDoRefresh, doRefresh, selectedTrove }: Props) => {\n  const chainId = useGetChainId();\n  const troveDetail = troveDetails(selectedTrove, chainId);\n  const [pageNo, setPageNo] = useState<number>(0);\n  const noOfSize = useGetStaticLinkedListSize(troveDetail?.contractPrefix, doRefresh);\n\n  const troves = useGetAllTroves(troveDetail?.contractPrefix, pageNo, doRefresh);\n  const liquidateTrove = useLiquidateTrove();\n\n  const depositTokenDecimals = useTokenDecimals(troveDetail?.depositToken);\n\n  const classes = useStyles();\n\n  useEffect(() => {\n    setPageNo(0);\n  }, [selectedTrove]);\n\n  const handleLiquidate = (symbol: string, borrower: string) => {\n    liquidateTrove(symbol, borrower, () => setDoRefresh());\n  };\n\n  const columns = [\n    {\n      field: 'owner',\n      headerName: 'OWNER',\n      flex: 0.23,\n      sortable: false,\n      renderCell: (params: any) => {\n        return (\n          <div className=\"single-line-center-start\">\n            {truncateMiddle(params.value, 15)}\n            <IconLoader\n              iconName={'ArrowLink'}\n              iconType={'arrow'}\n              onClick={() =>\n                window.open(`${config[chainId].etherscanUrl}/address/${params.row.owner}`)\n              }\n            />\n          </div>\n        );\n      },\n    },\n    {\n      field: 'deposit',\n      headerName: 'COLLATERAL',\n      flex: 0.23,\n      sortable: false,\n      renderCell: (params: any) => {\n        const depositToken = troveDetail.depositToken;\n        return (\n          <div\n            className={'start-center'}\n            onClick={() => {\n              window.open(`/#/loan/details/${params.row.owner}/${params.row.token}`);\n            }}\n          >\n            {Number(getDisplayBalance(params.value, depositTokenDecimals, 3)).toLocaleString()}{' '}\n            {depositToken}\n          </div>\n        );\n      },\n    },\n    {\n      field: 'debt',\n      headerName: 'DEBT(ARTH) ',\n      flex: 0.23,\n      sortable: false,\n      renderCell: (params: any) => {\n        return (\n          <div\n            className={'start-center'}\n            onClick={() => {\n              window.open(`/#/loan/details/${params.row.owner}/${params.row.token}`);\n            }}\n          >\n            {Number(getDisplayBalance(params.value, 18, 3)).toLocaleString()} ARTH\n          </div>\n        );\n      },\n      renderHeader: (params: any) => {\n        return (\n          <div className=\"single-line-center-start\">\n            <IconLoader iconName={'ARTH'} iconType=\"tokenSymbol\" width={20} className=\"m-r-4\" />\n            {params.field}\n          </div>\n        );\n      },\n    },\n    {\n      field: 'collateralRatio',\n      headerName: 'COLLATERAL RATIO',\n      flex: 0.23,\n      sortable: false,\n      sortingOrder: ['asc', 'desc'],\n      cellClassName: (params: any) =>\n        clsx('super-app', {\n          negative: params.row.isLiquidateable,\n          positive: !params.row.isLiquidateable,\n        }),\n      renderCell: (params: any) => {\n        return (\n          <div\n            className={'start-center'}\n            onClick={() => {\n              window.open(`/#/loan/details/${params.row.owner}/${params.row.token}`);\n            }}\n          >\n            {Number(params.value.toString()).toLocaleString()}%\n          </div>\n        );\n      },\n    },\n    {\n      field: 'delete',\n      headerName: 'LIQUIDATE',\n      flex: 0.1,\n      sortable: false,\n      renderCell: (params: any) => {\n        return (\n          <div\n            className={'start-center'}\n            style={{ display: 'flex', justifyContent: 'center', width: '100%', zIndex: 100 }}\n            onClick={() => {\n              if (params.row.isLiquidateable) {\n                Mixpanel.track(`buttonClick:all_loans_liquidate`, {\n                  networkName: config[chainId]?.networkDisplayName,\n                  collateral: params.row.token,\n                });\n                handleLiquidate(params.row.token, params.row.owner);\n              }\n            }}\n          >\n            <HtmlTooltip\n              title={\n                params.row.isLiquidateable ? 'Liquidate' : 'Collateral ratio not low enough'\n              }\n            >\n              <IconLoader iconName={params.row.isLiquidateable ? 'Delete' : 'DeleteFaded'} />\n            </HtmlTooltip>\n          </div>\n        );\n      },\n    },\n  ];\n\n  const LoadingOverlayComponent = () => {\n    return (\n      <div className=\"noResultContainer\">\n        <div className=\"internal\">\n          <Loader color={'#ffffff'} loading={true} size={10} margin={2} />\n        </div>\n      </div>\n    );\n  };\n\n  const noResultsComponent = () => {\n    return (\n      <div className=\"noResultContainer\">\n        <div className=\"internal\">\n          <TextWrapper\n            text={'There are no opens loans yet.'}\n            fontSize={24}\n            fontWeight={'bold'}\n            className=\"m-b-8\"\n          />\n        </div>\n      </div>\n    );\n  };\n\n  return (\n    <React.Fragment>\n      <div className={classes.root} style={{ position: 'relative' }}>\n        <DataGrid\n          className={classes.gridStyle}\n          getRowId={(rows) => {\n            return rows.id;\n          }}\n          pagination\n          rows={troves.value}\n          columns={columns}\n          pageSize={PAGINATION_PAGE_SIZE}\n          rowCount={Number(noOfSize.value.toString())}\n          paginationMode=\"server\"\n          disableMultipleSelection={true}\n          onRowClick={(newSelection) => {\n            // window.open(`/#/loan/details/${newSelection.row.owner}/${newSelection.row.token}`);\n          }}\n          rowHeight={84}\n          loading={troves.isLoading || noOfSize.isLoading}\n          onPageChange={(newPage) => {\n            setPageNo(Number(newPage.page) || 0);\n          }}\n          autoHeight={true}\n          disableColumnMenu={true}\n          components={{\n            LoadingOverlay: LoadingOverlayComponent,\n            NoRowsOverlay: noResultsComponent,\n            ColumnSortedDescendingIcon: SortedDescendingIcon,\n            ColumnSortedAscendingIcon: SortedAscendingIcon,\n          }}\n          disableColumnSelector={true}\n          disableSelectionOnClick={true}\n        />\n      </div>\n    </React.Fragment>\n  );\n};\n\nexport default AllLoansTable;\n","import { BigNumber } from 'ethers';\nimport { useCallback, useEffect, useState } from 'react';\n\nimport { useGetAccount, useGetChainId } from '../../../utils/NetworksCustomHooks';\nimport { troveDetails } from '../../../utils/tokenDetails';\nimport useCore from '../../useCore';\n\ntype State = {\n  isLoading: boolean;\n  value: BigNumber | number;\n};\n\nexport default (trove: string, doRefresh: boolean) => {\n  const [value, setValue] = useState<State>({ isLoading: true, value: 0 });\n\n  const core = useCore();\n  const account = useGetAccount();\n  const activeChainId = useGetChainId();\n\n  const troveDetail = troveDetails(trove, activeChainId);\n\n  const fetchValue = useCallback(async () => {\n    if (!account) {\n      setValue({ isLoading: false, value: 0 });\n      return;\n    }\n\n    const contract = core.getSortedTroves(troveDetail.contractPrefix, activeChainId);\n    const value = await contract.getSize();\n    setValue({ isLoading: false, value: value });\n  }, [core, trove, account]);\n\n  useEffect(() => {\n    if (core.isUnlocked) {\n      fetchValue().catch((err) => console.error(`Failed to fetch linked list size: ${err}`));\n    }\n  }, [core.isUnlocked, account, doRefresh, fetchValue]);\n\n  return value;\n};\n","import * as Sentry from '@sentry/react';\nimport { useCallback } from 'react';\n\nimport { useAddPopup } from '../../../state/application/hooks';\nimport { useTransactionAdder } from '../../../state/transactions/hooks';\nimport { useGetChainId } from '../../../utils/NetworksCustomHooks';\nimport { truncateMiddle } from '../../../utils/formatBalance';\nimport formatErrorMessage from '../../../utils/formatErrorMessage';\nimport useCore from '../../useCore';\n\nexport default function () {\n  const core = useCore();\n  const addPopup = useAddPopup();\n  const addTransaction = useTransactionAdder();\n  const activeChainId = useGetChainId();\n\n  return useCallback(\n    async (symbol: string, borrower: string, callback?: () => void): Promise<void> => {\n      try {\n        const contract = core.getTroveManager(symbol, activeChainId);\n        console.log('contract', contract.address);\n        const response = await contract.liquidate(borrower);\n\n        addTransaction(response, {\n          summary: `Liquidate ${truncateMiddle(\n            borrower,\n            15,\n          )}'s Loan on ${symbol.toUpperCase()}`,\n        });\n\n        if (response.status !== 1) {\n          Sentry.captureException({\n            name: 'useLiquidateTrove',\n            response,\n            symbol,\n            borrower,\n          });\n        }\n\n        if (callback) callback();\n      } catch (e) {\n        console.log('e', e);\n        Sentry.captureException({\n          name: 'useLiquidateTrove',\n          ...e,\n        });\n        addPopup({\n          error: {\n            message: formatErrorMessage(e?.data?.message || e?.message),\n            stack: e?.stack,\n          },\n        });\n      }\n    },\n    [core, addTransaction, addPopup, activeChainId],\n  );\n}\n","import React, { useMemo, useState } from 'react';\nimport { useMediaQuery } from 'react-responsive';\n\nimport config from '../../config';\nimport useCore from '../../hooks/useCore';\nimport { useGetAccount, useGetChainId } from '../../utils/NetworksCustomHooks';\n\nimport AllLoansTable from './components/AllLoansTable';\n\n\nconst AllLoans = () => {\n  const activeChainId = useGetChainId();\n  const [doRefresh, setDoRefresh] = useState<boolean>(false);\n  const [dropdownModalOpen, setDropdownModalOpen] = useState<boolean>(false);\n  const account = useGetAccount();\n\n  const core = useCore();\n\n  const trovesTypes: string[] = useMemo(() => {\n    return core.getAllTroves(activeChainId, account);\n  }, [core, activeChainId, account]);\n\n  const isMobile = useMediaQuery({ maxWidth: '600px' });\n\n  const [selectedTrove, setSelectedTrove] = useState<string>(\n    config[activeChainId].defaultCollateral,\n  );\n\n  return (\n    <div>\n      {/*<div className=\"m-b-24 mo-custom-container single-line-center-between mo-single-line-column\">\n         <div />\n        <div className=\"single-line-center-start\">\n          <Selector\n            openSelector={dropdownModalOpen}\n            toggleSelector={() => {\n              setDropdownModalOpen(!dropdownModalOpen);\n            }}\n            dropdownValue={[...trovesTypes]}\n            selectedData={selectedTrove}\n            setSelectedData={(data) => setSelectedTrove(data)}\n            symbolicData={true}\n            className=\"m-r-12\"\n          />\n          <Button\n            variant={'transparent'}\n            onClick={() => setDoRefresh(!doRefresh)}\n            tracking_id={'refresh_all_loans'}\n          >\n            <IconLoader iconName={'Sync'} className=\"m-r-8\" />\n            <TextWrapper text={'Refresh'} fontWeight={600} />\n          </Button>\n        </div>\n      </div>*/}\n      <AllLoansTable\n        setDoRefresh={() => setDoRefresh(!doRefresh)}\n        selectedTrove={selectedTrove}\n        doRefresh={doRefresh}\n      />\n    </div>\n  );\n};\n\nexport default AllLoans;\n","export const LPTokens_Symbol_Mapping: any = {\n  'ARTH-ETH': 'ARTHETHLP',\n};\n\nexport const LPTokens_name_Symbol_Mapping: any = {\n  ARTHETHLP: 'ARTH-ETH',\n};\n\nexport const coingeckoTokenMapping: any = {\n  WBNB: 'binancecoin',\n  BUSD: 'binance-usd',\n  ARTH: 'arth',\n  MAHA: 'mahadao',\n  WETH: 'ethereum',\n  ETH: 'ethereum',\n  WMATIC: 'wmatic',\n  DAI: 'dai',\n  BNB: 'binancecoin',\n  MATIC: 'matic-network',\n};\n","import { useCallback, useEffect, useState } from 'react';\n\nimport { useGetAccount } from '../../utils/NetworksCustomHooks';\nimport { LOADING_DEFAULT_BASIC_STATE } from '../../utils/constants';\nimport { formatToBN } from '../../utils/formatBalance';\nimport { BasicState } from '../../utils/interface';\nimport { coingeckoTokenMapping } from '../../utils/tokens/constants';\n\nconst useGetUSDValue = (token: string) => {\n  const [state, setState] = useState<BasicState>(LOADING_DEFAULT_BASIC_STATE);\n\n  const account = useGetAccount();\n\n  const fetchValue = useCallback(async () => {\n    const id = coingeckoTokenMapping[token];\n    const usdValue = await fetch(\n      `https://api.coingecko.com/api/v3/simple/price?ids=${id}&vs_currencies=usd`,\n    )\n      .then((data) => data.json())\n      .then((data: any) => {\n        const value = Number(data[id].usd);\n        if (value) {\n          return value;\n        } else {\n          return 0;\n        }\n      })\n      .catch((error) => {\n        console.error(`Failed to ${token} usd value: ${error.stack}`);\n        return 0;\n      });\n    setState({\n      isLoading: false,\n      value: formatToBN(usdValue),\n    });\n  }, [token]);\n\n  useEffect(() => {\n    fetchValue().catch((err) => {\n      console.error(`Failed to tvl in usd: ${err.stack}`);\n    });\n  }, [account, fetchValue]);\n\n  return state;\n};\n\nexport default useGetUSDValue;\n","import React from 'react';\nimport Loader from 'react-spinners/BeatLoader';\n\nimport theme from '../../../theme';\nimport TextWrapper from '../../../theme/components/TextWrapper';\n\ninterface Iprops {\n  text: string;\n  value: string;\n  isLoading: boolean;\n  subtitle?: string;\n}\n\nconst SummaryBox = (props: Iprops) => {\n  const { text, value, isLoading, subtitle } = props;\n\n  return (\n    <div className=\"material-primary text-center\">\n      <div className=\"m-b-4\">\n        <TextWrapper text={text} fontSize={16} align={'center'} />\n      </div>\n      <div className={'m-b-2'}>\n        {isLoading ? (\n          <Loader color={'#ffffff'} loading={true} size={8} margin={2} />\n        ) : (\n          <TextWrapper text={value} fontSize={18} fontWeight={'bold'} align={'center'} />\n        )}\n      </div>\n      {subtitle && (\n        <TextWrapper\n          text={subtitle}\n          fontSize={14}\n          align={'center'}\n          Fcolor={theme.color.transparent[100]}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default SummaryBox;\n","import Numeral from 'numeral';\nimport React from 'react';\n\nimport { Grid } from '@material-ui/core';\n\nimport configurations from '../../../config';\nimport useGetTotalCollateralRatio from '../../../hooks/state/troveManager/useGetTotalCollateralRatio';\nimport useCollateralPriceFeed from '../../../hooks/state/useCollateralPriceFeed';\nimport useGetProtocolCollateral from '../../../hooks/state/useGetProtocolCollateral';\nimport useGetProtocolDebt from '../../../hooks/state/useGetProtocolDebt';\nimport useGetUSDValue from '../../../hooks/state/useGetUSDValue';\nimport { useGetChainId } from '../../../utils/NetworksCustomHooks';\nimport { formatToBN, getDisplayBalance } from '../../../utils/formatBalance';\n\nimport SummaryBox from './SummaryBox';\n\n\nconst GlobalData = () => {\n  const entireSystemDebt = useGetProtocolDebt();\n  const chainId = useGetChainId();\n  const price = useCollateralPriceFeed(\n    configurations[chainId].defaultCollateral,\n    configurations[chainId].defaultCollateral,\n  );\n\n  const entireSystemCollateral = useGetProtocolCollateral();\n  const tcr = useGetTotalCollateralRatio(configurations[chainId].defaultCollateral);\n  const chainTokenUSD = useGetUSDValue(configurations[chainId].defaultCollateral);\n  const arth = {\n    isLoading: false,\n    value: formatToBN(2),\n  };\n\n  return (\n    <div className=\"mo-custom-container m-b-40\">\n      <Grid container spacing={2}>\n        <Grid item lg={3} md={6} sm={12} xs={12}>\n          <SummaryBox\n            text={'Total Collateral Ratio'}\n            isLoading={tcr.isLoading}\n            value={Numeral(getDisplayBalance(tcr.value, 18, 6)).format('0,0.000%')}\n          />\n        </Grid>\n        <Grid item lg={3} md={6} sm={12} xs={12}>\n          <SummaryBox\n            text={'Total Collateral Locked'}\n            isLoading={entireSystemCollateral.isLoading}\n            value={\n              Numeral(getDisplayBalance(entireSystemCollateral.value, 18, 3)).format('0,0') +\n              ' ' +\n              configurations[chainId].defaultCollateral\n            }\n            subtitle={`$${Number(\n              getDisplayBalance(entireSystemCollateral.value.mul(chainTokenUSD.value), 36, 6),\n            ).toLocaleString('en-US', { maximumFractionDigits: 2 })}`}\n          />\n        </Grid>\n        <Grid item lg={3} md={6} sm={12} xs={12}>\n          <SummaryBox\n            text={'Protocol Price'}\n            isLoading={price.isLoading}\n            value={\n              Numeral(getDisplayBalance(price.value, 18, 3)).format('0,0.000') +\n              ` ARTH/${configurations[chainId].defaultCollateral}`\n            }\n            subtitle={`${Number(\n              getDisplayBalance(price.value.mul(arth.value), 36, 6),\n            ).toLocaleString('en-US', { maximumFractionDigits: 2 })} USD/${\n              configurations[chainId].defaultCollateral\n            }`}\n          />\n        </Grid>\n        <Grid item lg={3} md={6} sm={12} xs={12}>\n          <SummaryBox\n            text={'Total Debt'}\n            isLoading={entireSystemDebt.isLoading}\n            value={\n              Numeral(getDisplayBalance(entireSystemDebt.value, 18, 3)).format('0,0') + ' ARTH'\n            }\n            subtitle={`$${Number(\n              getDisplayBalance(entireSystemDebt.value.mul(arth.value), 36, 6),\n            ).toLocaleString('en-US', { maximumFractionDigits: 2 })}`}\n          />\n        </Grid>\n      </Grid>\n    </div>\n  );\n};\n\nexport default GlobalData;\n","import { BigNumber } from 'ethers';\nimport { useCallback, useEffect, useState } from 'react';\nimport { useSelector } from 'react-redux';\n\nimport { AppState } from '../../state';\nimport { useGetAccount, useGetChainId } from '../../utils/NetworksCustomHooks';\nimport useCore from '../useCore';\n\ntype State = {\n  isLoading: boolean;\n  value: BigNumber;\n};\n\nexport default () => {\n  const [value, setValue] = useState<State>({ isLoading: true, value: BigNumber.from(0) });\n\n  const core = useCore();\n  const activeChainId = useGetChainId();\n  const systemDebt = useSelector((app: AppState) => app.analytics.entireSystemDebt);\n  const account = useGetAccount();\n\n  const fetchValue = useCallback(async () => {\n    const contract = core.getTroveManager('ETH', activeChainId);\n    const debt = await contract.getEntireSystemDebt();\n    setValue({\n      isLoading: false,\n      value: debt,\n    })\n    /*if (!account) {\n      setValue({ isLoading: false, value: BigNumber.from(0) });\n      return;\n    }\n\n    const collaterals = core.getAllTroves(activeChainId);\n\n    const debts = collaterals.map((c: string) => systemDebt[c]);\n\n    if (debts.findIndex((f) => f === undefined) >= 0)\n      return setValue({ isLoading: true, value: BigNumber.from(0) });\n\n    setValue({ isLoading: false, value: debts.reduce((a, b) => a.add(b), BigNumber.from(0)) });\n  */}, [account, core, systemDebt, activeChainId]);\n\n  useEffect(() => {\n    if (core.isUnlocked) {\n      fetchValue().catch((err) => console.error(`Failed to fetch protocol debt %: ${err}`));\n    }\n  }, [core.isUnlocked, account, fetchValue]);\n\n  return value;\n};\n","import React from 'react';\nimport styled from 'styled-components';\n\nimport config from '../../config';\nimport Button from '../../theme/components/Button';\nimport IconLoader from '../../theme/components/IconLoader';\nimport PageHeader from '../../theme/components/PageHeader';\nimport { useGetChainId } from '../../utils/NetworksCustomHooks';\nimport AllLoans from '../AllLoans';\n\nimport GlobalData from './components/GlobalData';\n\n\nconst Loan = () => {\n  const chainId = useGetChainId();\n\n  return (\n    <div className=\"custom-container\">\n      <div className=\"single-line-center-between mo-single-line-column\">\n        <PageHeader\n          title={'Overview'}\n          subTitle={`Mint ARTH using decentralized smart-contracts and govern your money.`}\n          showLearnMore={true}\n          learnMoreLink={'https://docs.arth.loans/protocol/introduction-arth-loans'}\n        />\n        <div className=\"single-line-center-start\">\n          <ButtonContainer>\n            <Button\n              to={`/loan/add/${config[chainId].defaultCollateral}`}\n              tracking_id={'open_loan'}\n              tracking_params={{ position: 'header' }}\n              disabled={chainId === 56}\n            >\n              <IconLoader iconName={'Add'} className=\"m-r-4\" width={20} />\n              Mint ARTH\n            </Button>\n          </ButtonContainer>\n        </div>\n      </div>\n      <GlobalData />\n      <AllLoans />\n    </div>\n  );\n};\n\nexport default Loan;\n\nconst ButtonContainer = styled.div`\n  margin-bottom: 40px;\n  @media (max-width: 600px) {\n    max-width: max-content;\n    padding-left: 16px;\n    margin-top: -20px;\n  }\n`;\n","import React from 'react';\nimport styled, { keyframes } from 'styled-components';\n\nimport arthLogo from '../../assets/icons/tokenSymbol/ARTH.svg';\n\ninterface IProps {\n  width?: string;\n  height?: string;\n}\n\nconst LoadingPage = (props: IProps) => {\n  return (\n    <MainDiv>\n      <ElementConatiner>\n        <LoadingIndicator />\n        <ArthLogo src={arthLogo} alt=\"ARTH\" />\n      </ElementConatiner>\n    </MainDiv>\n  );\n};\n\nconst rotate = keyframes`\n  0% {\n    transform: rotate(0deg) scale(1);\n  }\n\n  50% {\n    transform: rotate(180deg) scale(0.8);\n  }\n\n  100% {\n    transform: rotate(360deg) scale(1);\n  }\n`;\n\nconst plus = keyframes`\n  0% {\n    transform: scale(1);\n  }\n\n  50% {\n    transform: scale(0.8);\n  }\n  \n  100% {\n    transform: scale(1);\n  }\n`;\n\nconst MainDiv = styled.div`\n  position: absolute;\n  width: 100%;\n  height: 200px;\n  background: transparent;\n  z-index: 20;\n`;\n\nconst ElementConatiner = styled.div`\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n`;\n\nconst LoadingIndicator = styled.div`\n  width: 60px;\n  height: 60px;\n  border: 3px solid #fd5656;\n  border-left-color: transparent;\n  animation: ${rotate} 2s linear infinite;\n  border-radius: 50%;\n`;\n\nconst ArthLogo = styled.img`\n  width: 58px;\n  height: 58px;\n  animation: ${plus} 2s linear infinite;\n  position: absolute;\n  top: 0;\n`;\n\nexport default LoadingPage;\n","import { BigNumber } from 'ethers';\nimport { useCallback, useEffect, useState } from 'react';\nimport { useSelector } from 'react-redux';\n\nimport { AppState } from '../../../state';\nimport { useBlockNumber } from '../../../state/application/hooks';\nimport { useGetAccount, useGetChainId } from '../../../utils/NetworksCustomHooks';\nimport { troveDetails } from '../../../utils/tokenDetails';\nimport useCore from '../../useCore';\n\ntype Trove = {\n  troveDebt: BigNumber;\n  troveColl: BigNumber;\n  debt: BigNumber;\n  coll: BigNumber;\n  stake: BigNumber;\n  status: BigNumber | number;\n  arrayIndex: BigNumber;\n};\n\ntype State = {\n  isLoading: boolean;\n  value: Trove;\n};\n\nconst defaultTrove: Trove = {\n  debt: BigNumber.from(0),\n  troveColl: BigNumber.from(0),\n  troveDebt: BigNumber.from(0),\n  coll: BigNumber.from(0),\n  stake: BigNumber.from(0),\n  status: 0,\n  arrayIndex: BigNumber.from(0),\n};\n\nexport default (trove: string, ownerAddress: string) => {\n  const [value, setValue] = useState<State>({\n    isLoading: true,\n    value: defaultTrove,\n  });\n\n  const core = useCore();\n  const account = useGetAccount();\n\n  const blockNumber = useBlockNumber();\n  const activeChainId = useGetChainId();\n  const troveDetail = troveDetails(trove, activeChainId);\n\n  const hasPendingRewards = useSelector((state: AppState) => state.trove.hasPendingRewards);\n  const pendingETHReward = useSelector((state: AppState) => state.trove.pendingETHReward);\n  const pendingARTHDebtReward = useSelector(\n    (state: AppState) => state.trove.pendingARTHDebtReward,\n  );\n\n  const fetchValue = useCallback(async () => {\n    if (!account) {\n      setValue({ isLoading: false, value: defaultTrove });\n      return;\n    }\n\n    const contract = core.getTroveManager(troveDetail.contractPrefix, activeChainId);\n    let value = await contract.Troves(ownerAddress);\n    if (hasPendingRewards[troveDetail.depositToken] && ownerAddress === account) {\n      const pendingColl = pendingETHReward[troveDetail.depositToken] || BigNumber.from(0);\n      const pendingDebt = pendingARTHDebtReward[troveDetail.depositToken] || BigNumber.from(0);\n      value = {\n        arrayIndex: value.arrayIndex,\n        troveColl: value.coll,\n        troveDebt: value.debt,\n        coll: value.coll.add(pendingColl),\n        debt: value.debt.add(pendingDebt),\n        frontEndTag: value.frontEndTag,\n        stake: value.stake,\n        status: value.status,\n      };\n    } else {\n      value = {\n        arrayIndex: value.arrayIndex,\n        troveColl: value.coll,\n        troveDebt: value.debt,\n        coll: value.coll,\n        debt: value.debt,\n        frontEndTag: value.frontEndTag,\n        stake: value.stake,\n        status: value.status,\n      };\n    }\n\n    setValue({ isLoading: false, value: value });\n  }, [\n    account,\n    core,\n    troveDetail.contractPrefix,\n    troveDetail.depositToken,\n    activeChainId,\n    hasPendingRewards,\n    pendingETHReward,\n    pendingARTHDebtReward,\n    ownerAddress,\n  ]);\n\n  useEffect(() => {\n    setValue({ isLoading: true, value: defaultTrove });\n  }, [trove]);\n\n  useEffect(() => {\n    if (core.isUnlocked) {\n      fetchValue().catch((err) => {\n        window.history.back();\n        console.error(`Failed to fetch loan: ${err}`);\n      });\n    }\n  }, [\n    core.isUnlocked,\n    account,\n    core.myAccount,\n    blockNumber,\n    fetchValue,\n    activeChainId,\n    ownerAddress,\n  ]);\n\n  return value;\n};\n","import React from 'react';\n\nimport { Mixpanel } from '../../../analytics/Mixpanel';\nimport config from '../../../config';\nimport { useGetChainId } from '../../../utils/NetworksCustomHooks';\nimport theme from '../../index';\nimport { tracking_params } from '../Button';\nimport TextWrapper, { TextWrapperProps } from '../TextWrapper';\n\ninterface IProps {\n  onClick: () => void;\n  tracking_id?: string;\n  tracking_params?: tracking_params;\n  disabled?: boolean;\n}\n\nconst TextButton = (props: IProps & TextWrapperProps) => {\n  const { onClick, tracking_id, tracking_params = {}, disabled = false } = props;\n  const chainId = useGetChainId();\n\n  const trackMixpanel = () => {\n    const params = {\n      networkName: config[chainId]?.networkDisplayName || '',\n      ...tracking_params,\n    };\n\n    if (tracking_id) {\n      Mixpanel.track(`buttonClick:${tracking_id.toLowerCase()}`, params);\n    }\n  };\n\n  return (\n    <div\n      className={disabled ? 'not-allowed' : 'pointer'}\n      onClick={() => {\n        if (tracking_id) trackMixpanel();\n        if (onClick) onClick();\n      }}\n    >\n      <TextWrapper\n        Fcolor={disabled ? theme.color.transparent[200] : theme.color.primary[300]}\n        {...props}\n      />\n    </div>\n  );\n};\n\nexport default TextButton;\n","import { BigNumber } from 'ethers';\nimport React, { useMemo } from 'react';\n\nimport Grid from '@material-ui/core/Grid';\n\nimport useCloseTrove from '../../../hooks/callbacks/borrowerOperations/useCloseTrove';\nimport useApprove, { ApprovalState } from '../../../hooks/callbacks/useApprove';\nimport useTokenBalance from '../../../hooks/state/useTokenBalance';\nimport useCore from '../../../hooks/useCore';\nimport Button from '../../../theme/components/Button';\nimport InfoTip from '../../../theme/components/InfoTip';\nimport Modal from '../../../theme/components/Modal';\nimport TextWrapper from '../../../theme/components/TextWrapper';\nimport { useGetChainId } from '../../../utils/NetworksCustomHooks';\nimport { getDisplayBalance } from '../../../utils/formatBalance';\nimport { troveDetails } from '../../../utils/tokenDetails';\n\ninterface Iprops {\n  getTrove: any;\n  trove: string;\n  openModal: boolean;\n  onClose: () => void;\n  onSuccess: () => void;\n}\n\nconst ConfirmCloseLoanModal = (props: Iprops) => {\n  const { getTrove, openModal, onClose, onSuccess, trove } = props;\n\n  const core = useCore();\n  const activeChainId = useGetChainId();\n  const troveDetail = troveDetails(trove, activeChainId);\n  const arthBalance = useTokenBalance(core.tokens('ARTH', activeChainId));\n\n  const [arthApprovalStatus, approveARTH] = useApprove(\n    core.tokens('ARTH', activeChainId),\n    core.getController(troveDetail.contractPrefix, activeChainId)?.address || undefined,\n  );\n\n  const closeTrove = useCloseTrove(troveDetail.contractPrefix.toUpperCase());\n  const isARTHApproved = useMemo(() => arthApprovalStatus === ApprovalState.APPROVED, [\n    arthApprovalStatus,\n  ]);\n  const isARTHApproving = useMemo(() => arthApprovalStatus === ApprovalState.PENDING, [\n    arthApprovalStatus,\n  ]);\n\n  const balanceNeededAmount = useMemo(() => {\n    if (arthBalance.isLoading)\n      return { isLoading: true, value: BigNumber.from(0), amountNeededMore: BigNumber.from(0) };\n    if (getTrove.debt.lte(0))\n      return {\n        isLoading: false,\n        value: BigNumber.from(0),\n        amountNeededMore: BigNumber.from(0),\n      };\n\n    return {\n      isLoading: false,\n      value: getTrove.debt.sub(troveDetail.liquidationReserve),\n      amountNeededMore: arthBalance.value.lt(getTrove.debt.sub(troveDetail.liquidationReserve))\n        ? getTrove.debt.sub(troveDetail.liquidationReserve).sub(arthBalance.value)\n        : BigNumber.from(0),\n    };\n  }, [arthBalance.isLoading, arthBalance.value, getTrove.debt, troveDetail.liquidationReserve]);\n\n  const handleCloseTrove = () => {\n    closeTrove(() => {\n      onSuccess();\n      onClose();\n    });\n  };\n\n  return (\n    <Modal\n      title={'Confirm Close Loan'}\n      open={openModal}\n      handleClose={() => onClose()}\n      closeButton\n    >\n      <div>\n        <div className=\"single-line-center-between m-b-12\">\n          <TextWrapper text={'Your collateral amount'} fontWeight={600} Fcolor={'#FFFFFF88'} />\n          <div className=\"single-line-center-start\">\n            <TextWrapper\n              text={Number(getDisplayBalance(getTrove.coll, 18, 3)).toLocaleString()}\n              fontWeight={600}\n              Fcolor={'#FFFFFF88'}\n            />\n            <div className=\"tags m-l-4\">\n              <TextWrapper\n                text={troveDetail.depositToken.toUpperCase()}\n                fontSize={12}\n                Fcolor={'#FFFFFF88'}\n              />\n            </div>\n          </div>\n        </div>\n        <div className=\"single-line-center-between m-b-12\">\n          <TextWrapper text={'Your total debt amount'} fontWeight={600} Fcolor={'#FFFFFF88'} />\n          <div className=\"single-line-center-start\">\n            <TextWrapper\n              text={Number(getDisplayBalance(getTrove.debt, 18, 3)).toLocaleString()}\n              fontWeight={600}\n              Fcolor={'#FFFFFF88'}\n            />\n            <div className=\"tags m-l-4\">\n              <TextWrapper text={'ARTH'} fontSize={12} Fcolor={'#FFFFFF88'} />\n            </div>\n          </div>\n        </div>\n        <div className=\"single-line-center-between m-b-16\">\n          <div className=\"single-line-center-start\">\n            <TextWrapper text={'Liquidation Reserve'} fontWeight={600} Fcolor={'#FFFFFF88'} />\n          </div>\n          <div className=\"single-line-center-start\">\n            <TextWrapper\n              text={Number(\n                getDisplayBalance(troveDetail.liquidationReserve, 18, 3),\n              ).toLocaleString()}\n              fontWeight={600}\n              Fcolor={'#FFFFFF88'}\n            />\n            <div className=\"tags m-l-4\">\n              <TextWrapper text={'ARTH'} fontSize={12} Fcolor={'#FFFFFF88'} />\n            </div>\n          </div>\n        </div>\n        <div className=\"single-line-center-between m-b-12\">\n          <TextWrapper\n            text={'Your payable debt amount'}\n            fontWeight={600}\n            Fcolor={'#FFFFFF88'}\n          />\n          <div className=\"single-line-center-start\">\n            <TextWrapper\n              text={Number(\n                getDisplayBalance(getTrove.debt.sub(troveDetail.liquidationReserve), 18, 3),\n              ).toLocaleString()}\n              fontWeight={600}\n              Fcolor={'#FFFFFF88'}\n            />\n            <div className=\"tags m-l-4\">\n              <TextWrapper text={'ARTH'} fontSize={12} Fcolor={'#FFFFFF88'} />\n            </div>\n          </div>\n        </div>\n        <div className=\"custom-divider\" />\n        <div className=\"single-line-center-between m-b-12\">\n          <TextWrapper text={'You will receive'} fontWeight={600} Fcolor={'#FFFFFF88'} />\n          <div className=\"single-line-center-start\">\n            <TextWrapper\n              text={Number(getDisplayBalance(getTrove.coll, 18, 3)).toLocaleString()}\n              fontWeight={600}\n              Fcolor={'#FFFFFF88'}\n            />\n            <div className=\"tags m-l-4\">\n              <TextWrapper\n                text={troveDetail.depositToken.toUpperCase()}\n                fontSize={12}\n                Fcolor={'#FFFFFF88'}\n              />\n            </div>\n          </div>\n        </div>\n        <br />\n        {balanceNeededAmount.amountNeededMore.gt(0) && (\n          <>\n            <div className=\"m-b-24\">\n              <InfoTip\n                type={'Warning'}\n                msg={`You need at least ${Number(\n                  getDisplayBalance(balanceNeededAmount.value, 18, 3),\n                ).toLocaleString()} ARTH(${Number(\n                  getDisplayBalance(balanceNeededAmount.amountNeededMore, 18, 3),\n                ).toLocaleString()} ARTH more) to close your loan.`}\n              />\n            </div>\n            <br />\n          </>\n        )}\n        <Grid container spacing={2} className=\"m-b-32\">\n          <Grid item lg={6} md={6} sm={12} xs={12}>\n            <Button\n              variant={'transparent'}\n              onClick={() => onClose()}\n              tracking_id=\"close_loan\"\n              tracking_params={{\n                collateral: trove,\n                action: 'cancel',\n                amount: Number(getDisplayBalance(getTrove.coll, 18, 3)),\n                other: {\n                  debt: Number(getDisplayBalance(getTrove.debt, 18, 3)),\n                },\n              }}\n            >\n              Cancel\n            </Button>\n          </Grid>\n          <Grid item lg={6} md={6} sm={12} xs={12}>\n            {!isARTHApproved && activeChainId === 137 ? (\n              <Button\n                disabled={balanceNeededAmount.amountNeededMore.gt(0)}\n                loading={balanceNeededAmount.isLoading || isARTHApproving}\n                onClick={approveARTH}\n                tracking_id=\"approve_ARTH_close_loan\"\n                tracking_params={{\n                  collateral: trove,\n                }}\n              >\n                Approve ARTH\n              </Button>\n            ) : (\n              <Button\n                disabled={balanceNeededAmount.amountNeededMore.gt(0)}\n                loading={balanceNeededAmount.isLoading}\n                onClick={handleCloseTrove}\n                tracking_id=\"close_loan\"\n                tracking_params={{\n                  collateral: trove,\n                  action: 'confirm',\n                  amount: Number(getDisplayBalance(getTrove.coll, 18, 3)),\n                  other: {\n                    debt: Number(getDisplayBalance(getTrove.debt, 18, 3)),\n                  },\n                }}\n              >\n                Confirm Close Loan\n              </Button>\n            )}\n          </Grid>\n        </Grid>\n      </div>\n    </Modal>\n  );\n};\n\nexport default ConfirmCloseLoanModal;\n","import * as Sentry from '@sentry/react';\nimport { useCallback } from 'react';\n\nimport { useAddPopup } from '../../../state/application/hooks';\nimport { useTransactionAdder } from '../../../state/transactions/hooks';\nimport { useGetChainId } from '../../../utils/NetworksCustomHooks';\nimport formatErrorMessage from '../../../utils/formatErrorMessage';\nimport useCore from '../../useCore';\n\nexport default function (contractPrefix: string) {\n  const core = useCore();\n  const addPopup = useAddPopup();\n  const addTransaction = useTransactionAdder();\n  const chainId = useGetChainId();\n\n  return useCallback(\n    async (callback?: () => void): Promise<void> => {\n      try {\n        const contract = core.getBorrowerOperations(contractPrefix, chainId);\n\n        const gasLimit = await contract.estimateGas.closeTrove();\n        const response = await contract.closeTrove({ gasLimit });\n\n        addTransaction(response, {\n          summary: `Close Loan on ${contractPrefix.toUpperCase()}`,\n        });\n\n        if (response.status !== 1) {\n          Sentry.captureException({\n            name: 'useCloseTrove',\n            response,\n            contractPrefix,\n          });\n        }\n\n        if (callback) callback();\n      } catch (e) {\n        Sentry.captureException({\n          ...e,\n          name: 'useCloseTrove',\n        });\n        addPopup({\n          error: {\n            message: formatErrorMessage(e?.data?.message || e?.message),\n            stack: e?.stack,\n          },\n        });\n      }\n    },\n    [core, contractPrefix, chainId, addTransaction, addPopup],\n  );\n}\n","import { BigNumber } from 'ethers';\nimport React, { useMemo, useState } from 'react';\nimport Loader from 'react-spinners/BeatLoader';\nimport styled from 'styled-components';\n\nimport Grid from '@material-ui/core/Grid';\n\nimport config from '../../../config';\nimport useGetTrove from '../../../hooks/state/troveManager/useGetTrove';\nimport useCollateralPriceFeed from '../../../hooks/state/useCollateralPriceFeed';\nimport useTokenDecimals from '../../../hooks/useTokenDecimals';\nimport { DECIMALS_18 } from '../../../protocol/constants';\nimport theme from '../../../theme';\nimport Button from '../../../theme/components/Button';\nimport DataField from '../../../theme/components/DataField';\nimport IconLoader from '../../../theme/components/IconLoader';\nimport SuccessModal from '../../../theme/components/SuccesModal';\nimport TextButton from '../../../theme/components/TextButton';\nimport TextWrapper from '../../../theme/components/TextWrapper';\nimport ToolTip from '../../../theme/components/Tooltip';\nimport { useGetAccount, useGetChainId } from '../../../utils/NetworksCustomHooks';\nimport { formatToBN, getDisplayBalance } from '../../../utils/formatBalance';\nimport { troveDetails } from '../../../utils/tokenDetails';\nimport ConfirmCloseLoanModal from '../modal/ConfirmCloseLoanModal';\n\ninterface Iprops {\n  trove: string;\n  ownerAddress: string;\n  onModifyLoan: () => void;\n}\n\nconst OpenedLaon = (props: Iprops) => {\n  const { trove, onModifyLoan, ownerAddress } = props;\n  const [openConfirmationModal, setOpenConfirmationModal] = useState<boolean>(false);\n  const [closeLoanSuccessModal, setCloseLoanSuccessModal] = useState<boolean>(false);\n  const chainId = useGetChainId();\n  const account = useGetAccount();\n  const troveDetail = troveDetails(trove, chainId);\n  const collateralGMUPrice = useCollateralPriceFeed(\n    troveDetail.depositToken,\n    troveDetail.contractPrefix,\n  );\n  const getTrove = useGetTrove(troveDetail.contractPrefix, ownerAddress);\n  const arthUSDValue = {\n    isLoading: false,\n    value: formatToBN(2),\n  };\n\n  const depositTokenDecimals = useTokenDecimals(troveDetail.depositToken);\n\n  const collateralRatio = useMemo(() => {\n    if (collateralGMUPrice.isLoading) return { isLoading: true, value: BigNumber.from(0) };\n\n    const debtAmountBN = getTrove.value?.debt || BigNumber.from(0);\n    const collateralValueBN = getTrove.value?.coll || BigNumber.from(1);\n\n    if (debtAmountBN.lte(0)) return { isLoading: false, vaue: BigNumber.from(0) };\n    const ratio = collateralValueBN.mul(collateralGMUPrice.value).mul(100).div(debtAmountBN);\n\n    return {\n      isLoading: false,\n      value: ratio,\n    };\n  }, [getTrove, collateralGMUPrice]);\n\n  const liquidationPrice = useMemo(() => {\n    if (collateralGMUPrice.isLoading || getTrove.isLoading)\n      return { isLoading: true, value: BigNumber.from(0) };\n\n    const collateralAmountBN = BigNumber.from(getTrove.value.coll);\n    const liquidationCR = DECIMALS_18.mul(1099999).div(10000);\n\n    if (collateralGMUPrice.value.lte(0) || collateralAmountBN.lte(0))\n      return {\n        isLoading: false,\n        value: BigNumber.from(0),\n      };\n\n    return {\n      isLoading: false,\n      value: liquidationCR.mul(getTrove.value.debt).div(collateralAmountBN).div(100),\n    };\n  }, [\n    collateralGMUPrice.isLoading,\n    collateralGMUPrice.value,\n    getTrove.isLoading,\n    getTrove.value.coll,\n    getTrove.value.debt,\n  ]);\n\n  return (\n    <div>\n      <ConfirmCloseLoanModal\n        getTrove={getTrove.value}\n        trove={trove}\n        openModal={openConfirmationModal}\n        onClose={() => setOpenConfirmationModal(false)}\n        onSuccess={() => setCloseLoanSuccessModal(true)}\n      />\n      <div className={'custom-mahadao-container'}>\n        <div className={'custom-mahadao-container-content'}>\n          {ownerAddress !== account && (\n            <div className={'m-b-32'}>\n              <TextWrapper text={'Owner Address'} align={'center'} />\n              <TextButton\n                onClick={() =>\n                  window.open(`${config[chainId].etherscanUrl}/address/${ownerAddress}`)\n                }\n                text={`${ownerAddress}`}\n                align={'center'}\n              />\n            </div>\n          )}\n          <LaonInfoLine>\n            <div className=\"single-line-center-between\">\n              <div className=\"single-line-center-start\">\n                <TextWrapper text={'Total Collateral'} fontSize={18} Fcolor={'#FFFFFF88'} />\n              </div>\n              <div className=\"single-line-center-start\">\n                {getTrove.isLoading ? (\n                  <Loader color={'#ffffff'} loading={true} size={8} margin={2} />\n                ) : (\n                  <TextWrapper\n                    text={Number(\n                      getDisplayBalance(getTrove.value.coll, depositTokenDecimals, 3),\n                    ).toLocaleString()}\n                    fontSize={18}\n                    Fcolor={'#FFFFFF'}\n                    fontWeight={600}\n                  />\n                )}\n                <div className=\"tags m-l-4\">\n                  <TextWrapper\n                    text={troveDetail.depositToken.toUpperCase()}\n                    fontSize={18}\n                    Fcolor={'#FFFFFF88'}\n                    fontWeight={600}\n                  />\n                </div>\n              </div>\n            </div>\n          </LaonInfoLine>\n          <div className=\"text-center m-t-12 m-b-12\">\n            <IconLoader iconName={'ArrowTailDown'} iconType={'arrow'} />\n          </div>\n          <LaonInfoLine>\n            <div className=\"single-line-center-between\">\n              <div className=\"single-line-center-start\">\n                <TextWrapper text={'Total Debt'} fontSize={18} Fcolor={'#FFFFFF88'} />\n              </div>\n              <div className=\"single-line-center-start\">\n                {getTrove.isLoading ? (\n                  <Loader color={'#ffffff'} loading={true} size={8} margin={2} />\n                ) : (\n                  <TextWrapper\n                    text={Number(\n                      getDisplayBalance(getTrove.value.debt, 18, 3),\n                    ).toLocaleString()}\n                    fontSize={18}\n                    Fcolor={'#FFFFFF'}\n                    fontWeight={600}\n                  />\n                )}\n                <div className=\"tags m-l-4\">\n                  <TextWrapper\n                    text={'ARTH'}\n                    fontSize={18}\n                    Fcolor={'#FFFFFF88'}\n                    fontWeight={600}\n                  />\n                </div>\n              </div>\n            </div>\n          </LaonInfoLine>\n          <div className=\"m-t-20\">\n            <div className=\"single-line-center-between m-b-8\">\n              <div className=\"single-line-center-start\">\n                <TextWrapper text={'Collateral Ratio'} fontSize={12} />\n                <ToolTip\n                  toolTipText={\n                    'The ratio between the ARTH value of the collateral and the debt (in ARTH) you are depositing. While the Minimum Collateral Ratio is 110% during normal operation, it is recommended to keep the Collateral Ratio always above 150% to avoid liquidation under Recovery Mode. A Collateral Ratio above 200% or 250% is recommended for additional safety.'\n                  }\n                />\n              </div>\n              <div className=\"single-line-center-start\">\n                {collateralRatio.isLoading ? (\n                  <Loader color={'#ffffff'} loading={true} size={8} margin={2} />\n                ) : (\n                  <TextWrapper\n                    text={\n                      Number(getDisplayBalance(collateralRatio.value, 18, 3)).toLocaleString() +\n                      '%'\n                    }\n                    fontSize={12}\n                    Fcolor={theme.color.green[300]}\n                  />\n                )}\n              </div>\n            </div>\n            <div className=\"single-line-center-between m-b-8\">\n              <div className=\"single-line-center-start\">\n                <TextWrapper text={'Liquidation Reserve'} fontSize={12} />\n                <ToolTip\n                  toolTipText={\n                    'An amount set aside to cover the liquidators gas costs if your loan needs to be liquidated. The amount increases your debt and is refunded if you close your loan by fully paying off its net debt.'\n                  }\n                />\n              </div>\n              <div className=\"single-line-center-start\">\n                <TextWrapper\n                  text={\n                    Number(\n                      getDisplayBalance(troveDetail.liquidationReserve, 18, 3),\n                    ).toLocaleString() + ' ARTH'\n                  }\n                  fontSize={12}\n                  Fcolor={theme.color.green[300]}\n                />\n              </div>\n            </div>\n            <DataField\n              label={'Liquidation Price'}\n              isValueLoading={liquidationPrice.isLoading}\n              value={`${Number(\n                getDisplayBalance(liquidationPrice.value.mul(arthUSDValue.value), 18 * 2, 3),\n              ).toLocaleString()} USD/${troveDetail.depositToken.toUpperCase()}`}\n              labelFontColor={'white'}\n              labelFontSize={12}\n              valueFontSize={12}\n              valueFontColor={theme.color.green[300]}\n            />\n          </div>\n          {ownerAddress === account && (\n            <div className={'m-t-32'}>\n              <Grid container spacing={2}>\n                <Grid item lg={6} md={6} sm={12} xs={12}>\n                  <Button\n                    onClick={() => setOpenConfirmationModal(true)}\n                    tracking_id=\"close_loan\"\n                    tracking_params={{\n                      collateral: trove,\n                      action: 'initial',\n                      amount: Number(getDisplayBalance(getTrove.value.coll, 18, 3)),\n                      other: {\n                        debt: Number(getDisplayBalance(getTrove.value.debt, 18, 3)),\n                      },\n                    }}\n                    disabled={getTrove.value.coll.lte(0) || getTrove.value.debt.lte(0)}\n                  >\n                    Close Loan\n                  </Button>\n                </Grid>\n                <Grid item lg={6} md={6} sm={12} xs={12}>\n                  <Button\n                    onClick={() => onModifyLoan()}\n                    tracking_id=\"modify_loan\"\n                    tracking_params={{ collateral: trove }}\n                    disabled={getTrove.value.coll.lte(0) || getTrove.value.debt.lte(0)}\n                  >\n                    Modify Loan\n                  </Button>\n                </Grid>\n              </Grid>\n            </div>\n          )}\n        </div>\n      </div>\n\n      <SuccessModal\n        modalOpen={closeLoanSuccessModal}\n        setModalOpen={() => {\n          window.location.href = '/#/loans/overview';\n          setCloseLoanSuccessModal(false);\n        }}\n        title={'Your transaction is being mined on blockchain'}\n        buttonText={'Close'}\n      />\n    </div>\n  );\n};\n\nexport default OpenedLaon;\n\nconst LaonInfoLine = styled.div`\n  background: rgba(255, 255, 255, 0.08);\n  border-radius: 6px;\n  padding: 14px 12px;\n`;\n","import React, { useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\n\nimport Grid from '@material-ui/core/Grid';\n\nimport LoadingPage from '../../components/LoadingPage';\nimport useGetTrove from '../../hooks/state/troveManager/useGetTrove';\nimport InfoTip from '../../theme/components/InfoTip';\nimport PageHeader from '../../theme/components/PageHeader';\nimport TextWrapper from '../../theme/components/TextWrapper';\nimport { useGetChainId } from '../../utils/NetworksCustomHooks';\nimport { troveDetails } from '../../utils/tokenDetails';\n\nimport OpenedLaon from './component/OpenedLoan';\n\n\nconst LoanDetails = () => {\n  // @ts-ignore\n  const { trove, ownerAddress } = useParams();\n  const chainId = useGetChainId();\n  const troveDetail = troveDetails(trove, chainId);\n  const getTrove = useGetTrove(troveDetail.contractPrefix, ownerAddress);\n\n  useEffect(() => {\n    //ToDo: if the owner address is a valid address\n  }, [ownerAddress]);\n\n  if (getTrove.isLoading) {\n    return (\n      <div style={{ position: 'relative', height: 'calc(100vh - 100px)' }}>\n        <LoadingPage />\n      </div>\n    );\n  }\n\n  if (getTrove.value.stake.lte(0)) {\n    window.location.href = '/#/loans/your-loans';\n    return (\n      <div className=\"m-t-40 m-b-40 material-primary\">\n        <TextWrapper\n          text={`You dont have any loan open for ${trove}`}\n          fontSize={24}\n          fontWeight={'bold'}\n          className=\"m-b-8\"\n          align=\"center\"\n        />\n        <TextWrapper\n          text={'Open Interest free loan with leveraged position from the leverage strategies'}\n          fontSize={18}\n          className=\"m-b-8\"\n          Fcolor={'#FFFFFF64'}\n          align={'center'}\n        />\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"custom-container\">\n      <PageHeader\n        title={`${trove.toUpperCase()} LOAN`}\n        subTitle={`Borrow ARTH at 0% interest with ${trove.toUpperCase()} as collateral.`}\n        showLearnMore={true}\n        learnMoreLink={'https://docs.arth.loans/protocol/introduction-arth-loans'}\n      />\n      <Grid container style={{ marginTop: '24px' }} spacing={2}>\n        <Grid item lg={6} md={6} sm={12} xs={12}>\n          <div className={'m-b-24'}>\n            <InfoTip\n              type={'Info'}\n              msg={\n                <div>\n                  <b>You have Minted ARTH, get special access to our Discord </b> <br />\n                  Users who mint arth will get special roles in our discord that give you access\n                  to exclusive channels. Visit\n                  <a\n                    target=\"_blank\"\n                    rel=\"noopener noreferrer\"\n                    href=\"https://guild.xyz/mahadao\"\n                    className={'links bold'}\n                  >\n                    &nbsp; Guild.xyz\n                  </a>{' '}\n                  to learn more.\n                </div>\n              }\n            />\n          </div>\n          <OpenedLaon\n            trove={trove}\n            ownerAddress={ownerAddress}\n            onModifyLoan={() => {\n              window.open(`/#/loan/modify/${trove}`, '_self');\n            }}\n          />\n        </Grid>\n        <Grid item lg={6} md={6} sm={12} xs={12}>\n          {/* <OpenLoanDesc /> */}\n          {/*<LoanInfo trove={trove} />*/}\n        </Grid>\n      </Grid>\n    </div>\n  );\n};\n\nexport default LoanDetails;\n","import { BigNumber } from '@ethersproject/bignumber';\nimport React, { useState } from 'react';\nimport styled from 'styled-components';\n\nimport Grid from '@material-ui/core/Grid';\n\nimport useDepositWETH from '../../hooks/callbacks/useDepositWETH';\nimport useCore from '../../hooks/useCore';\nimport { BNZERO } from '../../protocol/constants';\nimport Button from '../../theme/components/Button';\nimport Modal from '../../theme/components/Modal';\nimport { useGetChainId } from '../../utils/NetworksCustomHooks';\nimport { getDisplayBalance } from '../../utils/formatBalance';\nimport CustomInputContainer from '../CustomInputContainer';\nimport { ValidateNumber } from '../CustomInputContainer/RegexValidation';\n\ninterface IProps {\n  onCancel: () => void;\n  onDeposit?: () => void;\n}\n\n// eslint-disable-next-line import/no-anonymous-default-export\nexport default (props: IProps) => {\n  const [val, setValue] = useState<string>('0');\n  const core = useCore();\n\n  const activeChainId = useGetChainId();\n  const [isInputFieldError, setIsInputFieldError] = useState<boolean>(false);\n\n  //ToDo: Get balance here\n  const balance = BNZERO;\n  // @ts-ignore\n  const symbol: string = core.config('blockchainToken', activeChainId); // Change this for the collateral.\n\n  const decimals = BigNumber.from(10).pow(18);\n  const desposit = useDepositWETH(\n    symbol,\n    BigNumber.from(Number(val) * 1000)\n      .mul(decimals)\n      .div(1000),\n  );\n\n  return (\n    <Modal\n      closeButton\n      handleClose={props.onCancel}\n      open={true}\n      modalTitleStyle={{}}\n      modalContainerStyle={{}}\n      modalBodyStyle={{}}\n      title={`Wrap your tokens`}\n    >\n      <div>\n        <CustomInputContainer\n          ILabelValue={`${symbol} to convert`}\n          IBalanceValue={getDisplayBalance(BigNumber.from(balance), 18)}\n          showBalance={false}\n          ILabelInfoValue={''}\n          DefaultValue={String(val)}\n          LogoSymbol={symbol}\n          hasDropDown={false}\n          SymbolText={symbol}\n          setText={(t) => {\n            setValue(ValidateNumber(t) ? t : '0');\n          }}\n          inputMode={'decimal'}\n          tagText={'MAX'}\n          dontShowBackgroundContainer={true}\n          multiIcons={false}\n          errorCallback={(flag: boolean) => {\n            setIsInputFieldError(flag);\n          }}\n        />\n        <OneLine>\n          <div style={{ flex: 1 }} />\n          <OneLine>\n            <BeforeChip>Balance: {getDisplayBalance(BigNumber.from(balance), 18)}</BeforeChip>\n            <TagChips>{symbol}</TagChips>\n          </OneLine>\n        </OneLine>\n\n        <Grid container spacing={2} style={{ marginTop: '32px' }}>\n          <Grid item lg={6} md={6} sm={12} xs={12}>\n            <Button\n              variant={'transparent'}\n              text=\"Cancel\"\n              size={'lg'}\n              onClick={props.onCancel}\n              tracking_id={'convert_token'}\n              tracking_params={{ collateral: 'ETH', action: 'cancel' }}\n            />\n          </Grid>\n          <Grid item lg={6} md={6} sm={12} xs={12}>\n            <Button\n              loading={false}\n              text={'Deposit'}\n              size={'lg'}\n              onClick={() => desposit()}\n              disabled={isInputFieldError || Number(val) <= 0}\n              tracking_id={'convert_token'}\n              tracking_params={{ collateral: 'ETH', action: 'confirm', amount: Number(val) }}\n            />\n          </Grid>\n        </Grid>\n      </div>\n    </Modal>\n  );\n};\n\nconst OneLine = styled.div`\n  display: flex;\n  flex-direction: row;\n  align-items: baseline;\n  justify-content: flex-start;\n  margin: 5px 0;\n`;\n\nconst BeforeChip = styled.span`\n  font-style: normal;\n  font-weight: 600;\n  font-size: 12px;\n  line-height: 150%;\n  letter-spacing: 0.08em;\n  text-transform: uppercase;\n  color: rgba(255, 255, 255, 0.64);\n  margin-right: 5px;\n`;\n\nconst TagChips = styled.div`\n  background: rgba(255, 255, 255, 0.08);\n  border-radius: 4px;\n  padding: 2px 8px;\n  font-style: normal;\n  font-weight: 300;\n  font-size: 12px;\n  color: rgba(255, 255, 255, 0.64);\n`;\n","import { BigNumber } from \"ethers\";\nimport { useCallback } from \"react\";\n\n\n\nimport { useAddPopup } from \"../../state/application/hooks\";\nimport { useTransactionAdder } from \"../../state/transactions/hooks\";\nimport { useGetChainId } from \"../../utils/NetworksCustomHooks\";\nimport { getDisplayBalance } from \"../../utils/formatBalance\";\nimport formatErrorMessage from \"../../utils/formatErrorMessage\";\nimport useCore from \"../useCore\";\n\n\n// eslint-disable-next-line import/no-anonymous-default-export\nexport default function (symbol: string, amount: BigNumber) {\n  const core = useCore();\n  const addPopup = useAddPopup();\n  const addTransaction = useTransactionAdder();\n  const chainId = useGetChainId();\n\n  const action = useCallback(\n    async (callback?: () => void): Promise<void> => {\n      const weth = core.contracts('WETH_WRAPPER', chainId);\n\n      try {\n        const response = await weth.deposit({ value: amount });\n\n        addTransaction(response, {\n          summary: `Wrap ${Number(\n            getDisplayBalance(amount, 18, 3),\n          ).toLocaleString()} ${symbol}`,\n        });\n\n        if (callback) callback();\n      } catch (e) {\n        addPopup({\n          error: {\n            message: formatErrorMessage(e?.data?.message || e?.message),\n            stack: e?.stack,\n          },\n        });\n      }\n    },\n    [core, chainId, amount, addTransaction, symbol, addPopup],\n  );\n\n  return action;\n}\n","import { BigNumber } from 'ethers';\nimport React from 'react';\n\nimport Grid from '@material-ui/core/Grid';\n\nimport useAddColl from '../../../hooks/callbacks/borrowerOperations/useAddColl';\nimport Button from '../../../theme/components/Button';\nimport Modal from '../../../theme/components/Modal';\nimport TextWrapper from '../../../theme/components/TextWrapper';\nimport { useGetChainId } from '../../../utils/NetworksCustomHooks';\nimport { getDisplayBalance } from '../../../utils/formatBalance';\nimport { troveDetails } from '../../../utils/tokenDetails';\n\ninterface Iprops {\n  trove: string;\n  addedValue: BigNumber;\n  troveCollateral: BigNumber;\n  openModal: boolean;\n  cr: BigNumber;\n  newCR: BigNumber;\n  debtAmount: BigNumber;\n  onClose: () => void;\n  onSuccess: () => void;\n}\n\nconst ConfirmAddCollateral = (props: Iprops) => {\n  const {\n    openModal,\n    onClose,\n    addedValue,\n    trove,\n    troveCollateral,\n    debtAmount,\n    cr,\n    newCR,\n    onSuccess,\n  } = props;\n\n  const activeChainId = useGetChainId();\n  const troveDetail = troveDetails(trove, activeChainId);\n\n  const addColl = useAddColl(\n    troveDetail.contractPrefix,\n    addedValue,\n    debtAmount,\n    troveCollateral.add(addedValue),\n  );\n\n  const handleAddColl = () => {\n    addColl(() => {\n      onSuccess();\n      onClose();\n    });\n  };\n\n  return (\n    <>\n      <Modal\n        title={'Confirm Add Collateral'}\n        open={openModal}\n        handleClose={() => onClose()}\n        closeButton\n      >\n        <div>\n          <div className=\"single-line-center-between m-b-12\">\n            <TextWrapper\n              text={'New added Collateral amount'}\n              fontWeight={600}\n              Fcolor={'#FFFFFF88'}\n            />\n            <div className=\"single-line-center-between\">\n              <TextWrapper\n                text={Number(getDisplayBalance(addedValue, 18, 3)).toLocaleString()}\n                fontWeight={600}\n              />\n              <div className=\"tags m-l-4\">\n                <TextWrapper\n                  text={troveDetail.depositToken.toUpperCase()}\n                  fontSize={12}\n                  Fcolor={'#FFFFFF88'}\n                />\n              </div>\n            </div>\n          </div>\n          <div className=\"single-line-center-between m-b-12\">\n            <TextWrapper\n              text={'Current Collateral amount'}\n              fontWeight={600}\n              Fcolor={'#FFFFFF88'}\n            />\n            <div className=\"single-line-center-between\">\n              <TextWrapper\n                text={Number(getDisplayBalance(troveCollateral, 18, 3)).toLocaleString()}\n                fontWeight={600}\n              />\n              <div className=\"tags m-l-4\">\n                <TextWrapper\n                  text={troveDetail.depositToken.toUpperCase()}\n                  fontSize={12}\n                  Fcolor={'#FFFFFF88'}\n                />\n              </div>\n            </div>\n          </div>\n          <div className=\"single-line-center-between m-b-12\">\n            <TextWrapper text={'New Collateral amount'} fontWeight={600} Fcolor={'#FFFFFF88'} />\n            <div className=\"single-line-center-between\">\n              <TextWrapper\n                text={Number(\n                  getDisplayBalance(troveCollateral.add(addedValue), 18, 3),\n                ).toLocaleString()}\n                fontWeight={600}\n              />\n              <div className=\"tags m-l-4\">\n                <TextWrapper\n                  text={troveDetail.depositToken.toUpperCase()}\n                  fontSize={12}\n                  Fcolor={'#FFFFFF88'}\n                />\n              </div>\n            </div>\n          </div>\n          <div className=\"single-line-center-between m-b-12\">\n            <TextWrapper\n              text={'Current Collateral Ratio'}\n              fontWeight={600}\n              Fcolor={'#FFFFFF88'}\n            />\n            <div className=\"single-line-center-between\">\n              <TextWrapper\n                text={`${Number(getDisplayBalance(cr, 18, 3)).toLocaleString()} %`}\n                fontWeight={600}\n              />\n            </div>\n          </div>\n          <div className=\"single-line-center-between m-b-32\">\n            <TextWrapper text={'New Collateral Ratio'} fontWeight={600} Fcolor={'#FFFFFF88'} />\n            <div className=\"single-line-center-between\">\n              <TextWrapper\n                text={`${Number(getDisplayBalance(newCR, 18, 3)).toLocaleString()} %`}\n                fontWeight={600}\n              />\n            </div>\n          </div>\n          <Grid container spacing={2} className={'m-t-32'}>\n            <Grid item lg={6} md={6} sm={12} xs={12}>\n              <Button\n                variant={'transparent'}\n                onClick={() => onClose()}\n                tracking_id=\"modify_loan_add_collateral\"\n                tracking_params={{\n                  action: 'cancel',\n                  collateral: trove,\n                  amount: Number(getDisplayBalance(addedValue, 18, 3)),\n                }}\n              >\n                Cancel\n              </Button>\n            </Grid>\n            <Grid item lg={6} md={6} sm={12} xs={12}>\n              <Button\n                onClick={handleAddColl}\n                tracking_id=\"modify_loan_add_collateral\"\n                tracking_params={{\n                  action: 'confirm',\n                  collateral: trove,\n                  amount: Number(getDisplayBalance(addedValue, 18, 3)),\n                }}\n              >\n                Confirm Add Collateral\n              </Button>\n            </Grid>\n          </Grid>\n        </div>\n      </Modal>\n    </>\n  );\n};\n\nexport default ConfirmAddCollateral;\n","import * as Sentry from '@sentry/react';\nimport { BigNumber } from 'ethers';\nimport Numeral from 'numeral';\nimport { useCallback } from 'react';\n\nimport { DECIMALS_18 } from '../../../protocol/constants';\nimport { useAddPopup } from '../../../state/application/hooks';\nimport { useTransactionAdder } from '../../../state/transactions/hooks';\nimport { useGetChainId } from '../../../utils/NetworksCustomHooks';\nimport { getDisplayBalance } from '../../../utils/formatBalance';\nimport formatErrorMessage from '../../../utils/formatErrorMessage';\nimport { findHintsForNominalCollateralRatio } from '../../state/hinthelpers/helper';\nimport useCore from '../../useCore';\n\nexport default function (\n  contractPrefix: string,\n  addCollAmount: BigNumber, // Collateral to add in trove.\n  debtAmount: BigNumber, // Total debt after the modification.\n  collateralAmount: BigNumber, // Total collateral after the modification.\n) {\n  const core = useCore();\n  const addPopup = useAddPopup();\n  const activeChainId = useGetChainId();\n  const addTransaction = useTransactionAdder();\n\n  return useCallback(\n    async (callback?: () => void): Promise<void> => {\n      try {\n        const contract = core.getBorrowerOperations(contractPrefix, activeChainId);\n\n        const [\n          partialRedemptionUpperHint,\n          partialRedemptionLowerHint,\n        ]: string[] = await findHintsForNominalCollateralRatio(\n          collateralAmount.mul(DECIMALS_18.mul(100)).div(debtAmount),\n          core.getSortedTroves(contractPrefix, activeChainId),\n          core.getHintHelper(contractPrefix, activeChainId),\n          core.getTroveManager(contractPrefix, activeChainId),\n          core.myAccount,\n        );\n\n        const gasLimit = (\n          await contract.estimateGas.addColl(\n            partialRedemptionUpperHint,\n            partialRedemptionLowerHint,\n            { value: addCollAmount },\n          )\n        )\n          .mul(120)\n          .div(100);\n\n        const response = await contract.addColl(\n          partialRedemptionUpperHint,\n          partialRedemptionLowerHint,\n          { value: addCollAmount, gasLimit },\n        );\n\n        addTransaction(response, {\n          summary: `Add ${Numeral(getDisplayBalance(addCollAmount, 18, 3)).format(\n            '0,0.00a',\n          )} ${contractPrefix.toUpperCase()} to Loan.`,\n        });\n\n        if (response.status !== 1) {\n          Sentry.captureException({\n            name: 'useAddColl',\n            response,\n            contractPrefix,\n            addCollAmount,\n            debtAmount,\n            collateralAmount,\n          });\n        }\n\n        if (callback) callback();\n      } catch (e) {\n        Sentry.captureException({\n          ...e,\n          name: 'useAddColl',\n        });\n        addPopup({\n          error: {\n            message: formatErrorMessage(e?.data?.message || e?.message),\n            stack: e?.stack,\n          },\n        });\n      }\n    },\n    [\n      contractPrefix,\n      core,\n      addTransaction,\n      addPopup,\n      addCollAmount,\n      debtAmount,\n      collateralAmount,\n      activeChainId,\n    ],\n  );\n}\n","import { BigNumber } from 'ethers';\nimport React from 'react';\n\nimport Grid from '@material-ui/core/Grid';\n\nimport useWithdrawColl from '../../../hooks/callbacks/borrowerOperations/useWithdrawColl';\nimport Button from '../../../theme/components/Button';\nimport Modal from '../../../theme/components/Modal';\nimport TextWrapper from '../../../theme/components/TextWrapper';\nimport { useGetChainId } from '../../../utils/NetworksCustomHooks';\nimport { getDisplayBalance } from '../../../utils/formatBalance';\nimport { troveDetails } from '../../../utils/tokenDetails';\n\ninterface Iprops {\n  trove: string;\n  addedValue: BigNumber;\n  troveCollateral: BigNumber;\n  openModal: boolean;\n  cr: BigNumber;\n  newCR: BigNumber;\n  debtAmount: BigNumber;\n  onClose: () => void;\n  onSuccess: () => void;\n}\n\nconst ConfirmRemoveCollateral = (props: Iprops) => {\n  const {\n    openModal,\n    onClose,\n    addedValue,\n    trove,\n    troveCollateral,\n    debtAmount,\n    cr,\n    newCR,\n    onSuccess,\n  } = props;\n\n  const activeChainId = useGetChainId();\n  const troveDetail = troveDetails(trove, activeChainId);\n\n  const withdrawColl = useWithdrawColl(\n    troveDetail.contractPrefix,\n    addedValue,\n    debtAmount,\n    troveCollateral.sub(addedValue),\n  );\n\n  const handleWithdrawColl = () => {\n    withdrawColl(() => {\n      onSuccess();\n      onClose();\n    });\n  };\n\n  return (\n    <>\n      <Modal\n        title={'Confirm Remove Collateral'}\n        open={openModal}\n        handleClose={() => onClose()}\n        closeButton\n      >\n        <div>\n          <div className=\"single-line-center-between m-b-12\">\n            <TextWrapper\n              text={'Withdrawing Collateral amount'}\n              fontWeight={600}\n              Fcolor={'#FFFFFF88'}\n            />\n            <div className=\"single-line-center-between\">\n              <TextWrapper\n                text={Number(getDisplayBalance(addedValue, 18, 3)).toLocaleString()}\n                fontWeight={600}\n              />\n              <div className=\"tags m-l-4\">\n                <TextWrapper\n                  text={troveDetail.depositToken.toUpperCase()}\n                  fontSize={12}\n                  Fcolor={'#FFFFFF88'}\n                />\n              </div>\n            </div>\n          </div>\n          <div className=\"single-line-center-between m-b-12\">\n            <TextWrapper\n              text={'Current Collateral amount'}\n              fontWeight={600}\n              Fcolor={'#FFFFFF88'}\n            />\n            <div className=\"single-line-center-between\">\n              <TextWrapper\n                text={Number(getDisplayBalance(troveCollateral, 18, 3)).toLocaleString()}\n                fontWeight={600}\n              />\n              <div className=\"tags m-l-4\">\n                <TextWrapper\n                  text={troveDetail.depositToken.toUpperCase()}\n                  fontSize={12}\n                  Fcolor={'#FFFFFF88'}\n                />\n              </div>\n            </div>\n          </div>\n          <div className=\"single-line-center-between m-b-12\">\n            <TextWrapper text={'New Collateral amount'} fontWeight={600} Fcolor={'#FFFFFF88'} />\n            <div className=\"single-line-center-between\">\n              <TextWrapper\n                text={Number(\n                  getDisplayBalance(troveCollateral.sub(addedValue), 18, 3),\n                ).toLocaleString()}\n                fontWeight={600}\n              />\n              <div className=\"tags m-l-4\">\n                <TextWrapper\n                  text={troveDetail.depositToken.toUpperCase()}\n                  fontSize={12}\n                  Fcolor={'#FFFFFF88'}\n                />\n              </div>\n            </div>\n          </div>\n          <div className=\"single-line-center-between m-b-12\">\n            <TextWrapper\n              text={'Current Collateral Ratio'}\n              fontWeight={600}\n              Fcolor={'#FFFFFF88'}\n            />\n            <div className=\"single-line-center-between\">\n              <TextWrapper\n                text={`${Number(getDisplayBalance(cr, 18, 3)).toLocaleString()} %`}\n                fontWeight={600}\n              />\n            </div>\n          </div>\n          <div className=\"single-line-center-between m-b-32\">\n            <TextWrapper text={'New Collateral Ratio'} fontWeight={600} Fcolor={'#FFFFFF88'} />\n            <div className=\"single-line-center-between\">\n              <TextWrapper\n                text={`${Number(getDisplayBalance(newCR, 18, 3)).toLocaleString()} %`}\n                fontWeight={600}\n              />\n            </div>\n          </div>\n          <Grid container spacing={2} className={'m-t-32'}>\n            <Grid item lg={6} md={6} sm={12} xs={12}>\n              <Button\n                variant={'transparent'}\n                onClick={() => onClose()}\n                tracking_id=\"modify_loan_withdraw_collateral\"\n                tracking_params={{\n                  action: 'confirm',\n                  collateral: trove,\n                  amount: Number(getDisplayBalance(addedValue, 18, 3)),\n                }}\n              >\n                Cancel\n              </Button>\n            </Grid>\n            <Grid item lg={6} md={6} sm={12} xs={12}>\n              <Button\n                onClick={handleWithdrawColl}\n                tracking_id=\"modify_loan_withdraw_collateral\"\n                tracking_params={{\n                  action: 'confirm',\n                  collateral: trove,\n                  amount: Number(getDisplayBalance(addedValue, 18, 3)),\n                }}\n              >\n                Confirm Remove Collateral\n              </Button>\n            </Grid>\n          </Grid>\n        </div>\n      </Modal>\n    </>\n  );\n};\n\nexport default ConfirmRemoveCollateral;\n","import * as Sentry from '@sentry/react';\nimport { BigNumber } from 'ethers';\nimport { useCallback } from 'react';\n\nimport { DECIMALS_18 } from '../../../protocol/constants';\nimport { useAddPopup } from '../../../state/application/hooks';\nimport { useTransactionAdder } from '../../../state/transactions/hooks';\nimport { useGetChainId } from '../../../utils/NetworksCustomHooks';\nimport { getDisplayBalance } from '../../../utils/formatBalance';\nimport formatErrorMessage from '../../../utils/formatErrorMessage';\nimport { findHintsForNominalCollateralRatio } from '../../state/hinthelpers/helper';\nimport useCore from '../../useCore';\n\nexport default function (\n  contractPrefix: string,\n  withdrawCollAmount: BigNumber,\n  debtAmount: BigNumber, // Total debt after the modification.\n  collateralAmount: BigNumber, // Total collateral after the modification.\n) {\n  const core = useCore();\n  const addPopup = useAddPopup();\n  const addTransaction = useTransactionAdder();\n  const activeChainId = useGetChainId();\n\n  return useCallback(\n    async (callback?: () => void): Promise<void> => {\n      try {\n        const contract = core.getBorrowerOperations(contractPrefix, activeChainId);\n\n        const [\n          partialRedemptionUpperHint,\n          partialRedemptionLowerHint,\n        ]: string[] = await findHintsForNominalCollateralRatio(\n          collateralAmount.mul(DECIMALS_18.mul(100)).div(debtAmount),\n          core.getSortedTroves(contractPrefix, activeChainId),\n          core.getHintHelper(contractPrefix, activeChainId),\n          core.getTroveManager(contractPrefix, activeChainId),\n          core.myAccount,\n        );\n\n        const gasLimit = (\n          await contract.estimateGas.withdrawColl(\n            withdrawCollAmount,\n            partialRedemptionUpperHint,\n            partialRedemptionLowerHint,\n          )\n        )\n          .mul(120)\n          .div(100);\n\n        const response = await contract.withdrawColl(\n          withdrawCollAmount,\n          partialRedemptionUpperHint,\n          partialRedemptionLowerHint,\n          { gasLimit },\n        );\n\n        addTransaction(response, {\n          summary: `Withdraw ${Number(\n            getDisplayBalance(withdrawCollAmount, 18, 3),\n          ).toLocaleString()} ${contractPrefix.toUpperCase()} from Loan.`,\n        });\n\n        if (response.status !== 1) {\n          Sentry.captureException({\n            name: 'useWithdrawColl',\n            response,\n            withdrawCollAmount,\n            debtAmount,\n            collateralAmount,\n          });\n        }\n\n        if (callback) callback();\n      } catch (e) {\n        Sentry.captureException({\n          name: 'useWithdrawColl',\n          ...e,\n        });\n        addPopup({\n          error: {\n            message: formatErrorMessage(e?.data?.message || e?.message),\n            stack: e?.stack,\n          },\n        });\n      }\n    },\n    [\n      contractPrefix,\n      core,\n      addTransaction,\n      addPopup,\n      withdrawCollAmount,\n      debtAmount,\n      collateralAmount,\n      activeChainId,\n    ],\n  );\n}\n","import { BigNumber } from 'ethers';\nimport { parseUnits } from 'ethers/lib/utils';\nimport React, { useMemo, useState } from 'react';\nimport Loader from 'react-spinners/BeatLoader';\n\nimport CustomInputContainer from '../../components/CustomInputContainer';\nimport { ValidateNumber } from '../../components/CustomInputContainer/RegexValidation';\nimport DepositModal from '../../components/DepositModal';\nimport useGetIsRecoveryMode from '../../hooks/state/troveManager/useGetIsRecoveryMode';\nimport useGetTrove from '../../hooks/state/troveManager/useGetTrove';\nimport useCollateralPriceFeed from '../../hooks/state/useCollateralPriceFeed';\nimport useGetNativeTokenBalance from '../../hooks/state/useGetNativeTokenBalance';\nimport { BNZERO, DECIMALS_18 } from '../../protocol/constants';\nimport theme from '../../theme';\nimport Button from '../../theme/components/Button';\nimport InfoTip from '../../theme/components/InfoTip';\nimport SuccessModal from '../../theme/components/SuccesModal';\nimport TextWrapper from '../../theme/components/TextWrapper';\nimport ToolTip from '../../theme/components/Tooltip';\nimport { useGetAccount, useGetChainId } from '../../utils/NetworksCustomHooks';\nimport { crParameters, getDisplaycrParameters } from '../../utils/crParameters';\nimport { formatToBN, getDisplayBalance } from '../../utils/formatBalance';\nimport { troveDetails } from '../../utils/tokenDetails';\n\nimport ConfirmAddCollateral from './modal/ConfirmAddCollateral';\nimport ConfirmRemoveCollateral from './modal/ConfirmRemoveCollateral';\n\ninterface Iprops {\n  trove: string;\n}\n\nconst CollateralModifyLoan = (props: Iprops) => {\n  const { trove } = props;\n\n  const [depositModal, setdepositModal] = useState<boolean>(false);\n  const [addCollateralValue, setAddCollateralValue] = useState<string>('0');\n  const [isInputFieldError, setIsInputFieldError] = useState<boolean>(false);\n  const [withdrawCollateralValue, setWithdrawCollateralValue] = useState<string>('0');\n  const [openAddConfirmationModal, setOpenAddConfirmationModal] = useState<boolean>(false);\n  const [isWithdrawInputFieldError, setWithdrawIsInputFieldError] = useState<boolean>(false);\n  const [openRemoveConfirmationModal, setOpenRemoveConfirmationModal] = useState<boolean>(\n    false,\n  );\n  const [openSuccessModal, setOpenSuccessModal] = useState<boolean>(false);\n\n  const activeChainId = useGetChainId();\n  const troveDetail = troveDetails(trove, activeChainId);\n  const account = useGetAccount();\n  const getTrove = useGetTrove(trove, account);\n  const collateralGMUPrice = useCollateralPriceFeed(\n    troveDetail.depositToken,\n    troveDetail.contractPrefix,\n  );\n  const collateralBalance = useGetNativeTokenBalance();\n  const isRecoveryMode = useGetIsRecoveryMode(troveDetail.contractPrefix);\n  const collateralPrice = useCollateralPriceFeed(\n    troveDetail.depositToken,\n    troveDetail.contractPrefix,\n  );\n\n  const collateralRatio = useMemo(() => {\n    if (collateralGMUPrice.isLoading || getTrove.isLoading)\n      return { isLoading: true, value: BigNumber.from(0) };\n\n    if (getTrove.value.debt.lte(0))\n      return {\n        isLoading: false,\n        value: BigNumber.from(0),\n      };\n\n    const ratio = getTrove.value.coll\n      .mul(collateralGMUPrice.value)\n      .mul(100)\n      .div(getTrove.value.debt);\n    return {\n      isLoading: false,\n      value: ratio,\n    };\n  }, [getTrove, collateralGMUPrice]);\n\n  const modifiedCollatreal = useMemo(() => {\n    if (collateralGMUPrice.isLoading || getTrove.isLoading)\n      return { isLoading: true, value: BigNumber.from(0) };\n\n    if (getTrove.value.debt.lte(0) || getTrove.value.coll.lte(0))\n      return {\n        isLoading: false,\n        value: BigNumber.from(0),\n      };\n\n    const addCollateralBN = BigNumber.from(parseUnits(addCollateralValue, 18));\n    const removeCollateralBN = BigNumber.from(parseUnits(withdrawCollateralValue, 18));\n    if (removeCollateralBN.gt(getTrove.value.coll)) {\n      return { isLoading: false, value: BigNumber.from(0) };\n    }\n\n    const bnCollateral = getTrove.value.coll.add(addCollateralBN).sub(removeCollateralBN);\n    const ratio = bnCollateral.mul(collateralGMUPrice.value).mul(100).div(getTrove.value.debt);\n    return {\n      isLoading: false,\n      value: ratio,\n    };\n  }, [getTrove, addCollateralValue, withdrawCollateralValue, collateralGMUPrice]);\n\n  const isModifiedCollateralRatioBelowMin = useMemo(() => {\n    if (isRecoveryMode.isLoading || modifiedCollatreal.isLoading) return false;\n    const crData = crParameters(trove, activeChainId);\n    return !isRecoveryMode.value\n      ? modifiedCollatreal.value.lte(DECIMALS_18.mul(crData.mcr).div(1000))\n      : modifiedCollatreal.value.lte(DECIMALS_18.mul(crData.ccr).div(1000));\n  }, [\n    isRecoveryMode.isLoading,\n    isRecoveryMode.value,\n    modifiedCollatreal.isLoading,\n    modifiedCollatreal.value,\n    trove,\n    activeChainId,\n  ]);\n\n  const isCollateralRatioBelowMin = useMemo(() => {\n    if (isRecoveryMode.isLoading || collateralRatio.isLoading) return false;\n    const crData = crParameters(trove, activeChainId);\n    return !isRecoveryMode.value\n      ? collateralRatio.value.lte(DECIMALS_18.mul(crData.mcr).div(1000))\n      : collateralRatio.value.lte(DECIMALS_18.mul(crData.ccr).div(1000));\n  }, [\n    activeChainId,\n    collateralRatio.isLoading,\n    collateralRatio.value,\n    isRecoveryMode.isLoading,\n    isRecoveryMode.value,\n    trove,\n  ]);\n\n  const getApproveAndAddCollButton = () => {\n    return (\n      <Button\n        disabled={!Number(addCollateralValue) || isInputFieldError}\n        onClick={() => setOpenAddConfirmationModal(true)}\n        tracking_id=\"modify_loan_add_collateral\"\n        tracking_params={{\n          action: 'initial',\n          collateral: trove,\n          amount: Number(addCollateralValue),\n        }}\n      >\n        Add collateral\n      </Button>\n    );\n  };\n\n  const onAddCollateralChange = (val: string) => {\n    if (val === '' || collateralGMUPrice.value.lte(0) || collateralGMUPrice.isLoading) {\n      setAddCollateralValue('0');\n      return;\n    }\n\n    const check: boolean = ValidateNumber(val);\n    if (!check) return;\n    setWithdrawCollateralValue('0');\n    setAddCollateralValue(check ? val : String(Number(val)));\n  };\n\n  const onWithdrawCollateralChange = (val: string) => {\n    if (val === '' || collateralGMUPrice.value.lte(0) || collateralGMUPrice.isLoading) {\n      setWithdrawCollateralValue('0');\n      return;\n    }\n\n    const check: boolean = ValidateNumber(val);\n    if (!check) return;\n    setAddCollateralValue('0');\n    setWithdrawCollateralValue(check ? val : String(Number(val)));\n  };\n\n  const resetFields = () => {\n    setAddCollateralValue('0');\n    setWithdrawCollateralValue('0');\n  };\n\n  const avail_to_withdraw = useMemo(() => {\n    if (getTrove.isLoading || collateralPrice.isLoading || isRecoveryMode.isLoading)\n      return {\n        isLoading: true,\n        value: BNZERO,\n      };\n    const expectedCollateral = BigNumber.from(110)\n      .mul(getTrove.value.troveDebt)\n      .mul(DECIMALS_18)\n      .div(collateralPrice.value)\n      .div(100);\n\n    const data = isRecoveryMode.value\n      ? BigNumber.from(0)\n      : expectedCollateral.lt(getTrove.value.troveColl)\n      ? getTrove.value.troveColl.sub(expectedCollateral)\n      : BigNumber.from(0);\n\n    return {\n      isLoading: false,\n      value: data,\n    };\n  }, [\n    collateralPrice.isLoading,\n    collateralPrice.value,\n    getTrove.isLoading,\n    getTrove.value.troveColl,\n    getTrove.value.troveDebt,\n    isRecoveryMode,\n  ]);\n\n  const isAmountMoreThanMaxWithdrawal = useMemo(() => {\n    const withdrawCollateralBN = formatToBN(withdrawCollateralValue, 18);\n    return withdrawCollateralBN.gt(avail_to_withdraw.value);\n  }, [withdrawCollateralValue, avail_to_withdraw.value]);\n\n  return (\n    <div>\n      <ConfirmAddCollateral\n        cr={collateralRatio.value}\n        newCR={modifiedCollatreal.value}\n        debtAmount={getTrove.value.debt}\n        addedValue={BigNumber.from(parseUnits(addCollateralValue, 18))}\n        troveCollateral={getTrove.value.coll}\n        trove={trove}\n        openModal={openAddConfirmationModal}\n        onClose={() => setOpenAddConfirmationModal(false)}\n        onSuccess={() => {\n          setOpenAddConfirmationModal(false);\n          setOpenSuccessModal(true);\n        }}\n      />\n      <ConfirmRemoveCollateral\n        cr={collateralRatio.value}\n        newCR={modifiedCollatreal.value}\n        debtAmount={getTrove.value.debt}\n        addedValue={BigNumber.from(parseUnits(withdrawCollateralValue, 18))}\n        troveCollateral={getTrove.value.coll}\n        trove={trove}\n        openModal={openRemoveConfirmationModal}\n        onClose={() => setOpenRemoveConfirmationModal(false)}\n        onSuccess={() => {\n          setOpenRemoveConfirmationModal(false);\n          setOpenSuccessModal(true);\n        }}\n      />\n      <SuccessModal\n        modalOpen={openSuccessModal}\n        setModalOpen={() => {\n          resetFields();\n          setOpenSuccessModal(false);\n        }}\n        title={'Your transaction is being mined on blockchain'}\n        buttonText={'Close'}\n      />\n      {isCollateralRatioBelowMin && (\n        <div className=\"m-b-24\">\n          <InfoTip\n            type={'Warning'}\n            msg={\n              !isRecoveryMode.value\n                ? `Collateral ratio is below ${\n                    getDisplaycrParameters(trove, activeChainId).mcr\n                  }% and can be liquidated.\n                 Add ${trove.toUpperCase()} or decrease debt by repaying some of the borrowed ARTH.`\n                : `System is currently in Recovery Mode. Collateral ratio is below\n                ${\n                  getDisplaycrParameters(trove, activeChainId).ccr\n                }% and can be liquidated. Add ${troveDetail.depositToken.toUpperCase()}\n                or decrease debt by repaying some of the borrowed ARTH.`\n            }\n          />\n        </div>\n      )}\n      {isModifiedCollateralRatioBelowMin &&\n      (Number(addCollateralValue) || Number(withdrawCollateralValue)) ? (\n        <div className=\"m-b-24\">\n          <InfoTip\n            type={'Warning'}\n            msg={\n              !isRecoveryMode.value\n                ? `The modified loan has Collateral ratio is below\n                  ${getDisplaycrParameters(trove, activeChainId).mcr}% and can be liquidated.\n                  Add ${trove.toUpperCase()} or decrease debt by repaying some of the borrowed ARTH.`\n                : `System is currently in Recovery Mode. The modified loan has Collateral ratio is below\n                  ${\n                    getDisplaycrParameters(trove, activeChainId).ccr\n                  }% and can be liquidated. Add\n                  ${troveDetail.depositToken.toUpperCase()} or decrease debt by repaying some of the borrowed ARTH.`\n            }\n          />\n        </div>\n      ) : null}\n      <div className=\"p-b-32 bottom-divider\">\n        <CustomInputContainer\n          ILabelValue={'Add Collateral'}\n          IBalanceValue={`${getDisplayBalance(collateralBalance.value, 18, 3)}`}\n          isBalanceLoading={collateralBalance.isLoading}\n          ILabelInfoValue={''}\n          disabled={collateralBalance.isLoading || getTrove.isLoading}\n          DefaultValue={addCollateralValue.toString()}\n          LogoSymbol={troveDetail.depositToken}\n          hasDropDown={false}\n          SymbolText={troveDetail.depositToken}\n          inputMode={'decimal'}\n          setText={(val: string) => {\n            onAddCollateralChange(val);\n          }}\n          tagText={'MAX'}\n          tokenDecimals={18}\n          errorCallback={(flag: boolean) => {\n            setIsInputFieldError(flag);\n          }}\n        />\n        <div className=\"m-t-32\">\n          <InfoTip\n            type={'Warning'}\n            msg={'Please make sure you have gas fee while adding collateral'}\n            className={'m-b-8'}\n          />\n          {getApproveAndAddCollButton()}\n        </div>\n      </div>\n      <div className=\"p-t-20\">\n        <CustomInputContainer\n          ILabelValue={'Withdraw Collateral'}\n          showBalance={false}\n          IBalanceValue={`${getDisplayBalance(avail_to_withdraw.value, 18, 18)}`}\n          isBalanceLoading={\n            collateralBalance.isLoading || getTrove.isLoading || avail_to_withdraw.isLoading\n          }\n          DefaultValue={withdrawCollateralValue.toString()}\n          ILabelInfoValue={''}\n          LogoSymbol={troveDetail.depositToken}\n          disabled={isRecoveryMode.value || getTrove.isLoading || isCollateralRatioBelowMin}\n          hasDropDown={false}\n          tagText={'MAX'}\n          SymbolText={troveDetail.depositToken}\n          setText={(val: string) => {\n            onWithdrawCollateralChange(val);\n          }}\n          tokenDecimals={18}\n          errorCallback={(flag: boolean) => {\n            // setWithdrawIsInputFieldError(flag);\n          }}\n        />\n        <div className=\"single-line-center-between m-t-12 m-b-16\">\n          <div className=\"single-line-center-start\">\n            <TextWrapper text={`Max Withdrawal collateral`} Fcolor={'#FFFFFF88'} />\n            <div className=\"tags m-l-4\">\n              {avail_to_withdraw.isLoading ? (\n                <Loader color={'#ffffff'} loading={true} size={8} margin={2} />\n              ) : (\n                <TextWrapper\n                  text={\n                    getDisplayBalance(avail_to_withdraw.value, 18, 6) +\n                    ` ${troveDetail.depositToken.toUpperCase()}`\n                  }\n                  fontSize={12}\n                  Fcolor={'#FFFFFF88'}\n                />\n              )}\n            </div>\n          </div>\n          <div className=\"single-line-center-end\">\n            <TextWrapper text={`Current collateral`} Fcolor={'#FFFFFF88'} />\n            <div className=\"tags m-l-4\">\n              {getTrove.isLoading ? (\n                <Loader color={'#ffffff'} loading={true} size={8} margin={2} />\n              ) : (\n                <TextWrapper\n                  text={\n                    Number(getDisplayBalance(getTrove.value.coll, 18, 3)).toLocaleString() +\n                    ` ${troveDetail.depositToken.toUpperCase()}`\n                  }\n                  fontSize={12}\n                  Fcolor={'#FFFFFF88'}\n                />\n              )}\n            </div>\n          </div>\n        </div>\n        <div className=\"m-t-32\">\n          {isAmountMoreThanMaxWithdrawal && (\n            <InfoTip\n              type={'Error'}\n              msg={'Amount cannot be more than your available withdrawal amount'}\n              className={'m-b-8'}\n            />\n          )}\n          <Button\n            disabled={\n              isCollateralRatioBelowMin ||\n              isModifiedCollateralRatioBelowMin ||\n              !Number(withdrawCollateralValue) ||\n              isWithdrawInputFieldError ||\n              isAmountMoreThanMaxWithdrawal\n            }\n            onClick={() => setOpenRemoveConfirmationModal(true)}\n            tracking_id=\"modify_loan_withdraw_collateral\"\n            tracking_params={{\n              action: 'initial',\n              collateral: trove,\n              amount: Number(withdrawCollateralValue),\n            }}\n          >\n            Withdraw Collateral\n          </Button>\n        </div>\n      </div>\n      <div className=\"m-t-20\">\n        <div className=\"single-line-center-between\">\n          <div className=\"single-line-center-start\">\n            <TextWrapper text={'Current Collateral Ratio'} fontSize={12} />\n            <ToolTip\n              toolTipText={`The ratio between the ARTH value of the collateral and the debt (in ARTH) you are depositing.\n               While the Minimum Collateral Ratio is ${\n                 getDisplaycrParameters(trove, activeChainId).mcr\n               }% during normal\n                operation, it is recommended to keep the Collateral Ratio always above\n                ${\n                  getDisplaycrParameters(trove, activeChainId).ccr\n                }% to avoid liquidation under Recovery Mode.\n                 A Collateral Ratio above 200% or 250% is recommended for additional safety.`}\n            />\n          </div>\n          <div className=\"single-line-center-start\">\n            {collateralRatio.isLoading ? (\n              <Loader color={'#ffffff'} loading={true} size={8} margin={2} />\n            ) : (\n              <TextWrapper\n                text={`${Number(\n                  getDisplayBalance(collateralRatio.value, 18, 3),\n                ).toLocaleString()} %`}\n                fontSize={12}\n              />\n            )}\n          </div>\n        </div>\n        <div className=\"single-line-center-between\">\n          <div className=\"single-line-center-start\">\n            <TextWrapper text={'New Collateral Ratio'} fontSize={12} />\n            <ToolTip\n              toolTipText={`The ratio between the ARTH value of the collateral and the debt (in ARTH) as a result of\n              your loan modification. While the Minimum Collateral Ratio is ${\n                getDisplaycrParameters(trove, activeChainId).mcr\n              }% during normal operation, it is\n              recommended to keep the Collateral Ratio always above ${\n                getDisplaycrParameters(trove, activeChainId).ccr\n              }% to avoid liquidation under Recovery Mode.\n              A Collateral Ratio above 200% or 250% is recommended for additional safety.`}\n            />\n          </div>\n          <div className=\"single-line-center-start\">\n            {modifiedCollatreal.isLoading ? (\n              <Loader color={'#ffffff'} loading={true} size={8} margin={2} />\n            ) : (\n              <TextWrapper\n                text={\n                  modifiedCollatreal.value.eq(collateralRatio.value)\n                    ? '0 %'\n                    : `${Number(\n                        getDisplayBalance(modifiedCollatreal.value, 18, 3),\n                      ).toLocaleString()} %`\n                }\n                fontSize={12}\n                Fcolor={isModifiedCollateralRatioBelowMin ? theme.color.red[300] : 'white'}\n              />\n            )}\n          </div>\n        </div>\n      </div>\n      {depositModal && (\n        <DepositModal onCancel={() => setdepositModal(false)} onDeposit={() => {}} />\n      )}\n    </div>\n  );\n};\n\nexport default CollateralModifyLoan;\n","import { BigNumber } from 'ethers';\nimport React from 'react';\n\nimport Grid from '@material-ui/core/Grid';\n\nimport useWithdrawARTH from '../../../hooks/callbacks/borrowerOperations/useWithdrawARTH';\nimport Button from '../../../theme/components/Button';\nimport Modal from '../../../theme/components/Modal';\nimport TextWrapper from '../../../theme/components/TextWrapper';\nimport { useGetChainId } from '../../../utils/NetworksCustomHooks';\nimport { getDisplayBalance } from '../../../utils/formatBalance';\nimport { troveDetails } from '../../../utils/tokenDetails';\n\ninterface Iprops {\n  currentDebt: BigNumber;\n  addedDebt: BigNumber;\n  borrowingFee: BigNumber;\n  borrowingFeeRate: BigNumber;\n  cr: BigNumber;\n  newCR: BigNumber;\n  troveCollateral: BigNumber;\n  openModal: boolean;\n  onClose: () => void;\n  trove: string;\n  onSuccess: () => void;\n}\n\nconst ConfirmGenerateARTH = (props: Iprops) => {\n  const {\n    currentDebt,\n    addedDebt,\n    borrowingFee,\n    borrowingFeeRate,\n    cr,\n    newCR,\n    troveCollateral,\n    openModal,\n    onClose,\n    trove,\n    onSuccess,\n  } = props;\n\n  const activeChainId = useGetChainId();\n  const troveDetail = troveDetails(trove, activeChainId);\n\n  const withdrawARTH = useWithdrawARTH(\n    troveDetail.contractPrefix,\n    borrowingFeeRate,\n    addedDebt.sub(borrowingFee),\n    currentDebt.add(addedDebt),\n    troveCollateral,\n  );\n\n  const handleWithdraw = () => {\n    withdrawARTH(() => {\n      onSuccess();\n      onClose();\n    });\n  };\n\n  return (\n    <>\n      <Modal\n        title={'Confirm Generate ARTH'}\n        open={openModal}\n        handleClose={() => onClose()}\n        closeButton\n      >\n        <div>\n          <div className=\"single-line-center-between m-b-12\">\n            <TextWrapper text={'ARTH minted'} fontWeight={600} Fcolor={'#FFFFFF88'} />\n            <div className=\"single-line-center-between\">\n              <TextWrapper\n                text={Number(getDisplayBalance(addedDebt, 18, 3)).toLocaleString()}\n                fontWeight={600}\n              />\n              <div className=\"tags m-l-4\">\n                <TextWrapper text={'ARTH'} fontSize={12} Fcolor={'#FFFFFF88'} />\n              </div>\n            </div>\n          </div>\n          <div className=\"single-line-center-between m-b-12\">\n            <TextWrapper text={'Current debt amount'} fontWeight={600} Fcolor={'#FFFFFF88'} />\n            <div className=\"single-line-center-between\">\n              <TextWrapper\n                text={Number(getDisplayBalance(currentDebt, 18, 3)).toLocaleString()}\n                fontWeight={600}\n              />\n              <div className=\"tags m-l-4\">\n                <TextWrapper text={'ARTH'} fontSize={12} Fcolor={'#FFFFFF88'} />\n              </div>\n            </div>\n          </div>\n          <div className=\"single-line-center-between m-b-12\">\n            <TextWrapper text={'New debt amount'} fontWeight={600} Fcolor={'#FFFFFF88'} />\n            <div className=\"single-line-center-between\">\n              <TextWrapper\n                text={Number(\n                  getDisplayBalance(currentDebt.add(addedDebt), 18, 3),\n                ).toLocaleString()}\n                fontWeight={600}\n              />\n              <div className=\"tags m-l-4\">\n                <TextWrapper text={'ARTH'} fontSize={12} Fcolor={'#FFFFFF88'} />\n              </div>\n            </div>\n          </div>\n          <div className=\"single-line-center-between m-b-12\">\n            <TextWrapper text={'One-time fee'} fontWeight={600} Fcolor={'#FFFFFF88'} />\n            <div className=\"single-line-center-between\">\n              <TextWrapper\n                text={\n                  Number(getDisplayBalance(borrowingFee, 18, 3)).toLocaleString() +\n                  ' (' +\n                  Number(getDisplayBalance(borrowingFeeRate, 16, 3)).toLocaleString() +\n                  '%)'\n                }\n                fontWeight={600}\n              />\n              <div className=\"tags m-l-4\">\n                <TextWrapper text={'ARTH'} fontSize={12} Fcolor={'#FFFFFF88'} />\n              </div>\n            </div>\n          </div>\n          <div className=\"single-line-center-between m-b-12\">\n            <TextWrapper\n              text={'Current collateral ratio'}\n              fontWeight={600}\n              Fcolor={'#FFFFFF88'}\n            />\n            <div className=\"single-line-center-between\">\n              <TextWrapper\n                text={`${Number(getDisplayBalance(cr, 18, 3)).toLocaleString()} %`}\n                fontWeight={600}\n              />\n            </div>\n          </div>\n          <div className=\"single-line-center-between m-b-32\">\n            <TextWrapper text={'New collateral ratio'} fontWeight={600} Fcolor={'#FFFFFF88'} />\n            <div className=\"single-line-center-between\">\n              <TextWrapper\n                text={`${Number(getDisplayBalance(newCR, 18, 3)).toLocaleString()} %`}\n                fontWeight={600}\n              />\n            </div>\n          </div>\n          <Grid container spacing={2}>\n            <Grid item lg={6} md={6} sm={12} xs={12}>\n              <Button\n                variant={'transparent'}\n                onClick={() => onClose()}\n                tracking_id=\"modify_loan_generate_ARTH\"\n                tracking_params={{\n                  action: 'cancel',\n                  collateral: trove,\n                  amount: Number(getDisplayBalance(addedDebt, 18, 3)),\n                }}\n              >\n                Cancel\n              </Button>\n            </Grid>\n            <Grid item lg={6} md={6} sm={12} xs={12}>\n              <Button\n                onClick={handleWithdraw}\n                tracking_id=\"modify_loan_generate_ARTH\"\n                tracking_params={{\n                  action: 'confirm',\n                  collateral: trove,\n                  amount: Number(getDisplayBalance(addedDebt, 18, 3)),\n                }}\n              >\n                Confirm Generate ARTH\n              </Button>\n            </Grid>\n          </Grid>\n        </div>\n      </Modal>\n    </>\n  );\n};\n\nexport default ConfirmGenerateARTH;\n","import * as Sentry from '@sentry/react';\nimport { BigNumber } from 'ethers';\nimport { useCallback } from 'react';\n\nimport { DECIMALS_18 } from '../../../protocol/constants';\nimport { useAddPopup } from '../../../state/application/hooks';\nimport { useTransactionAdder } from '../../../state/transactions/hooks';\nimport { useGetChainId } from '../../../utils/NetworksCustomHooks';\nimport { getDisplayBalance } from '../../../utils/formatBalance';\nimport formatErrorMessage from '../../../utils/formatErrorMessage';\nimport { findHintsForNominalCollateralRatio } from '../../state/hinthelpers/helper';\nimport useCore from '../../useCore';\n\nexport default function (\n  symbol: string,\n  feeRate: BigNumber,\n  withdrawARTHAmount: BigNumber,\n  debtAmount: BigNumber, // Total debt after the modification.\n  collateralAmount: BigNumber, // Total collateral after the modification.\n) {\n  const core = useCore();\n  const addPopup = useAddPopup();\n  const addTransaction = useTransactionAdder();\n  const activeChainId = useGetChainId();\n\n  return useCallback(\n    async (callback?: () => void): Promise<void> => {\n      try {\n        const contract = core.getBorrowerOperations(symbol, activeChainId);\n\n        const [\n          partialRedemptionUpperHint,\n          partialRedemptionLowerHint,\n        ]: string[] = await findHintsForNominalCollateralRatio(\n          collateralAmount.mul(DECIMALS_18.mul(100)).div(debtAmount),\n          core.getSortedTroves(symbol, activeChainId),\n          core.getHintHelper(symbol, activeChainId),\n          core.getTroveManager(symbol, activeChainId),\n          core.myAccount,\n        );\n\n        const gasLimit = (\n          await contract.estimateGas.withdrawARTH(\n            feeRate,\n            withdrawARTHAmount,\n            partialRedemptionUpperHint,\n            partialRedemptionLowerHint,\n          )\n        )\n          .mul(120)\n          .div(100);\n\n        const response = await contract.withdrawARTH(\n          feeRate,\n          withdrawARTHAmount,\n          partialRedemptionUpperHint,\n          partialRedemptionLowerHint,\n          { gasLimit },\n        );\n\n        addTransaction(response, {\n          summary: `Generate ${Number(\n            getDisplayBalance(withdrawARTHAmount, 18, 3),\n          ).toLocaleString()} ARTH from Loan on ${symbol.toUpperCase()}`,\n        });\n\n        if (response.status !== 1) {\n          Sentry.captureException({\n            name: 'useWithdrawARTH',\n            response,\n            feeRate,\n            withdrawARTHAmount,\n            debtAmount,\n            collateralAmount,\n          });\n        }\n\n        if (callback) callback();\n      } catch (e) {\n        Sentry.captureException({\n          name: 'useWithdrawARTH',\n          ...e,\n        });\n        addPopup({\n          error: {\n            message: formatErrorMessage(e?.data?.message || e?.message),\n            stack: e?.stack,\n          },\n        });\n      }\n    },\n    [\n      symbol,\n      core,\n      addTransaction,\n      addPopup,\n      withdrawARTHAmount,\n      debtAmount,\n      collateralAmount,\n      feeRate,\n      activeChainId,\n    ],\n  );\n}\n","import { BigNumber } from 'ethers';\nimport React from 'react';\n\nimport Grid from '@material-ui/core/Grid';\n\nimport useRepayARTH from '../../../hooks/callbacks/borrowerOperations/useRepayARTH';\nimport Button from '../../../theme/components/Button';\nimport Modal from '../../../theme/components/Modal';\nimport TextWrapper from '../../../theme/components/TextWrapper';\nimport { useGetChainId } from '../../../utils/NetworksCustomHooks';\nimport { getDisplayBalance } from '../../../utils/formatBalance';\nimport { troveDetails } from '../../../utils/tokenDetails';\n\ninterface Iprops {\n  trove: string;\n  currentDebt: BigNumber;\n  removedDebt: BigNumber;\n  cr: BigNumber;\n  newCR: BigNumber;\n  troveCollateral: BigNumber;\n  openModal: boolean;\n  onClose: () => void;\n  symbol: string;\n  onSuccess: () => void;\n}\n\nconst ConfirmPaybackARTH = (props: Iprops) => {\n  const {\n    trove,\n    currentDebt,\n    removedDebt,\n    cr,\n    newCR,\n    troveCollateral,\n    openModal,\n    onClose,\n    symbol,\n    onSuccess,\n  } = props;\n\n  const chainId = useGetChainId();\n  const troveDetail = troveDetails(trove, chainId);\n\n  const repayARTH = useRepayARTH(\n    troveDetail.contractPrefix,\n    removedDebt,\n    currentDebt.sub(removedDebt),\n    troveCollateral,\n  );\n\n  const handleRepayARTH = () => {\n    repayARTH(() => {\n      onSuccess();\n      onClose();\n    });\n  };\n\n  return (\n    <>\n      <Modal\n        title={'Confirm Payback ARTH'}\n        open={openModal}\n        handleClose={() => onClose()}\n        closeButton\n      >\n        <div>\n          <div className=\"single-line-center-between m-b-12\">\n            <TextWrapper text={'Payback ARTH amount'} fontWeight={600} Fcolor={'#FFFFFF88'} />\n            <div className=\"single-line-center-between\">\n              <TextWrapper\n                text={Number(getDisplayBalance(removedDebt, 18, 3)).toLocaleString()}\n                fontWeight={600}\n              />\n              <div className=\"tags m-l-4\">\n                <TextWrapper text={'ARTH'} fontSize={12} Fcolor={'#FFFFFF88'} />\n              </div>\n            </div>\n          </div>\n          <div className=\"single-line-center-between m-b-12\">\n            <TextWrapper text={'Current Debt amount'} fontWeight={600} Fcolor={'#FFFFFF88'} />\n            <div className=\"single-line-center-between\">\n              <TextWrapper\n                text={Number(getDisplayBalance(currentDebt, 18, 3)).toLocaleString()}\n                fontWeight={600}\n              />\n              <div className=\"tags m-l-4\">\n                <TextWrapper text={'ARTH'} fontSize={12} Fcolor={'#FFFFFF88'} />\n              </div>\n            </div>\n          </div>\n          <div className=\"single-line-center-between m-b-12\">\n            <TextWrapper text={'New Debt amount'} fontWeight={600} Fcolor={'#FFFFFF88'} />\n            <div className=\"single-line-center-between\">\n              <TextWrapper\n                text={Number(\n                  getDisplayBalance(currentDebt.sub(removedDebt), 18, 3),\n                ).toLocaleString()}\n                fontWeight={600}\n              />\n              <div className=\"tags m-l-4\">\n                <TextWrapper text={'ARTH'} fontSize={12} Fcolor={'#FFFFFF88'} />\n              </div>\n            </div>\n          </div>\n          <div className=\"single-line-center-between m-b-12\">\n            <TextWrapper\n              text={'Current Collateral Ratio'}\n              fontWeight={600}\n              Fcolor={'#FFFFFF88'}\n            />\n            <div className=\"single-line-center-between\">\n              <TextWrapper\n                text={`${Number(getDisplayBalance(cr, 18, 3)).toLocaleString()} %`}\n                fontWeight={600}\n              />\n            </div>\n          </div>\n          <div className=\"single-line-center-between m-b-32\">\n            <TextWrapper text={'New Collateral Ratio'} fontWeight={600} Fcolor={'#FFFFFF88'} />\n            <div className=\"single-line-center-between\">\n              <TextWrapper\n                text={`${Number(getDisplayBalance(newCR, 18, 3)).toLocaleString()} %`}\n                fontWeight={600}\n              />\n            </div>\n          </div>\n          <Grid container spacing={2} className={'m-t-32'}>\n            <Grid item lg={6} md={6} sm={12} xs={12}>\n              <Button\n                variant={'transparent'}\n                onClick={() => onClose()}\n                tracking_id=\"modify_loan_payback_ARTH\"\n                tracking_params={{\n                  action: 'cancel',\n                  collateral: symbol,\n                  amount: Number(getDisplayBalance(removedDebt, 18, 3)),\n                }}\n              >\n                Cancel\n              </Button>\n            </Grid>\n            <Grid item lg={6} md={6} sm={12} xs={12}>\n              <Button\n                onClick={handleRepayARTH}\n                tracking_id=\"modify_loan_payback_ARTH\"\n                tracking_params={{\n                  action: 'confirm',\n                  collateral: symbol,\n                  amount: Number(getDisplayBalance(removedDebt, 18, 3)),\n                }}\n              >\n                Confirm Payback ARTH\n              </Button>\n            </Grid>\n          </Grid>\n        </div>\n      </Modal>\n    </>\n  );\n};\n\nexport default ConfirmPaybackARTH;\n","import * as Sentry from '@sentry/react';\nimport { BigNumber } from 'ethers';\nimport { useCallback } from 'react';\n\nimport { DECIMALS_18 } from '../../../protocol/constants';\nimport { useAddPopup } from '../../../state/application/hooks';\nimport { useTransactionAdder } from '../../../state/transactions/hooks';\nimport { useGetChainId } from '../../../utils/NetworksCustomHooks';\nimport { getDisplayBalance } from '../../../utils/formatBalance';\nimport formatErrorMessage from '../../../utils/formatErrorMessage';\nimport { findHintsForNominalCollateralRatio } from '../../state/hinthelpers/helper';\nimport useCore from '../../useCore';\n\nexport default function (\n  contractPrefix: string,\n  paybackARTHAmount: BigNumber,\n  debtAmount: BigNumber, // Total debt after the modification.\n  collateralAmount: BigNumber, // Total collateral after the modification.\n) {\n  const core = useCore();\n  const addPopup = useAddPopup();\n  const addTransaction = useTransactionAdder();\n  const activeChainId = useGetChainId();\n\n  return useCallback(\n    async (callback?: () => void): Promise<void> => {\n      try {\n        const contract = core.getBorrowerOperations(contractPrefix, activeChainId);\n\n        const [\n          partialRedemptionUpperHint,\n          partialRedemptionLowerHint,\n        ]: string[] = await findHintsForNominalCollateralRatio(\n          collateralAmount.mul(DECIMALS_18.mul(100)).div(debtAmount),\n          core.getSortedTroves(contractPrefix, activeChainId),\n          core.getHintHelper(contractPrefix, activeChainId),\n          core.getTroveManager(contractPrefix, activeChainId),\n          core.myAccount,\n        );\n\n        const gasLimit = (\n          await contract.estimateGas.repayARTH(\n            paybackARTHAmount,\n            partialRedemptionUpperHint,\n            partialRedemptionLowerHint,\n          )\n        )\n          .mul(120)\n          .div(100);\n\n        const response = await contract.repayARTH(\n          paybackARTHAmount,\n          partialRedemptionUpperHint,\n          partialRedemptionLowerHint,\n          { gasLimit },\n        );\n\n        addTransaction(response, {\n          summary: `Payback ${Number(\n            getDisplayBalance(paybackARTHAmount, 18, 3),\n          ).toLocaleString()} ARTH from Loan on ${contractPrefix.toUpperCase()}`,\n        });\n\n        if (response.status !== 1) {\n          Sentry.captureException({\n            name: 'useRepayARTH',\n            response,\n            contractPrefix,\n            paybackARTHAmount,\n            debtAmount,\n            collateralAmount,\n          });\n        }\n\n        if (callback) callback();\n      } catch (e) {\n        Sentry.captureException({\n          name: 'useRepayARTH',\n          ...e,\n        });\n        addPopup({\n          error: {\n            message: formatErrorMessage(e?.data?.message || e?.message),\n            stack: e?.stack,\n          },\n        });\n      }\n    },\n    [\n      core,\n      contractPrefix,\n      activeChainId,\n      collateralAmount,\n      debtAmount,\n      paybackARTHAmount,\n      addTransaction,\n      addPopup,\n    ],\n  );\n}\n","import { BigNumber } from 'ethers';\nimport { parseUnits } from 'ethers/lib/utils';\nimport React, { useMemo, useState } from 'react';\nimport Loader from 'react-spinners/BeatLoader';\n\nimport CustomInputContainer from '../../components/CustomInputContainer';\nimport { ValidateNumber } from '../../components/CustomInputContainer/RegexValidation';\nimport useApprove, { ApprovalState } from '../../hooks/callbacks/useApprove';\nimport useGetBorrowingFeeRateWithDecay from '../../hooks/state/troveManager/useGetBorrowingFeeRateWithDecay';\nimport useGetIsRecoveryMode from '../../hooks/state/troveManager/useGetIsRecoveryMode';\nimport useGetTrove from '../../hooks/state/troveManager/useGetTrove';\nimport useCollateralPriceFeed from '../../hooks/state/useCollateralPriceFeed';\nimport useTokenBalance from '../../hooks/state/useTokenBalance';\nimport useCore from '../../hooks/useCore';\nimport {\n  ARTH_GAS_COMPENSATION,\n  BNZERO,\n  DECIMALS_18,\n  MIN_NET_DEBT,\n} from '../../protocol/constants';\nimport theme from '../../theme';\nimport Button from '../../theme/components/Button';\nimport InfoTip from '../../theme/components/InfoTip';\nimport SuccessModal from '../../theme/components/SuccesModal';\nimport TextWrapper from '../../theme/components/TextWrapper';\nimport ToolTip from '../../theme/components/Tooltip';\nimport { useGetAccount, useGetChainId } from '../../utils/NetworksCustomHooks';\nimport { crParameters, getDisplaycrParameters } from '../../utils/crParameters';\nimport { getDisplayBalance } from '../../utils/formatBalance';\nimport { troveDetails } from '../../utils/tokenDetails';\n\nimport ConfirmGenerateARTH from './modal/ConfirmGenerateARTH';\nimport ConfirmPaybackARTH from './modal/ConfirmPaybackARTH';\n\ninterface Iprops {\n  trove: string;\n}\n\nconst DebtModifyLoan = (props: Iprops) => {\n  const { trove } = props;\n  const currentSymbol = 'ARTH';\n\n  const core = useCore();\n  const activeChainId = useGetChainId();\n  const troveDetail = troveDetails(trove, activeChainId);\n\n  const [paybackDebtAmount, setPaybackDebtAmount] = useState<string>('0');\n  const [generateDebtAmount, setGenerateDebtAmount] = useState<string>('0');\n  const [isPaybackFieldError, setIsPaybackFieldError] = useState<boolean>(false);\n  const [openPaybackConfirmationModal, setOpenPaybackConfirmationModal] = useState<boolean>(\n    false,\n  );\n  const [openGenerateConfirmationModal, setOpenGenerateConfirmationModal] = useState<boolean>(\n    false,\n  );\n  const [openSuccessModal, setOpenSuccessModal] = useState<boolean>(false);\n  const account = useGetAccount();\n  const getTrove = useGetTrove(trove, account);\n  const isRecoveryMode = useGetIsRecoveryMode(troveDetail.depositToken);\n  const borrowRate = useGetBorrowingFeeRateWithDecay(troveDetail.depositToken);\n  const collateralGMUPrice = useCollateralPriceFeed(\n    troveDetail.depositToken,\n    troveDetail.contractPrefix,\n  );\n\n  const [collatApproveStatus, approveCollateral] = useApprove(\n    core.tokens('ARTH', activeChainId),\n    core.getController(troveDetail.contractPrefix, activeChainId)?.address || undefined,\n  );\n\n  const isARTHApproved = useMemo(() => collatApproveStatus === ApprovalState.APPROVED, [\n    collatApproveStatus,\n  ]);\n  const isARTHApproving = useMemo(() => collatApproveStatus === ApprovalState.PENDING, [\n    collatApproveStatus,\n  ]);\n\n  const arthBalance = useTokenBalance(core.tokens(currentSymbol, activeChainId));\n\n  const collateralRatio = useMemo(() => {\n    if (collateralGMUPrice.isLoading || getTrove.isLoading)\n      return { isLoading: true, value: BigNumber.from(0) };\n\n    if (getTrove.value.debt.lte(0))\n      return {\n        isLoading: false,\n        value: BigNumber.from(0),\n      };\n\n    const ratio = getTrove.value.coll\n      .mul(collateralGMUPrice.value)\n      .mul(100)\n      .div(getTrove.value.debt);\n    return {\n      isLoading: false,\n      value: ratio,\n    };\n  }, [getTrove, collateralGMUPrice]);\n\n  const modifiedCollatrealRatio = useMemo(() => {\n    if (collateralGMUPrice.isLoading || getTrove.isLoading)\n      return { isLoading: true, value: BigNumber.from(0) };\n\n    if (getTrove.value.debt.lte(0) || getTrove.value.coll.lte(0))\n      return {\n        isLoading: false,\n        value: BigNumber.from(0),\n      };\n    const generateDebtBN = BigNumber.from(parseUnits(generateDebtAmount, 18));\n    const paybackDebtBN = BigNumber.from(parseUnits(paybackDebtAmount, 18));\n    if (paybackDebtBN.gt(getTrove.value.debt))\n      return {\n        isLoading: false,\n        value: BigNumber.from(0),\n      };\n\n    const bnDebt = getTrove.value.debt.add(generateDebtBN).sub(paybackDebtBN);\n    const ratio = getTrove.value.coll.mul(collateralGMUPrice.value).mul(100).div(bnDebt);\n    return {\n      isLoading: false,\n      value: ratio,\n    };\n  }, [getTrove, generateDebtAmount, paybackDebtAmount, collateralGMUPrice]);\n\n  const isModifiedCollateralRatioBelowMin = useMemo(() => {\n    if (isRecoveryMode.isLoading || modifiedCollatrealRatio.isLoading) return false;\n    const crData = crParameters(trove, activeChainId);\n    return !isRecoveryMode.value\n      ? modifiedCollatrealRatio.value.lte(DECIMALS_18.mul(crData.mcr).div(1000))\n      : modifiedCollatrealRatio.value.lte(DECIMALS_18.mul(crData.ccr).div(1000));\n  }, [\n    isRecoveryMode.isLoading,\n    isRecoveryMode.value,\n    modifiedCollatrealRatio.isLoading,\n    modifiedCollatrealRatio.value,\n    trove,\n    activeChainId,\n  ]);\n\n  const isCollateralRatioBelowMin = useMemo(() => {\n    if (isRecoveryMode.isLoading || collateralRatio.isLoading) return false;\n    const crData = crParameters(trove, activeChainId);\n    return !isRecoveryMode.value\n      ? collateralRatio.value.lte(DECIMALS_18.mul(crData.mcr).div(1000))\n      : collateralRatio.value.lte(DECIMALS_18.mul(crData.ccr).div(1000));\n  }, [\n    activeChainId,\n    collateralRatio.isLoading,\n    collateralRatio.value,\n    isRecoveryMode.isLoading,\n    isRecoveryMode.value,\n    trove,\n  ]);\n\n  const borrowingFee = useMemo(() => {\n    if (borrowRate.isLoading || isRecoveryMode.isLoading)\n      return { isLoading: true, value: BigNumber.from(0) };\n\n    if (isRecoveryMode.value)\n      return {\n        isLoading: false,\n        value: BigNumber.from(0),\n      };\n\n    return {\n      isLoading: false,\n      value: BigNumber.from(parseUnits(generateDebtAmount, 18))\n        .mul(borrowRate.value)\n        .div(DECIMALS_18),\n    };\n  }, [borrowRate, isRecoveryMode, generateDebtAmount]);\n\n  const isModifiedDebtBelowMinDebt = useMemo(() => {\n    if (getTrove.isLoading) return false;\n    const bn = BigNumber.from(parseUnits(paybackDebtAmount, 18));\n    if (getTrove.value.debt.lt(bn)) return true;\n    return getTrove.value.debt\n      .sub(BigNumber.from(parseUnits(paybackDebtAmount, 18)))\n      .lt(ARTH_GAS_COMPENSATION.add(MIN_NET_DEBT));\n  }, [paybackDebtAmount, getTrove]);\n\n  const maxPaybackAmount = useMemo(() => {\n    if (getTrove.isLoading)\n      return {\n        value: BNZERO,\n        isLoading: true,\n      };\n    return {\n      isLoading: false,\n      value: getTrove.value.debt.sub(ARTH_GAS_COMPENSATION.add(MIN_NET_DEBT)),\n    };\n  }, [getTrove.isLoading, getTrove.value.debt]);\n\n  const maxARTHGenerate = useMemo(() => {\n    if (getTrove.isLoading || isRecoveryMode.isLoading)\n      return {\n        value: BNZERO,\n        isLoading: true,\n      };\n    const crData = crParameters(trove, activeChainId);\n\n    const cr = isRecoveryMode.value\n      ? DECIMALS_18.mul(crData.ccr).div(1000)\n      : DECIMALS_18.mul(crData.mcr).div(1000);\n\n    const value = getTrove.value.coll.mul(collateralGMUPrice.value).mul(100).div(cr);\n\n    return {\n      isLoading: false,\n      value: value.sub(getTrove.value.debt.add(DECIMALS_18)).lt(BNZERO)\n        ? BNZERO\n        : value.sub(getTrove.value.debt.add(DECIMALS_18)),\n    };\n  }, [\n    activeChainId,\n    collateralGMUPrice.value,\n    getTrove.isLoading,\n    getTrove.value.coll,\n    getTrove.value.debt,\n    isRecoveryMode.isLoading,\n    isRecoveryMode.value,\n    trove,\n  ]);\n\n  const onGenerateValueChange = async (val: string) => {\n    if (val === '' || collateralGMUPrice.value.lte(0) || collateralGMUPrice.isLoading) {\n      setGenerateDebtAmount('0');\n      return;\n    }\n\n    const check: boolean = ValidateNumber(val);\n    if (!check) return;\n    setPaybackDebtAmount('0');\n    setGenerateDebtAmount(check ? val : String(Number(val)));\n  };\n\n  const onPaybackValueChange = async (val: string) => {\n    if (val === '' || collateralGMUPrice.value.lte(0) || collateralGMUPrice.isLoading) {\n      setPaybackDebtAmount('0');\n      return;\n    }\n\n    const check: boolean = ValidateNumber(val);\n    if (!check) return;\n    setGenerateDebtAmount('0');\n    setPaybackDebtAmount(check ? val : String(Number(val)));\n  };\n\n  const resetFields = () => {\n    setGenerateDebtAmount('0');\n    setPaybackDebtAmount('0');\n  };\n\n  return (\n    <div>\n      <ConfirmGenerateARTH\n        currentDebt={getTrove.value.debt}\n        addedDebt={BigNumber.from(parseUnits(generateDebtAmount, 18))}\n        borrowingFee={borrowingFee.value}\n        borrowingFeeRate={borrowRate.value}\n        cr={collateralRatio.value}\n        newCR={modifiedCollatrealRatio.value}\n        troveCollateral={getTrove.value.coll}\n        trove={trove}\n        openModal={openGenerateConfirmationModal}\n        onClose={() => setOpenGenerateConfirmationModal(false)}\n        onSuccess={() => {\n          setOpenSuccessModal(true);\n          setOpenGenerateConfirmationModal(false);\n        }}\n      />\n      <ConfirmPaybackARTH\n        trove={trove}\n        currentDebt={getTrove.value.debt}\n        removedDebt={BigNumber.from(parseUnits(paybackDebtAmount, 18))}\n        cr={collateralRatio.value}\n        newCR={modifiedCollatrealRatio.value}\n        troveCollateral={getTrove.value.coll}\n        symbol={troveDetail.depositToken}\n        openModal={openPaybackConfirmationModal}\n        onClose={() => setOpenPaybackConfirmationModal(false)}\n        onSuccess={() => {\n          setOpenSuccessModal(true);\n          setOpenPaybackConfirmationModal(false);\n        }}\n      />\n      <SuccessModal\n        modalOpen={openSuccessModal}\n        setModalOpen={() => {\n          resetFields();\n          setOpenSuccessModal(false);\n        }}\n        title={'Your transaction is being mined on blockchain'}\n        buttonText={'Close'}\n      />\n      {isModifiedDebtBelowMinDebt && (\n        <div className=\"m-b-24\">\n          <InfoTip\n            type={'Warning'}\n            msg={`You can not reduce your total debt below ${Number(\n              getDisplayBalance(ARTH_GAS_COMPENSATION.add(MIN_NET_DEBT), 18, 3),\n            ).toLocaleString()} ARTH.`}\n          />\n        </div>\n      )}\n      {isCollateralRatioBelowMin && (\n        <div className=\"m-b-24\">\n          <InfoTip\n            type={'Warning'}\n            msg={\n              !isRecoveryMode.value\n                ? `Collateral ratio is below ${\n                    getDisplaycrParameters(trove, activeChainId).mcr\n                  }% and can be liquidated. Add ${troveDetail.depositToken.toUpperCase()} or decrease debt by repaying some of the borrowed ARTH.`\n                : `System is currently in Recovery Mode. Collateral ratio is below ${\n                    getDisplaycrParameters(trove, activeChainId).ccr\n                  }% and can be liquidated. Add ${troveDetail.depositToken.toUpperCase()} or decrease debt by repaying some of the borrowed ARTH.`\n            }\n          />\n        </div>\n      )}\n      {isModifiedCollateralRatioBelowMin &&\n      (Number(paybackDebtAmount) || Number(generateDebtAmount)) ? (\n        <div className=\"m-b-24\">\n          <InfoTip\n            type={'Warning'}\n            msg={\n              !isRecoveryMode.value\n                ? `The modified loan has Collateral ratio is below ${\n                    getDisplaycrParameters(trove, activeChainId).mcr\n                  }% and can be liquidated. Add ${troveDetail.depositToken.toUpperCase()} or decrease debt by repaying some of the borrowed ARTH.`\n                : `System is currently in Recovery Mode. The modified loan has Collateral ratio is below ${\n                    getDisplaycrParameters(trove, activeChainId).ccr\n                  }% and can be liquidated. Add ${troveDetail.depositToken.toUpperCase()} or decrease debt by repaying some of the borrowed ARTH.`\n            }\n          />\n        </div>\n      ) : null}\n      <div className=\"p-b-32 bottom-divider\">\n        <CustomInputContainer\n          ILabelValue={'Generate'}\n          IBalanceValue={`${getDisplayBalance(maxARTHGenerate.value, 18, 18)}`}\n          showBalance={false}\n          isBalanceLoading={maxARTHGenerate.isLoading}\n          ILabelInfoValue={''}\n          disabled={maxARTHGenerate.isLoading || arthBalance.isLoading}\n          DefaultValue={generateDebtAmount.toString()}\n          LogoSymbol={currentSymbol}\n          hasDropDown={false}\n          SymbolText={currentSymbol}\n          inputMode={'numeric'}\n          setText={(val: string) => {\n            onGenerateValueChange(val);\n          }}\n          tagText={'MAX'}\n          tokenDecimals={18}\n        />\n        <div className=\"single-line-center-between m-t-8\">\n          <div className=\"single-line-center-start\">\n            <TextWrapper text={`Max Generate: `} Fcolor={'#FFFFFF88'} />\n            <div className=\"tags m-l-4\">\n              {maxARTHGenerate.isLoading ? (\n                <Loader color={'#ffffff'} loading={true} size={8} margin={2} />\n              ) : (\n                <TextWrapper\n                  text={\n                    Number(getDisplayBalance(maxARTHGenerate.value, 18, 6)).toLocaleString() +\n                    ' ARTH'\n                  }\n                  fontSize={12}\n                  Fcolor={'#FFFFFF88'}\n                />\n              )}\n            </div>\n          </div>\n          <div className=\"single-line-center-end\">\n            <TextWrapper text={`ARTH Balance`} Fcolor={'#FFFFFF88'} />\n            <div className=\"tags m-l-4\">\n              {arthBalance.isLoading ? (\n                <Loader color={'#ffffff'} loading={true} size={8} margin={2} />\n              ) : (\n                <TextWrapper\n                  text={\n                    Number(getDisplayBalance(arthBalance.value, 18, 3)).toLocaleString() +\n                    ' ARTH'\n                  }\n                  fontSize={12}\n                  Fcolor={'#FFFFFF88'}\n                />\n              )}\n            </div>\n          </div>\n        </div>\n        <div className=\"m-t-32\">\n          <Button\n            disabled={\n              !Number(generateDebtAmount) ||\n              isCollateralRatioBelowMin ||\n              isModifiedCollateralRatioBelowMin\n            }\n            onClick={() => setOpenGenerateConfirmationModal(true)}\n            tracking_id=\"modify_loan_generate_ARTH\"\n            tracking_params={{\n              action: 'initial',\n              collateral: trove,\n              amount: Number(generateDebtAmount),\n            }}\n          >\n            Generate ARTH\n          </Button>\n        </div>\n      </div>\n      <div className=\"p-t-20\">\n        <div className=\"single-line-center-between m-b-8\">\n          <div />\n        </div>\n        <CustomInputContainer\n          ILabelValue={'Payback'}\n          showBalance={false}\n          IBalanceValue={\n            maxPaybackAmount.value > arthBalance.value\n              ? `${getDisplayBalance(maxPaybackAmount.value, 18)}`\n              : `${getDisplayBalance(arthBalance.value, 18)}`\n          }\n          isBalanceLoading={maxPaybackAmount.isLoading}\n          DefaultValue={paybackDebtAmount.toString()}\n          ILabelInfoValue={''}\n          LogoSymbol={currentSymbol}\n          disabled={arthBalance.isLoading || getTrove.isLoading}\n          hasDropDown={false}\n          SymbolText={currentSymbol}\n          setText={(val: string) => {\n            onPaybackValueChange(val);\n          }}\n          tagText={'MAX'}\n          errorCallback={(flag: boolean) => setIsPaybackFieldError(flag)}\n          tokenDecimals={18}\n        />\n        <div className=\"single-line-start-between m-t-8\">\n          <div>\n            <div className=\"single-line-center-start m-b-4\">\n              <TextWrapper text={`Max Payback Amount: `} Fcolor={'#FFFFFF88'} />\n              <div className=\"tags m-l-4\">\n                {maxPaybackAmount.isLoading ? (\n                  <Loader color={'#ffffff'} loading={true} size={8} margin={2} />\n                ) : (\n                  <TextWrapper\n                    text={\n                      Number(\n                        getDisplayBalance(maxPaybackAmount.value, 18, 3),\n                      ).toLocaleString() + ' ARTH'\n                    }\n                    fontSize={12}\n                    Fcolor={'#FFFFFF88'}\n                  />\n                )}\n              </div>\n            </div>\n            <div className=\"single-line-center-start\">\n              <TextWrapper text={`Current Debt`} Fcolor={'#FFFFFF88'} />\n              <div className=\"tags m-l-4\">\n                {getTrove.isLoading ? (\n                  <Loader color={'#ffffff'} loading={true} size={8} margin={2} />\n                ) : (\n                  <TextWrapper\n                    text={\n                      Number(getDisplayBalance(getTrove.value.debt, 18, 3)).toLocaleString() +\n                      ' ARTH'\n                    }\n                    fontSize={12}\n                    Fcolor={'#FFFFFF88'}\n                  />\n                )}\n              </div>\n            </div>\n          </div>\n          <div className=\"single-line-center-start\">\n            <TextWrapper text={`ARTH Balance`} Fcolor={'#FFFFFF88'} />\n            <div className=\"tags m-l-4\">\n              {arthBalance.isLoading ? (\n                <Loader color={'#ffffff'} loading={true} size={8} margin={2} />\n              ) : (\n                <TextWrapper\n                  text={\n                    Number(getDisplayBalance(arthBalance.value, 18, 3)).toLocaleString() +\n                    ' ARTH'\n                  }\n                  fontSize={12}\n                  Fcolor={'#FFFFFF88'}\n                />\n              )}\n            </div>\n          </div>\n        </div>\n        <div className=\"m-t-32\">\n          <InfoTip\n            type={'Info'}\n            msg={`You can not reduce your total debt below ${getDisplayBalance(\n              ARTH_GAS_COMPENSATION.add(MIN_NET_DEBT),\n              18,\n            )} ARTH`}\n            className={'m-b-4'}\n          />\n          {!isARTHApproved && (activeChainId === 137 || activeChainId === 80001) ? (\n            <Button\n              disabled={\n                isPaybackFieldError ||\n                !Number(paybackDebtAmount) ||\n                isARTHApproved ||\n                isARTHApproving ||\n                isModifiedDebtBelowMinDebt\n              }\n              loading={isARTHApproving}\n              onClick={approveCollateral}\n              tracking_id=\"approve_modify_loan_payback_ARTH\"\n              tracking_params={{ collateral: trove }}\n            >\n              Approve\n            </Button>\n          ) : (\n            <Button\n              disabled={\n                isPaybackFieldError || !Number(paybackDebtAmount) || isModifiedDebtBelowMinDebt\n              }\n              onClick={() => setOpenPaybackConfirmationModal(true)}\n              tracking_id=\"modify_loan_payback_ARTH\"\n              tracking_params={{\n                action: 'initial',\n                collateral: trove,\n                amount: Number(paybackDebtAmount),\n              }}\n            >\n              Payback ARTH\n            </Button>\n          )}\n        </div>\n      </div>\n      <div className=\"m-t-20\">\n        <div className=\"single-line-center-between\">\n          <div className=\"single-line-center-start\">\n            <TextWrapper text={'Current Collateral Ratio'} fontSize={12} />\n            <ToolTip\n              toolTipText={`The ratio between the ARTH value of the collateral and the debt (in ARTH) you are depositing. While the Minimum Collateral Ratio is ${\n                getDisplaycrParameters(trove, activeChainId).mcr\n              }% during normal operation, it is recommended to keep the Collateral Ratio always above ${\n                getDisplaycrParameters(trove, activeChainId).ccr\n              }% to avoid liquidation under Recovery Mode. A Collateral Ratio above 200% or 250% is recommended for additional safety.`}\n            />\n          </div>\n          <div className=\"single-line-center-start\">\n            {collateralRatio.isLoading ? (\n              <Loader color={'#ffffff'} loading={true} size={8} margin={2} />\n            ) : (\n              <TextWrapper\n                text={Number(getDisplayBalance(collateralRatio.value, 18, 3)).toLocaleString()}\n                fontSize={12}\n              />\n            )}\n            <div className=\"tags m-l-4\">\n              <TextWrapper text={'%'} fontSize={12} />\n            </div>\n          </div>\n        </div>\n        <div className=\"single-line-center-between\">\n          <div className=\"single-line-center-start\">\n            <TextWrapper text={'New Collateral Ratio'} fontSize={12} />\n            <ToolTip\n              toolTipText={`The ratio between the ARTH value of the collateral and the debt (in ARTH) you are depositing. While the Minimum Collateral Ratio is ${\n                getDisplaycrParameters(trove, activeChainId).mcr\n              }% during normal operation, it is recommended to keep the Collateral Ratio always above ${\n                getDisplaycrParameters(trove, activeChainId).ccr\n              }% to avoid liquidation under Recovery Mode. A Collateral Ratio above 200% or 250% is recommended for additional safety.`}\n            />\n          </div>\n          <div className=\"single-line-center-start\">\n            {modifiedCollatrealRatio.isLoading ? (\n              <Loader color={'#ffffff'} loading={true} size={8} margin={2} />\n            ) : (\n              <TextWrapper\n                text={\n                  modifiedCollatrealRatio.value.eq(collateralRatio.value)\n                    ? '0'\n                    : Number(\n                        getDisplayBalance(modifiedCollatrealRatio.value, 18, 3),\n                      ).toLocaleString()\n                }\n                fontSize={12}\n                Fcolor={isModifiedCollateralRatioBelowMin ? theme.color.red[300] : 'white'}\n              />\n            )}\n            <div className=\"tags m-l-4\">\n              <TextWrapper text={'%'} fontSize={12} />\n            </div>\n          </div>\n        </div>\n        <div className=\"single-line-center-between\">\n          <div className=\"single-line-center-start\">\n            <TextWrapper text={'One-time fee'} fontSize={12} />\n            <ToolTip\n              toolTipText={\n                'This amount is deducted from the borrowed amount as a one-time fee. There are no recurring fees for borrowing, which is thus interest-free.'\n              }\n            />\n          </div>\n          <div className=\"single-line-center-start\">\n            {borrowingFee.isLoading ? (\n              <Loader color={'#ffffff'} loading={true} size={8} margin={2} />\n            ) : (\n              <TextWrapper\n                text={Number(getDisplayBalance(borrowingFee.value, 18, 3)).toLocaleString()}\n                fontSize={12}\n              />\n            )}\n            <div className=\"tags m-l-4\">\n              <TextWrapper text={'ARTH'} fontSize={12} />\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default DebtModifyLoan;\n","import React from 'react';\n\nimport TextWrapper from '../../theme/components/TextWrapper';\n\nexport default () => {\n  return (\n    <div className={'material-primary m-b-24'}>\n      <TextWrapper\n        text={\n          <div>\n            Please understand the price mechanics of ARTH when modifying a loan. ARTH's price is\n            stable in the short term but appreciates over the long-term. Read{' '}\n            <a\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n              href=\"https://docs.arth.loans/target-price-for-arth\"\n              className={'links bold'}\n            >\n              the documentation\n            </a>{' '}\n            for more info.\n          </div>\n        }\n      />\n    </div>\n  );\n};\n","import React, { useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport styled from 'styled-components';\n\nimport Grid from '@material-ui/core/Grid';\n\nimport LoadingPage from '../../components/LoadingPage';\nimport useGetTrove from '../../hooks/state/troveManager/useGetTrove';\nimport IconLoader from '../../theme/components/IconLoader';\nimport PageHeader from '../../theme/components/PageHeader';\nimport TextWrapper from '../../theme/components/TextWrapper';\nimport { useGetAccount, useGetChainId } from '../../utils/NetworksCustomHooks';\nimport { troveDetails } from '../../utils/tokenDetails';\nimport LoanInfo from '../LoanInfo/LoanInfo';\n\nimport CollateralModifyLoan from './CollateralModifyLoan';\nimport DebtModifyLoan from './DebtModifyLoan';\nimport LoanDesc from './LoanDesc';\n\n\nconst ModifyLoan = () => {\n  const { trove } = useParams<any>();\n  const chainId = useGetChainId();\n  const troveDetail = troveDetails(trove, chainId);\n  const account = useGetAccount();\n  const getTrove = useGetTrove(troveDetail.contractPrefix, account);\n  const [type, setType] = useState<'Collateral' | 'Debt'>('Collateral');\n\n  if (getTrove.isLoading) {\n    return (\n      <div style={{ position: 'relative', height: 'calc(100vh - 100px)' }}>\n        <LoadingPage />\n      </div>\n    );\n  }\n\n  if (getTrove.value.stake.lte(0)) {\n    window.location.href = '/#/loans/your-loans';\n    return (\n      <div className=\"m-t-40 m-b-40 material-primary\">\n        <TextWrapper\n          text={`You dont have any loan open for ${trove}`}\n          fontSize={24}\n          fontWeight={'bold'}\n          className=\"m-b-8\"\n          align=\"center\"\n        />\n        <TextWrapper\n          text={'Open Interest free loan with leveraged position from the leverage strategies'}\n          fontSize={18}\n          className=\"m-b-8\"\n          Fcolor={'#FFFFFF64'}\n          align={'center'}\n        />\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"custom-container\">\n      <PageHeader\n        title={`MODIFY ${trove.toUpperCase()} LOAN`}\n        subTitle={`Modify your existing ${trove.toUpperCase()} loan with ARTH.`}\n        showLearnMore={true}\n        learnMoreLink={'https://docs.arth.loans/protocol/introduction-arth-loans'}\n      />\n      <Grid container style={{ marginTop: '24px' }} spacing={2}>\n        <Grid item lg={6} md={6} sm={12} xs={12}>\n          <LeftTopCard className={'custom-mahadao-container'}>\n            <LeftTopCardHeader className={'custom-mahadao-container-header'}>\n              <div className=\"m-r-12 single-line-center-start pointer\">\n                <IconLoader\n                  iconName={'ArrowLeft'}\n                  iconType=\"arrow\"\n                  onClick={() => window.history.back()}\n                />\n              </div>\n              <div style={{ display: 'flex', flex: '1' }}>\n                <TabContainer onClick={() => setType('Collateral')}>\n                  {type === 'Collateral' && <ActiveTab />}\n                  <TabText>Collateral</TabText>\n                </TabContainer>\n                <TabContainer onClick={() => setType('Debt')}>\n                  {type === 'Debt' && <ActiveTab />}\n                  <TabText>Debt</TabText>\n                </TabContainer>\n              </div>\n            </LeftTopCardHeader>\n            <div className={'custom-mahadao-container-content'}>\n              {type === 'Collateral' && <CollateralModifyLoan trove={trove} />}\n              {type === 'Debt' && <DebtModifyLoan trove={trove} />}\n            </div>\n          </LeftTopCard>\n        </Grid>\n        <Grid item lg={6} md={6} sm={12} xs={12}>\n          <LoanDesc />\n          <LoanInfo trove={trove} />\n        </Grid>\n      </Grid>\n    </div>\n  );\n};\n\nexport default ModifyLoan;\n\nconst LeftTopCard = styled.div``;\n\nconst LeftTopCardHeader = styled.div`\n  display: flex;\n  flex-direction: row;\n`;\n\nconst TabContainer = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 12px 12px;\n  width: 100px;\n  height: 80px;\n  z-index: 1;\n  cursor: pointer;\n  position: relative;\n`;\n\nconst TabText = styled.span`\n  font-style: normal;\n  font-weight: 600;\n  font-size: 14px;\n  line-height: 20px;\n  text-align: center;\n  color: rgba(255, 255, 255, 0.88);\n`;\n\nconst ActiveTab = styled.div`\n  position: absolute;\n  width: 100%;\n  height: 2px;\n  z-index: 0;\n  background: linear-gradient(81.26deg, #f47f57 14.65%, #fd5656 83.88%);\n  border-radius: 2px 2px 0 0;\n  bottom: 0;\n`;\n","import React from 'react';\n\nimport TextWrapper from '../../../theme/components/TextWrapper';\n\nconst PriceDesc = () => {\n  return (\n    <div className={'material-primary'}>\n      <TextWrapper\n        text={\n          'ARTH is price pegged to the algorithmic price-feed called as the global measurement unit (or the GMU). \\\n        The goal of the algorithmic peg is to achieve stability whilst at the same time slowly appreciate in value.'\n        }\n        className={'m-b-8'}\n      />\n      <TextWrapper\n        text={\n          <div>\n            To learn more about the mechanism of this algorithimic peg, read&nbsp;\n            <a\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n              href=\"https://docs.arth.loans/target-price-for-arth\"\n              className={'links bold'}\n            >\n              the documentation\n            </a>\n            {' or '}\n            <a\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n              href=\"https://github.com/MahaDAO/gmu-oracle-contracts/blob/master/simulation/eth-24mo.ipynb\"\n              className={'links bold'}\n            >\n              view the simulations\n            </a>\n            .\n          </div>\n        }\n        className={'m-b-8'}\n      />\n    </div>\n  );\n};\n\nexport default PriceDesc;\n","import React from 'react';\n\nimport { LinearProgress, withStyles } from '@material-ui/core';\nimport { createStyles } from '@material-ui/core/styles';\n\nimport theme from '../../index';\n\ninterface IProps {\n  barColor: string;\n  percent: number;\n  width?: string | number;\n  className?: string;\n}\n\nconst ProgressBar = (props: IProps) => {\n  const { barColor, percent = 50, width = 160, className = '' } = props;\n\n  const BorderLinearProgress = withStyles(() =>\n    createStyles({\n      root: {\n        height: 8,\n        borderRadius: 5,\n        width: width,\n      },\n      colorPrimary: {\n        backgroundColor: theme.color.dark[300],\n      },\n      bar: {\n        borderRadius: 5,\n        backgroundColor: barColor,\n      },\n    }),\n  )(LinearProgress);\n\n  return (\n    <div className={className}>\n      <BorderLinearProgress variant=\"determinate\" value={percent} />\n    </div>\n  );\n};\n\nexport default ProgressBar;\n","import moment from 'moment';\nimport React, { useMemo } from 'react';\nimport Loader from 'react-spinners/BeatLoader';\n\nimport useUpdatePrice from '../../../hooks/callbacks/updateOracle/useUpdatePrice';\nimport useGetNextUpdateTime from '../../../hooks/state/updateOracle/useGetNextUpdateTime';\nimport theme from '../../../theme';\nimport Button from '../../../theme/components/Button';\nimport ProgressBar from '../../../theme/components/ProgressBar';\nimport TextWrapper from '../../../theme/components/TextWrapper';\n\nconst UpdateOraclePrice = () => {\n  const time = useGetNextUpdateTime();\n\n  const daysUntil = (dateToCheckAgainst: number) => {\n    return moment().to(moment(dateToCheckAgainst));\n  };\n\n  const updateAction = useUpdatePrice();\n\n  const handleUpdate = () => {\n    updateAction(() => {});\n  };\n\n  const percPassed = useMemo(() => {\n    const nextTime = time.value;\n    const currentTime = new Date().getTime();\n    const difference = nextTime - currentTime;\n    const hoursLeft = difference / (1000 * 60 * 60);\n    const hoursPassedAway = 24 - hoursLeft;\n    return (hoursPassedAway / 24) * 100;\n  }, [time.value]);\n\n  return (\n    <div className={'material-primary'}>\n      <TextWrapper\n        text={'The pricefeed runs on a 24 hour epoch. Advancing the epoch will award 10 MAHA.'}\n        className={'m-b-24'}\n      />\n\n      <div style={{}}>\n        <Button\n          disabled={new Date().getTime() < time.value || time.isLoading}\n          text={'Advance Epoch'}\n          onClick={handleUpdate}\n        />\n      </div>\n      <div className={'m-t-32'}>\n        <ProgressBar\n          barColor={theme.color.green[300]}\n          percent={percPassed}\n          width={'100%'}\n          className={'m-b-8'}\n        />\n        <div className={'single-line-center-end'}>\n          {time.isLoading ? (\n            <Loader color={'#ffffff'} loading={true} size={2} margin={2} />\n          ) : (\n            <TextWrapper\n              text={`Next epoch in ${daysUntil(time.value)}`}\n              fontSize={12}\n              Fcolor={theme.color.transparent[100]}\n            />\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default UpdateOraclePrice;\n","import { useCallback, useEffect, useState } from 'react';\n\nimport { useBlockNumber } from '../../../state/application/hooks';\nimport { useGetAccount, useGetChainId } from '../../../utils/NetworksCustomHooks';\nimport { BasicNumberState } from '../../../utils/interface';\nimport useCore from '../../useCore';\n\nexport default () => {\n  const [value, setValue] = useState<BasicNumberState>({ isLoading: true, value: 0 });\n\n  const core = useCore();\n  const account = useGetAccount();\n\n  const blockNumber = useBlockNumber();\n  const chainId = useGetChainId();\n\n  const fetchValue = useCallback(async () => {\n    if (!account) {\n      setValue({ isLoading: false, value: 0 });\n      return;\n    }\n\n    const contract = core.getUpdateOracleContract(chainId);\n    const value = await contract.nextUpkeepTime();\n    setValue({ isLoading: false, value: Number(`${value}000`) });\n  }, [account, core, chainId]);\n\n  useEffect(() => {\n    if (core.isUnlocked) {\n      fetchValue().catch((err) => {\n        console.error(`Failed to fetch getNextUpTime for: ${err}`);\n      });\n    }\n  }, [core.isUnlocked, account, core.myAccount, blockNumber, fetchValue]);\n\n  return value;\n};\n","import * as Sentry from '@sentry/react';\nimport { useCallback } from 'react';\n\nimport { useAddPopup } from '../../../state/application/hooks';\nimport { useTransactionAdder } from '../../../state/transactions/hooks';\nimport { useGetChainId } from '../../../utils/NetworksCustomHooks';\nimport formatErrorMessage from '../../../utils/formatErrorMessage';\nimport useCore from '../../useCore';\n\nexport default function () {\n  const core = useCore();\n  const addPopup = useAddPopup();\n  const addTransaction = useTransactionAdder();\n  const chainId = useGetChainId();\n\n  return useCallback(\n    async (callback?: () => void): Promise<void> => {\n      const contract = core.getUpdateOracleContract(chainId);\n\n      try {\n        const response = await contract.performUpkeep(0);\n\n        addTransaction(response, {\n          summary: `Update Oracle Price`,\n        });\n\n        if (response.status !== 1) {\n          Sentry.captureException({\n            name: 'useUpdatePrice',\n            response,\n          });\n        }\n\n        if (callback) callback();\n      } catch (e) {\n        Sentry.captureException({\n          name: 'useUpdatePrice',\n          ...e,\n        });\n        addPopup({\n          error: {\n            message: formatErrorMessage(e?.data?.message || e?.message),\n            stack: e.stack,\n          },\n        });\n      }\n    },\n    [core, chainId, addTransaction, addPopup],\n  );\n}\n","import Highcharts from 'highcharts';\nimport HighchartsReact from 'highcharts-react-official';\nimport moment from 'moment';\nimport React, { useEffect, useMemo, useState } from 'react';\nimport styled from 'styled-components';\n\nimport theme from '../../../../theme';\nimport TextWrapper from '../../../../theme/components/TextWrapper';\n\nfunction getDaysInMonth(year: number, month: number) {\n  return new Date(year, month, 0).getDate();\n}\n\nfunction addDayInDate(date: number, noOfDays: number) {\n  return Number(new Date(date + 3600 * 1000 * 24 * noOfDays));\n}\n\nexport default () => {\n  const [data1, setData1] = useState<Array<any>>([]);\n  const [data2, setData2] = useState<Array<any>>([]);\n  const [loading, setLoading] = useState<boolean>(true);\n\n  // const option = {style: 'currency', currency: 'USD'};\n  // const numberFormat = new Intl.NumberFormat('en-US', option);\n\n  useEffect(() => {\n    setLoading(true);\n    const url = `https://api.arthcoin.com/graph/protocol`;\n    const headers = {\n      'Access-Control-Allow-Origin': '*',\n      'Access-Control-Allow-Methods': 'GET,POST,OPTIONS',\n      'Access-Control-Allow-Headers':\n        'access-control-allow-headers,access-control-allow-methods,access-control-allow-origin,content-type',\n    };\n\n    fetch(url, { headers })\n      .then((res) => res.json())\n      .then((res: any) => {\n        setData1(res.protocolPrice);\n        setData2(res.ethPrice);\n        setLoading(false);\n      })\n      .catch((err) => {});\n  }, []);\n\n  if (loading && data1 === [] && data2 === []) return <div />;\n\n  const ConvertDateTimeToDate = (data: object) => {\n    var Obj: any = {};\n    for (const [key, value] of Object.entries(data)) {\n      const numberDate = Number(key);\n      var newKey = new Date(new Date(numberDate).toDateString()).getTime();\n      Obj[newKey] = value;\n    }\n    return Obj;\n  };\n\n  const ConvertToNumberArray = (data: any) => {\n    return data.map((data: any) => [Number(data[0]), data[1]]);\n  };\n\n  const GetKeysWhichAreCommon = (data1: object, data2: object) => {\n    const data1Keys = Object.keys(data1).map((key) => Number(key));\n    const data2Keys = Object.keys(data2).map((key) => Number(key));\n    const filteredArray = data1Keys.filter((value) => data2Keys.includes(value));\n    const filteredData1 = Object.entries(data1).filter((data) =>\n      filteredArray.includes(Number(data[0])),\n    );\n    const filteredData2 = Object.entries(data2).filter((data) =>\n      filteredArray.includes(Number(data[0])),\n    );\n    return {\n      data1: filteredData1,\n      data2: filteredData2,\n    };\n  };\n\n  const fillInBetweenDataPoints = (data1: Array<any>): Array<any> => {\n    let newArray: Array<any> = [];\n    Object.entries(data1).map(([key, data], index) => {\n      if (index === 0) {\n        newArray.push([Number(data[0]), data[1]]);\n      } else {\n        const currentIndexData = data1[index];\n        const prevIndexData = data1[index - 1];\n        const start = moment(Number(currentIndexData[0]));\n        const end = moment(Number(prevIndexData[0]));\n        const dateDiff = start.diff(end, 'days');\n\n        if (dateDiff > 1) {\n          const arr = Array.from({ length: dateDiff - 1 }, (v, i) => i);\n          arr.forEach((data) => {\n            const addingDate = addDayInDate(Number(prevIndexData[0]), data + 1);\n            newArray.push([addingDate, prevIndexData[1]]);\n          });\n        }\n        newArray.push([Number(currentIndexData[0]), currentIndexData[1]]);\n      }\n    });\n    return newArray;\n  };\n\n  const AddTillDateDays = (data: Array<any>): Array<any> => {\n    const lastDate = data[data.length - 1][0];\n    const lastValue = data[data.length - 1][1];\n    const newArray = data;\n    const today = new Date(new Date().toDateString()).getTime();\n    const start = moment(lastDate);\n    const end = moment(today);\n    const dateDiff = end.diff(start, 'days');\n    const arr = Array.from({ length: dateDiff }, (v, i) => i);\n    arr.forEach((data) => {\n      const addingDate = addDayInDate(lastDate, data + 1);\n      newArray.push([addingDate, lastValue]);\n    });\n    return newArray;\n  };\n\n  const ProcessedData = useMemo(() => {\n    /*\n     1. convert array of array to array of object\n     2. convert date time to date\n     3. get all the common data points and do it\n   */\n\n    if (data1.length > 0 && data2.length > 0) {\n      const data1Obj = Object.fromEntries(data1);\n      const data2Obj = Object.fromEntries(data2);\n\n      const ProcessedData1: object = ConvertDateTimeToDate(data1Obj);\n      const ProcessedData2: object = ConvertDateTimeToDate(data2Obj);\n      const FilledDataPoints1: Array<any> = fillInBetweenDataPoints(\n        Object.entries(ProcessedData1).reverse(),\n      );\n      const TillDateGMUPrice: Array<any> = AddTillDateDays(FilledDataPoints1);\n      const CommonData: {\n        data1: Array<any>;\n        data2: Array<any>;\n      } = GetKeysWhichAreCommon(Object.fromEntries(TillDateGMUPrice), ProcessedData2);\n      const reversed = {\n        data1: CommonData.data1.reverse(),\n        data2: CommonData.data2.reverse(),\n      };\n      const FilledDataPoints2 = fillInBetweenDataPoints(reversed.data2);\n\n      return {\n        data1: TillDateGMUPrice,\n        data2: FilledDataPoints2,\n      };\n    } else {\n      return {\n        data1: data1,\n        data2: data2,\n      };\n    }\n  }, [data1, data2]);\n\n  const options = useMemo(() => {\n    return {\n      chart: {\n        type: 'line',\n        backgroundColor: 'transparent',\n      },\n      title: {\n        text: '',\n      },\n      tooltip: {\n        pointFormat: '<span>{series.name}</span>: <b>${point.y}</b><br/>',\n        valueDecimals: 2,\n        // split: true\n        shared: true,\n      },\n      xAxis: {\n        type: 'datetime',\n        labels: {\n          // @ts-ignore\n          formatter: function () {\n            // @ts-ignore\n            return Highcharts.dateFormat('%e %b,%Y', this.value);\n          },\n        },\n      },\n      yAxis: [\n        {\n          // Primary yAxis\n          labels: {\n            format: '${value}',\n            style: {\n              color: theme.color.transparent[100],\n            },\n          },\n          title: {\n            text: 'Protocol Price',\n            style: {\n              color: theme.color.transparent[100],\n            },\n          },\n          gridLineColor: theme.color.transparent[500],\n        },\n        {\n          // Secondary yAxis\n          labels: {\n            format: '${value}',\n            style: {\n              color: theme.color.transparent[100],\n            },\n          },\n          title: {\n            text: 'Eth Price',\n            style: {\n              color: theme.color.transparent[100],\n            },\n          },\n          opposite: true,\n          gridLineColor: theme.color.transparent[500],\n        },\n      ],\n      plotOptions: {\n        /*series: {\n          states: {\n            hover: {\n              enabled: false\n            }\n          },\n        },*/\n        line: {\n          marker: {\n            enabled: false,\n          },\n        },\n      },\n      credits: {\n        enabled: false,\n      },\n      series: [\n        {\n          name: 'Protocol Price',\n          showInLegend: true,\n          color: theme.color.primary[300],\n          yAxis: 0,\n          data: ProcessedData.data1,\n          fillColor: {\n            linearGradient: [0, 0, 0, 300],\n            stops: [\n              [0, Highcharts.getOptions().colors[0]],\n              [1, Highcharts.color(theme.color.primary[100]).setOpacity(0).get('rgba')],\n            ],\n          },\n        },\n        {\n          name: 'ETH Price',\n          yAxis: 1,\n          showInLegend: true,\n          color: theme.color.primary[100],\n          data: ProcessedData.data2,\n        },\n      ],\n      legend: {\n        itemStyle: {\n          color: theme.color.transparent[100],\n        },\n        itemHoverStyle: {\n          color: theme.color.transparent[300],\n        },\n      },\n    };\n  }, [ProcessedData.data1, ProcessedData.data2]);\n\n  return (\n    <div>\n      <Card className={'material-primary m-b-12'}>\n        <TextWrapper\n          text={'Protocol Price vs ETH Price'}\n          fontSize={16}\n          align={'center'}\n          fontWeight={600}\n          className={'m-b-4'}\n        />\n        <TextWrapper\n          text={\n            'This chart showcases the protocol price against ETH price. The protocol price should appreciate \\\n          whenever ETH appreciates and should remain stable otherwise'\n          }\n          align={'center'}\n          Fcolor={theme.color.transparent[100]}\n          className={'m-b-24'}\n        />\n        <HighchartsReact highcharts={Highcharts} options={options} />\n      </Card>\n    </div>\n  );\n};\n\nconst Card = styled.div`\n  padding: 24px 16px;\n`;\n","import Highcharts from 'highcharts';\nimport HighchartsReact from 'highcharts-react-official';\nimport React, { useEffect, useMemo, useState } from 'react';\nimport styled from 'styled-components';\n\nimport theme from '../../../../theme';\nimport TextWrapper from '../../../../theme/components/TextWrapper';\n\nexport default () => {\n  const [data1, setData1] = useState<Array<any>>([]);\n  const [data2, setData2] = useState<Array<any>>([]);\n  const [loading, setLoading] = useState<boolean>(true);\n\n  // const option = {style: 'currency', currency: 'USD'};\n  // const numberFormat = new Intl.NumberFormat('en-US', option);\n\n  useEffect(() => {\n    setLoading(true);\n    const url = `https://api.arthcoin.com/graph/protocol/MA`;\n    const headers = {\n      'Access-Control-Allow-Origin': '*',\n      'Access-Control-Allow-Methods': 'GET,POST,OPTIONS',\n      'Access-Control-Allow-Headers':\n        'access-control-allow-headers,access-control-allow-methods,access-control-allow-origin,content-type',\n    };\n\n    fetch(url, { headers })\n      .then((res) => res.json())\n      .then((res: any) => {\n        setData1(res.thirtyDayMA);\n        setData2(res.sevenDayMA);\n        setLoading(false);\n      })\n      .catch((err) => {});\n  }, []);\n\n  if (loading && data1 === [] && data2 === []) return <div />;\n\n  const ConvertDateTimeToDate = (data: object) => {\n    var Obj: any = {};\n    for (const [key, value] of Object.entries(data)) {\n      const numberDate = Number(key);\n      var newKey = new Date(new Date(numberDate).toDateString()).getTime();\n      Obj[newKey] = value;\n    }\n    return Obj;\n  };\n\n  const ConvertToNumberArray = (data: any) => {\n    return data.map((data: any) => [Number(data[0]), data[1]]);\n  };\n\n  const GetKeysWhichAreCommon = (data1: Array<any>, data2: Array<any>) => {\n    const data1Keys = Object.keys(data1).map((key) => Number(key));\n    const data2Keys = Object.keys(data2).map((key) => Number(key));\n    const filteredArray = data1Keys.filter((value) => data2Keys.includes(value));\n    const filteredData1 = Object.entries(data1).filter((data) =>\n      filteredArray.includes(Number(data[0])),\n    );\n    const filteredData2 = Object.entries(data2).filter((data) =>\n      filteredArray.includes(Number(data[0])),\n    );\n    return {\n      data1: filteredData1,\n      data2: filteredData2,\n    };\n  };\n\n  const ProcessedData = useMemo(() => {\n    /*\n     1. convert array of array to array of object\n     2. convert date time to date\n     3. get all the common data points and do it\n   */\n    const data1Obj = Object.fromEntries(data1);\n    const data2Obj = Object.fromEntries(data2);\n    const ProcessedData1 = ConvertDateTimeToDate(data1Obj);\n    const ProcessedData2 = ConvertDateTimeToDate(data2Obj);\n    const CommonData = GetKeysWhichAreCommon(ProcessedData1, ProcessedData2);\n    const FilteredProcessedData1 = ConvertToNumberArray(CommonData.data1);\n    const FilteredProcessedData2 = ConvertToNumberArray(CommonData.data2);\n\n    return {\n      data1: FilteredProcessedData1,\n      data2: FilteredProcessedData2,\n    };\n  }, [data1, data2]);\n\n  const options = useMemo(() => {\n    return {\n      chart: {\n        type: 'line',\n        backgroundColor: 'transparent',\n      },\n      title: {\n        text: '',\n      },\n      tooltip: {\n        pointFormat: '<span>{series.name}</span>: <b>${point.y}</b><br/>',\n        valueDecimals: 2,\n        // split: true\n        shared: true,\n      },\n      xAxis: {\n        type: 'datetime',\n        labels: {\n          // @ts-ignore\n          formatter: function () {\n            // @ts-ignore\n            return Highcharts.dateFormat('%e %b,%Y', this.value);\n          },\n        },\n      },\n      yAxis: [\n        {\n          // Primary yAxis\n          labels: {\n            format: '${value}',\n            style: {\n              color: theme.color.transparent[100],\n            },\n          },\n          title: {\n            text: 'ETH 30MA',\n            style: {\n              color: theme.color.transparent[100],\n            },\n          },\n          gridLineColor: theme.color.transparent[500],\n        },\n        {\n          // Secondary yAxis\n          labels: {\n            format: '${value}',\n            style: {\n              color: theme.color.transparent[100],\n            },\n          },\n          title: {\n            text: 'ETH 7MA',\n            style: {\n              color: theme.color.transparent[100],\n            },\n          },\n          opposite: true,\n          gridLineColor: theme.color.transparent[500],\n        },\n      ],\n      plotOptions: {\n        /*series: {\n          states: {\n            hover: {\n              enabled: false\n            }\n          },\n        },*/\n        line: {\n          marker: {\n            enabled: false,\n          },\n        },\n      },\n      credits: {\n        enabled: false,\n      },\n      series: [\n        {\n          name: 'ETH 30MA',\n          showInLegend: true,\n          color: theme.color.primary[300],\n          yAxis: 0,\n          data: ProcessedData.data1,\n          fillColor: {\n            linearGradient: [0, 0, 0, 300],\n            stops: [\n              [0, Highcharts.getOptions().colors[0]],\n              [1, Highcharts.color(theme.color.primary[100]).setOpacity(0).get('rgba')],\n            ],\n          },\n        },\n        {\n          name: 'ETH 7MA',\n          yAxis: 1,\n          showInLegend: true,\n          color: theme.color.primary[100],\n          data: ProcessedData.data2,\n        },\n      ],\n      legend: {\n        itemStyle: {\n          color: theme.color.transparent[100],\n        },\n        itemHoverStyle: {\n          color: theme.color.transparent[300],\n        },\n      },\n    };\n  }, [ProcessedData.data1, ProcessedData.data2]);\n\n  return (\n    <div>\n      <Card className={'material-primary m-b-12'}>\n        <TextWrapper\n          text={'ETH 30D and 7D TWAP'}\n          fontSize={16}\n          align={'center'}\n          fontWeight={600}\n          className={'m-b-4'}\n        />\n        <TextWrapper\n          text={\n            'This chart showcases the ETH 30-day and 7-day TWAP which is used by the GMU to calculate the price appreciation.'\n          }\n          align={'center'}\n          Fcolor={theme.color.transparent[100]}\n          className={'m-b-24'}\n        />\n        <HighchartsReact highcharts={Highcharts} options={options} />\n      </Card>\n    </div>\n  );\n};\n\nconst Card = styled.div`\n  padding: 24px 16px;\n`;\n","import React from 'react';\n\nimport { Grid } from '@material-ui/core';\n\nimport PageHeader from '../../theme/components/PageHeader';\n\nimport PriceDesc from './components/PriceDesc';\nimport UpdateOraclePrice from './components/UpdateOraclePrice';\nimport GMUvsETHGraph from './components/graphs/GMUvsETHGraph';\nimport TWAPGraph from './components/graphs/TWAPGraph';\n\n\nconst Price = () => {\n  return (\n    <div className={'custom-container'}>\n      <PageHeader\n        title={'Protocol Price'}\n        subTitle={\n          \"ARTH's price is defined by an algorithimic peg. This page provides information about this peg\"\n        }\n      />\n      <div>\n        <Grid container spacing={2}>\n          <Grid item lg={8} md={8} sm={12} xs={12}>\n            {/*<div className={'m-b-24'}>\n              <GMUvsCPIGraph />\n            </div>*/}\n            <div className={'m-b-24'}>\n              <GMUvsETHGraph />\n            </div>\n            <TWAPGraph />\n          </Grid>\n          <Grid item lg={4} md={4} sm={12} xs={12}>\n            <div className={'m-b-24'}>\n              <PriceDesc />\n            </div>\n            <div className={'m-b-24'}>\n              <UpdateOraclePrice />\n            </div>\n            {/*<PriceDataPoints />*/}\n          </Grid>\n        </Grid>\n      </div>\n    </div>\n  );\n};\n\nexport default Price;\n","import React from 'react';\nimport { Route, Switch } from 'react-router-dom';\nimport { useNetwork } from 'wagmi';\n\nimport NoPageFound from './components/NoPageFound';\nimport WrongNetwork from './components/WrongNetwork';\nimport Faucet from './pages/faucet.page';\nimport HomePage from './pages/index.page';\nimport Redeem from './pages/redeem.page';\nimport StabilityPool from './pages/stabilityPool.page';\nimport Page from './theme/components/Page/Page';\nimport AddLoan from './views/AddLoan';\nimport Loan from './views/Loan';\nimport LoanDetails from './views/LoanDetails';\nimport ModifyLoan from './views/ModifyLoan';\nimport Price from './views/Price';\n\nconst Navigation = () => {\n  const { chain } = useNetwork();\n\n /* if (chain === undefined || chain.unsupported) {\n    return (\n      <Switch>\n        <Route exact path=\"*\">\n          <Page>\n            <WrongNetwork />\n          </Page>\n        </Route>\n      </Switch>\n    );\n  }*/\n\n  return (\n    <Switch>\n      <Route path=\"/price\">\n        <Page>\n          <Price />\n        </Page>\n      </Route>\n      <Route path=\"/faucet\">\n        <Page>\n          <Faucet />\n        </Page>\n      </Route>\n      <Route path=\"/loans/:mode\">\n        <Page>\n          <Loan />\n        </Page>\n      </Route>\n      <Route path=\"/loan/add/:id\">\n        <Page>\n          <AddLoan />\n        </Page>\n      </Route>\n      <Route path=\"/loan/details/:ownerAddress/:trove\">\n        <Page>\n          <LoanDetails />\n        </Page>\n      </Route>\n      <Route path=\"/loan/modify/:trove\">\n        <Page>\n          <ModifyLoan />\n        </Page>\n      </Route>\n      <Route path=\"/redeem/:id\">\n        <Redeem />\n      </Route>\n      <Route path=\"/stability-pool/:id\">\n        <Page>\n          <StabilityPool />\n        </Page>\n      </Route>\n      <Route exact path=\"/\">\n        <HomePage />\n      </Route>\n      <Route exact path=\"*\">\n        <Page>\n          <NoPageFound />\n        </Page>\n      </Route>\n    </Switch>\n  );\n};\n\nexport default Navigation;\n","import React, { useEffect, useState } from 'react';\nimport styled from 'styled-components';\n\nimport Modal from '../../theme/components/Modal';\n\nconst Disclaimer: React.FC = () => {\n  const [openModal, toggleModal] = useState(false);\n  const handleClose = () => toggleModal(false);\n\n  useEffect(() => {\n    if (localStorage.getItem('show_dislaimer') !== '1') {\n      toggleModal(true);\n      localStorage.setItem('show_dislaimer', '1');\n    }\n  }, []);\n\n  return (\n    <Modal title=\"Disclaimer\" open={openModal} handleClose={handleClose} closeButton>\n      <ModalText>\n        ARTH is a risky asset and there is a probability that you could lose all your money. Do\n        not invest if you are not aware of what you are doing.\n      </ModalText>\n      <ModalText>\n        Participants from countries under whose national legislation this token may be deemed to\n        be a security or a regulated financial instrument are prohibited from participating in\n        any manner in token issuance, including indirectly, such as via a proxy or a name loan.\n      </ModalText>\n      <ModalText>\n        This token may be deemed to be a security or a regulated financial instrument within the\n        meaning of applicable national legislation in China, India, the United States, the\n        European Union and / or its individual member nations, Canada, South Korea, Singapore\n        and other countries.\n      </ModalText>\n      <ModalText>\n        It is your responsibility to determine whether you are from a country under whose\n        national legislation this token may be deemed to be a security or a regulated financial\n        instrument, and, if so, to respect the prohibition specified herein.\n      </ModalText>\n    </Modal>\n  );\n};\n\nconst ModalText = styled.div`\n  font-weight: 300;\n  font-size: 16px;\n  line-height: 20px;\n  text-align: left;\n  margin-bottom: 15px;\n  color: rgba(255, 255, 255, 0.64);\n`;\nexport default Disclaimer;\n","import React, { useEffect } from 'react';\nimport styled from 'styled-components';\n\nimport Slide from '@material-ui/core/Slide';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport { Theme, makeStyles } from '@material-ui/core/styles';\nimport { TransitionProps } from '@material-ui/core/transitions';\n\nimport config from '../../config';\nimport '../../customCss/Custom-Snackbar.css';\nimport { PopupContent } from '../../state/application/actions';\nimport theme from '../../theme';\nimport IconLoader from '../../theme/components/IconLoader';\nimport TextWrapper from '../../theme/components/TextWrapper';\nimport { useGetChainId } from '../../utils/NetworksCustomHooks';\n\ninterface TxButtonProps {\n  notificationCount?: number;\n  index?: number;\n  open?: boolean;\n  content?: PopupContent;\n  handleCancel?: Function;\n}\n\nconst useStyles = makeStyles((theme: Theme) => ({\n  root: {\n    width: '100%',\n    '& > * + *': {\n      marginTop: theme.spacing(2),\n    },\n  },\n}));\n\nconst CustomizedSnackbars: React.FC<TxButtonProps> = ({ open, content, handleCancel }) => {\n  const classes = useStyles();\n\n  const activeChainId = useGetChainId();\n  const [openSnackbar, setOpen] = React.useState(open);\n\n  const isScucess = content?.txn?.success;\n  const isLoading = content?.txn?.loading;\n\n  useEffect(() => {\n    setOpen(true);\n  }, [isScucess, isLoading]);\n\n  const handleClose = (event?: React.SyntheticEvent, reason?: string) => {\n    if (reason === 'clickaway') return;\n\n    setOpen(false);\n    if (handleCancel) handleCancel();\n  };\n\n  function SlideTransition(props: TransitionProps) {\n    return <Slide {...props} direction=\"left\" />;\n  }\n\n  const SnackHeader = () => {\n    if (isLoading) {\n      return (\n        <SnackBarInnerContainer style={{ background: theme.color.yellow[500] }}>\n          <div className=\"single-line-center-start\">\n            <IconLoader\n              iconName={'Pending'}\n              iconType={'status'}\n              width={24}\n              className=\"pointer m-r-12\"\n              onClick={handleClose}\n            />\n            Transaction Pending\n          </div>\n          <IconLoader iconName={'Cross'} width={24} className=\"pointer\" onClick={handleClose} />\n        </SnackBarInnerContainer>\n      );\n    } else if (isScucess) {\n      return (\n        <SnackBarInnerContainer style={{ background: theme.color.green[500] }}>\n          <div className=\"single-line-center-start\">\n            <IconLoader\n              iconName={'Success'}\n              iconType={'status'}\n              width={24}\n              className=\"pointer m-r-12\"\n              onClick={handleClose}\n            />\n            Transaction Successful\n          </div>\n          <IconLoader iconName={'Cross'} width={24} className=\"pointer\" onClick={handleClose} />\n        </SnackBarInnerContainer>\n      );\n    } else if (content.error?.message) {\n      return (\n        <SnackBarInnerContainer style={{ background: theme.color.red[500] }}>\n          <div className=\"single-line-center-start\">\n            <IconLoader\n              iconName={'Alert'}\n              iconType={'status'}\n              width={24}\n              className=\"pointer m-r-12\"\n              onClick={handleClose}\n            />\n            Transaction Failed\n          </div>\n          <IconLoader iconName={'Cross'} width={24} className=\"pointer\" onClick={handleClose} />\n        </SnackBarInnerContainer>\n      );\n    }\n  };\n\n  const SnackBody = () => {\n    return (\n      <SnackBarBody>\n        <TextWrapper\n          text={\n            content?.txn?.success || content?.txn?.loading\n              ? content.txn?.summary\n              : content.error?.message\n          }\n          fontWeight={300}\n        />\n        {config[activeChainId].etherscanUrl !== '' && content.txn?.hash && (\n          <AnchorTag\n            href={`${config[activeChainId].etherscanUrl}/tx/${content.txn?.hash}`}\n            rel=\"noopener noreferrer\"\n            target=\"_blank\"\n          >\n            <TextWrapper\n              text={'View on Explorer'}\n              fontWeight={300}\n              Fcolor={theme.color.transparent[200]}\n            />\n            <IconLoader\n              iconName={'ArrowLink'}\n              iconType={'arrow'}\n              width={24}\n              className=\"pointer m-l-2 \"\n              onClick={handleClose}\n            />\n          </AnchorTag>\n        )}\n      </SnackBarBody>\n    );\n  };\n\n  return (\n    <div className={classes.root}>\n      {openSnackbar && (\n        <Snackbar\n          open={openSnackbar}\n          autoHideDuration={3000}\n          TransitionComponent={SlideTransition}\n          onClose={handleClose}\n          anchorOrigin={{ vertical: 'top', horizontal: 'right' }}\n        >\n          <SnackBarParent>\n            {SnackHeader()}\n            {SnackBody()}\n          </SnackBarParent>\n        </Snackbar>\n      )}\n    </div>\n  );\n};\n\nconst AnchorTag = styled.a`\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  margin-top: 4px;\n  &:hover {\n    text-decoration: none;\n  }\n`;\n\nconst SnackBarInnerContainer = styled.div`\n  display: flex;\n  align-items: center;\n  width: 100%;\n  height: 50px;\n  padding: 0 12px 0 18px;\n  justify-content: space-between;\n  border-radius: 4px 4px 0 0;\n`;\n\nconst SnackBarBody = styled.div`\n  background: ${theme.color.dark[300]};\n  backdrop-filter: blur(70px);\n  border-radius: 0 0 4px 4px;\n  padding: 12px 12px 12px 52px;\n  font-weight: 600;\n  font-size: 14px;\n  width: 100%;\n`;\n\nconst SnackBarParent = styled.div`\n  background: rgba(255, 255, 255, 0.02);\n  backdrop-filter: blur(70px);\n  border-radius: 4px 4px 0 0;\n  border: 1px solid;\n  width: 378px;\n  border-image-source: linear-gradient(\n    180deg,\n    rgba(255, 116, 38, 0.1) 0%,\n    rgba(255, 255, 255, 0) 100%\n  );\n  color: #ffffff;\n  opacity: 0.88;\n  font-weight: 600;\n  font-size: 14px;\n  line-height: 20px;\n  @media (max-width: 600px) {\n    width: 100%;\n  }\n`;\n\nexport default CustomizedSnackbars;\n","import React from 'react';\n\nimport { useActivePopups } from '../../state/application/hooks';\n\nimport TransactionSnackbar from './TransactionSnackbar';\n\nexport default function Popups() {\n  const activePopups = useActivePopups();\n  return (\n    <>\n      {\n        activePopups.map((p, i) => (\n          /*enqueueSnackbar (<TransactionSnackbar\n            key={i}\n            index={i}\n            notificationCount={i+1}\n            open\n            content={p.content}\n          />)*/\n\n          <TransactionSnackbar\n            key={i}\n            index={i}\n            notificationCount={i + 1}\n            open\n            content={p.content}\n          />\n        ))\n        /*dummy.map((p, i) => {\n          let options = {\n            content: () =>\n              TranscationSnackbar({\n                index: i,\n                notificationCount: i+1,\n                open: true,\n                content: p.content,\n              }),\n          };\n          enqueueSnackbar('timepass', options);\n        })*/\n      }\n    </>\n  );\n}\n","import styled from 'styled-components';\n\nexport const BackgroundAbsolute = styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n  background: transparent;\n  width: 100vw;\n  height: 100vh;\n  z-index: 101;\n`;\n","import { BigNumber, utils } from 'ethers';\nimport React from 'react';\n\nimport config, { getSupportedChains } from '../../../config';\n// import { useGetUpdateActiveChainId } from '../../../state/chains/hooks';\nimport { IModalProps } from '../../../utils/interface';\nimport InfoTip from '../InfoTip';\nimport Modal from '../Modal';\nimport TextWrapper from '../TextWrapper';\n\nconst WrongNetworkModal = (props: IModalProps) => {\n  const { open, onClose } = props;\n  const getAvailableChains = getSupportedChains();\n  // const setChainId = useGetUpdateActiveChainId();\n\n  const addNetworkToMetamask = (chainId: number) => {\n    console.log('addNetworkToMetamask');\n    // @ts-ignore\n    if (window.ethereum) {\n      window.ethereum\n        // @ts-ignore\n        .request({\n          method: 'wallet_addEthereumChain',\n          params: [\n            {\n              chainId: utils.hexStripZeros(\n                BigNumber.from(config[chainId].chainId).toHexString(),\n              ),\n              chainName: config[chainId].networkName,\n              rpcUrls: [config[chainId].defaultProvider],\n              iconUrls: [],\n              blockExplorerUrls: [config[chainId].etherscanUrl],\n              nativeCurrency: {\n                name: config[chainId].blockchainTokenName,\n                symbol: config[chainId].blockchainToken,\n                decimals: config[chainId].blockchainTokenDecimals,\n              },\n            },\n          ],\n        })\n        .then(() => {\n          window.location.reload();\n        })\n        .catch((error: any) => {\n          if (error.code === 4001) {\n            console.log('We cannot encrypt anything without the key.');\n          }\n        });\n    }\n  };\n\n  const switchMetamaskChain = (chainId: number) => {\n    console.log('switchMetamaskChain');\n    if (window.ethereum) {\n      window.ethereum\n        // @ts-ignore\n        .request({\n          method: 'wallet_switchEthereumChain',\n          params: [\n            {\n              chainId: utils.hexStripZeros(\n                BigNumber.from(config[chainId].chainId).toHexString(),\n              ),\n            },\n          ],\n        })\n        .then((data: any) => {\n          console.log('switchMetamaskChain data', data);\n          // setChainId(chainId);\n          window.location.reload();\n        })\n        .catch((error: any) => {\n          console.log('switchMetamaskChain error', error);\n          if (error.code === 4902) addNetworkToMetamask(chainId);\n        });\n    }\n  };\n\n  return (\n    <Modal open={open} handleClose={onClose} title={'Wrong Network'} closeButton>\n      <TextWrapper\n        text={'Please connect to a supported network in the dropdown menu or in your wallet.'}\n        className={'m-b-24'}\n        fontSize={16}\n        align={'center'}\n      />\n      <TextWrapper text={'List of supported network:'} className={'m-b-8'} align={'center'} />\n      <TextWrapper\n        text={\n          <div>\n            {getAvailableChains.map((data, index) => {\n              return (\n                <span\n                  className={'m-r-8 links pointer'}\n                  onClick={() => switchMetamaskChain(data)}\n                  key={index}\n                >\n                  {`${config[data].networkDisplayName}${\n                    getAvailableChains.length - 1 === index ? '' : ','\n                  }`}\n                </span>\n              );\n            })}\n          </div>\n        }\n        className={'m-b-8'}\n        align={'center'}\n      />\n      <InfoTip\n        type={'Info'}\n        msg={'You can click on any of the network to add them to your wallet or switch network'}\n      />\n    </Modal>\n  );\n};\n\nexport default WrongNetworkModal;\n","import React from 'react';\n\nimport { Grid } from '@material-ui/core';\n\nimport theme from '../../index';\nimport Button from '../Button';\nimport Modal from '../Modal';\nimport TextWrapper from '../TextWrapper';\n\ninterface ConfirmationModalProps {\n  modalOpen: boolean;\n  onClose: () => void;\n  modalTitle: string;\n\n  title: string;\n  subtitle?: string;\n  yesText: string;\n  noText: string;\n  yesAction: () => void;\n  noAction: () => void;\n}\n\nconst ConfirmationModal = (props: ConfirmationModalProps) => {\n  const {\n    modalOpen,\n    onClose,\n    modalTitle,\n\n    title = '',\n    subtitle = '',\n    yesText,\n    yesAction,\n    noText,\n    noAction,\n  } = props;\n\n  return (\n    <Modal closeButton handleClose={() => onClose()} open={modalOpen} title={modalTitle}>\n      <>\n        <TextWrapper text={title} fontWeight={600} className=\"m-b-8\" align={'center'} />\n        <TextWrapper\n          text={subtitle}\n          fontWeight={300}\n          Fcolor={theme.color.transparent[100]}\n          align=\"center\"\n        />\n        <Grid container spacing={2} style={{ marginTop: '32px' }}>\n          <Grid item lg={6} md={6} sm={12} xs={12}>\n            <Button\n              variant={'transparent'}\n              text={noText}\n              size={'lg'}\n              onClick={() => noAction()}\n            />\n          </Grid>\n          <Grid item lg={6} md={6} sm={12} xs={12}>\n            <Button text={yesText} size={'lg'} onClick={() => yesAction()} />\n          </Grid>\n        </Grid>\n      </>\n    </Modal>\n  );\n};\n\nexport default ConfirmationModal;\n","import React from 'react';\nimport styled from 'styled-components';\nimport { format } from 'timeago.js';\n\nimport config from '../../../../../config';\nimport { TransactionDetails } from '../../../../../state/transactions/reducer';\nimport IconLoader from '../../../../../theme/components/IconLoader';\n\nconst TransactionWrapper = styled.div`\n  display: flex;\n  justify-content: space-between;\n`;\n\nconst IconWrapper = styled.div<{ pending: boolean; success?: boolean }>`\n  color: ${({ pending, success, theme }) =>\n    pending ? theme.primary1 : success ? theme.green1 : theme.red1};\n`;\n\nconst StateWrapper = styled.div<{ pending: boolean; success?: boolean }>`\n  color: ${({ pending, success }) => (pending ? '#FCB400' : success ? '#00000000' : '#FA4C69')};\n  font-style: normal;\n  font-weight: normal;\n  font-size: 12px;\n  line-height: 130%;\n`;\n\ninterface TransactionProps {\n  tx: TransactionDetails;\n  chainId: number;\n}\n\nconst SingleTransaction: React.FC<TransactionProps> = ({ tx, chainId }) => {\n  const summary = tx.summary;\n  const pending = !tx.receipt;\n  const success =\n    !pending && tx && (tx.receipt?.status === 1 || typeof tx.receipt?.status === 'undefined');\n  const date = tx?.confirmedTime || tx?.addedTime;\n\n  return (\n    <TransactionWrapper>\n      <IconWrapper pending={pending} success={success}>\n        {pending ? (\n          <IconLoader iconName={'ColoredPending'} iconType={'status'} />\n        ) : success ? (\n          <IconLoader iconName={'ColoredSuccess'} iconType={'status'} />\n        ) : (\n          <IconLoader iconName={'ColoredAlert'} iconType={'status'} />\n        )}\n      </IconWrapper>\n      <InfoSection>\n        <Title href={`${config[chainId].etherscanUrl}/tx/${tx.hash}`} target=\"_blank\">\n          {summary ?? tx.hash}\n        </Title>\n        <Date>{format(date)}</Date>\n      </InfoSection>\n      <StateWrapper pending={pending} success={success}>\n        {pending ? 'Pending' : success ? '' : 'Failed'}\n      </StateWrapper>\n    </TransactionWrapper>\n  );\n};\n\nconst InfoSection = styled.div`\n  flex: 1;\n  text-align: left;\n  margin-bottom: 16px;\n  margin-left: 14px;\n`;\n\nconst Title = styled.a`\n  font-style: normal;\n  font-weight: normal;\n  font-size: 14px;\n  line-height: 20px;\n  color: rgba(255, 255, 255, 0.88);\n  margin-bottom: 4px;\n  cursor: pointer;\n  &:hover {\n    color: rgba(255, 255, 255, 0.88);\n  }\n`;\n\nconst Date = styled.p`\n  font-style: normal;\n  font-weight: normal;\n  font-size: 12px;\n  line-height: 130%;\n  color: rgba(255, 255, 255, 0.64);\n  margin-bottom: 0;\n`;\n\nexport default SingleTransaction;\n","import React, { useMemo, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport styled from 'styled-components';\n\nimport IconButton from '@material-ui/core/IconButton';\n\nimport {\n  isTransactionRecent,\n  useAllTransactions,\n  useClearAllTransactions,\n} from '../../../../../state/transactions/hooks';\nimport { TransactionDetails } from '../../../../../state/transactions/reducer';\nimport ConfirmationModal from '../../../../../theme/components/ConfirmationModal';\nimport IconLoader from '../../../../../theme/components/IconLoader';\nimport { useGetAccount, useGetChainId } from '../../../../../utils/NetworksCustomHooks';\n\nimport SingleTransaction from './SingleTransaction';\n\ninterface props {\n  openModal: boolean;\n  onDismiss: () => void;\n}\n\nconst TxModal: React.FC<props> = ({ openModal, onDismiss }) => {\n  const account = useGetAccount();\n\n  const allTransactions = useAllTransactions();\n  const chainId = useGetChainId();\n  const { clearAllTransactions } = useClearAllTransactions();\n\n  const [openConfirmationModal, setOpenConfirmationModal] = useState<boolean>(false);\n\n  const sortedRecentTransactions = useMemo(() => {\n    const txs = Object.values(allTransactions);\n    return txs\n      .filter((tx) => isTransactionRecent(tx) && tx.from === account)\n      .sort(newTransactionsFirst);\n  }, [allTransactions, account]);\n\n  const handleClose = () => {\n    onDismiss();\n  };\n\n  if (!openModal) return null;\n\n  return (\n    <div>\n      <ConfirmationModal\n        modalOpen={openConfirmationModal}\n        onClose={() => setOpenConfirmationModal(false)}\n        modalTitle={'Clear all transaction'}\n        title={'Are you sure you want to clear all transaction?'}\n        yesText={'Yes'}\n        noText={'No'}\n        yesAction={() => {\n          setOpenConfirmationModal(false);\n          clearAllTransactions();\n        }}\n        noAction={() => setOpenConfirmationModal(false)}\n      />\n      <ModalHeader>\n        <Title>Recent Transactions</Title>\n        <RightSubHeader>\n          {sortedRecentTransactions.length > 0 && (\n            <ClearAll onClick={() => setOpenConfirmationModal(true)}>Clear all</ClearAll>\n          )}\n          <CrossIcon>\n            <IconButton aria-label=\"close\" onClick={() => handleClose()}>\n              <IconLoader iconName={'Cross'} width={24} />\n            </IconButton>\n          </CrossIcon>\n        </RightSubHeader>\n      </ModalHeader>\n      <ModalBody>\n        {sortedRecentTransactions.length === 0 && (\n          <div>\n            <NoTransaction>You havent done any transaction yet.</NoTransaction>\n            <CallToAction to={'/farming'} onClick={() => handleClose()}>\n              Farm and earn rewards\n            </CallToAction>\n          </div>\n        )}\n        <StyledTransactionList>\n          {sortedRecentTransactions.map((tx) => (\n            <SingleTransaction key={tx.hash} tx={tx} chainId={chainId} />\n          ))}\n        </StyledTransactionList>\n        {/*{\n            pending?.length > 0\n              ? (\n\n              ) : (\n                <div className=\"m-b-20 m-t-20\">\n                  <Label text=\"No pending transactions.\" color=\"#777\" />\n                </div>\n              )\n          }\n          {\n            confirmed?.length > 0\n              ? (\n                <>\n                  <Divider\n                    style={{\n                      background: 'rgba(255, 255, 255, 0.08)',\n                      margin: '15px 0px',\n                    }}\n                  />\n                  <StyledTitleArea style={{ flex: 1, display: 'flex', justifyContent: 'space-between' }}>\n                    <Label text=\"Recent transactions\" />\n                    {\"  \"}\n                    <StyledClearIconWrapper>\n                      <Trash onClick={clearAllTransactions} size=\"16\" />\n                    </StyledClearIconWrapper>\n                  </StyledTitleArea>\n                  <StyledTransactionList>\n                    {confirmed.map((tx) => (\n                      <Transaction key={tx.hash} tx={tx} />\n                    ))}\n                  </StyledTransactionList>\n                </>\n              )\n              : (\n                <div className=\"m-t-20 m-b-20\">\n                  <Label text=\"No recent transactions.\" color=\"#777\" />\n                </div>\n              )\n          }*/}\n      </ModalBody>\n    </div>\n  );\n};\n\nconst ModalHeader = styled.div`\n  padding: 0 0 12px 0;\n  border-bottom: 1px solid rgba(255, 255, 255, 0.08);\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n`;\n\nconst Title = styled.p`\n  font-style: normal;\n  font-weight: 600;\n  font-size: 16px;\n  line-height: 24px;\n  color: #ffffff;\n  margin-bottom: 0;\n`;\n\nconst RightSubHeader = styled.div`\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n`;\n\nconst ClearAll = styled.p`\n  font-style: normal;\n  font-weight: 300;\n  font-size: 12px;\n  line-height: 130%;\n  color: rgba(255, 255, 255, 0.32);\n  cursor: pointer;\n  margin-bottom: 0;\n`;\n\nconst CrossIcon = styled.div`\n  margin-right: -12px;\n`;\n\nconst ModalBody = styled.div`\n  padding: 24px 0 0 0;\n  overflow-y: scroll;\n  max-height: calc(360px - 72px);\n  @media (max-width: 600px) {\n    max-height: calc(100vh - 114px);\n  }\n`;\n\nconst NoTransaction = styled.p`\n  font-style: normal;\n  font-weight: normal;\n  font-size: 16px;\n  line-height: 150%;\n  color: rgba(255, 255, 255, 0.88);\n  margin-bottom: 8px;\n  padding: 0 12px;\n  text-align: center;\n`;\n\nconst CallToAction = styled(Link)`\n  font-style: normal;\n  font-weight: normal;\n  font-size: 16px;\n  line-height: 150%;\n  color: #f7653b;\n  text-align: center;\n  width: 100%;\n  display: block;\n  &:hover {\n    color: #f7653b;\n  }\n`;\n\nconst StyledTransactionList = styled.div`\n  display: flex;\n  flex-direction: column;\n`;\n\n// we want the latest one to come first, so return negative if an is after b\nfunction newTransactionsFirst(a: TransactionDetails, b: TransactionDetails) {\n  return b.addedTime - a.addedTime;\n}\n\nexport default TxModal;\n","import React from 'react';\n\nimport Modal from '../../../../../theme/components/Modal';\n\nimport TxModal from './TxModal';\n\ninterface Iprops {\n  openModal: boolean;\n  onDismiss: () => void;\n}\n\nconst DesktopTransactionInfo = (props: Iprops) => {\n  const { openModal, onDismiss } = props;\n\n  if (!openModal) return null;\n\n  return (\n    <Modal open={openModal}>\n      <TxModal openModal={openModal} onDismiss={() => onDismiss()} />\n    </Modal>\n  );\n};\n\nexport default DesktopTransactionInfo;\n","import { ConnectButton } from '@rainbow-me/rainbowkit';\nimport React, { useState } from 'react';\nimport { NavLink } from 'react-router-dom';\nimport styled from 'styled-components';\n\nimport config from '../../../config';\nimport useOneTroveIsAlreadyOpen from '../../../hooks/state/sortedTroves/useGetTroveIsAlreadyOpen';\nimport theme from '../../../theme';\nimport { BackgroundAbsolute } from '../../../theme/components/CustomComponent';\nimport IconLoader from '../../../theme/components/IconLoader';\nimport WrongNetworkModal from '../../../theme/components/WrongNetworkModal';\nimport { useGetAccount, useGetChainId } from '../../../utils/NetworksCustomHooks';\n\nimport MobileTransactionInfo from './modal/Transaction/MobileTransactionInfo';\n\ninterface props {\n  openMenu: boolean;\n  onClick: () => void;\n}\n\nconst MobileNav = (props: props) => {\n  const account = useGetAccount();\n  const activeChainId = useGetChainId();\n  const [showTxModal, setShowTxModal] = useState<boolean>(false);\n  const [showWrongNeworkModal, setShowWrongNeworkModal] = useState<boolean>(false);\n  const troveIsAlreadyPresent = useOneTroveIsAlreadyOpen(\n    config[activeChainId].defaultCollateral,\n  );\n\n  return (\n    <div>\n      <WrongNetworkModal\n        open={showWrongNeworkModal}\n        onClose={() => setShowWrongNeworkModal(false)}\n      />\n      <MobileTransactionInfo openModal={showTxModal} onDismiss={() => setShowTxModal(false)} />\n\n      {props.openMenu && <BackgroundAbsolute onClick={() => props.onClick()} />}\n      <StyledNav\n        style={{\n          width: props.openMenu ? '100%' : '0%',\n          opacity: props.openMenu ? 1 : 0,\n        }}\n      >\n        <div className={'m-t-24'}>\n          <ConnectButton />\n        </div>\n\n        <TopMenu className=\"bottom-divider\">\n          {activeChainId === 137 ? (\n            <>\n              <StyledLink\n                exact\n                activeClassName=\"activeSidebar\"\n                onClick={props.onClick}\n                to={'/redeem/' + config[activeChainId].defaultCollateral}\n              >\n                Redeem\n              </StyledLink>\n              <StyledLink\n                exact\n                activeClassName=\"activeSidebar\"\n                onClick={props.onClick}\n                to=\"/tokenization\"\n              >\n                Tokenize\n              </StyledLink>\n            </>\n          ) : (\n            <>\n              <StyledLink\n                activeClassName=\"activeSidebar\"\n                to=\"/loans/all-loans\"\n                onClick={props.onClick}\n              >\n                Overview\n              </StyledLink>\n              {troveIsAlreadyPresent.value ? (\n                <StyledLink\n                  activeClassName=\"activeSidebar\"\n                  to={`/loan/details/${account ? account : ''}/${\n                    config[activeChainId].defaultCollateral\n                  }`}\n                  onClick={props.onClick}\n                >\n                  View loan\n                </StyledLink>\n              ) : (\n                <StyledLink\n                  activeClassName=\"activeSidebar\"\n                  to={'/loan/add/' + config[activeChainId].defaultCollateral}\n                  onClick={props.onClick}\n                >\n                  Add loan\n                </StyledLink>\n              )}\n              <StyledLink\n                exact\n                activeClassName=\"activeSidebar\"\n                onClick={props.onClick}\n                to={'/stability-pool/' + config[activeChainId].defaultCollateral}\n              >\n                Stability Pool\n              </StyledLink>\n              <StyledLink\n                exact\n                activeClassName=\"activeSidebar\"\n                onClick={props.onClick}\n                to={'/redeem/' + config[activeChainId].defaultCollateral}\n              >\n                Redeem\n              </StyledLink>\n              <StyledLinkHref href={'https://farming.mahadao.com/'} target={'_blank'}>\n                <div className={'single-line-center-start'}>\n                  <p>Farming</p>\n                  <IconLoader iconName={'ArrowLinkColored'} iconType={'arrow'} />\n                </div>\n              </StyledLinkHref>\n              <StyledLink\n                exact\n                activeClassName=\"activeSidebar\"\n                onClick={props.onClick}\n                to=\"/price\"\n              >\n                Protocol Price\n              </StyledLink>\n              <StyledLinkHref href={config[activeChainId].tradingLink} target={'_blank'}>\n                <div className={'single-line-center-start'}>\n                  <p>Trade</p>\n                  <IconLoader iconName={'ArrowLinkColored'} iconType={'arrow'} />\n                </div>\n              </StyledLinkHref>\n              <StyledLinkHref href={config[activeChainId].analyticsLink} target={'_blank'}>\n                <div className={'single-line-center-start'}>\n                  <p>Analytics</p>\n                  <IconLoader iconName={'ArrowLinkColored'} iconType={'arrow'} />\n                </div>\n              </StyledLinkHref>\n            </>\n          )}\n          {/* <StyledLinkHref href={'https://anyswap.exchange/#/router'} target={'_blank'}>\n            <div className={'single-line-center-start'}>\n              <p>Bridge</p>\n              <IconLoader iconName={'ArrowLinkColored'} iconType={'arrow'} />\n            </div>\n          </StyledLinkHref> */}\n          {(activeChainId === 5 || activeChainId === 80001) && (\n            <StyledLink\n              exact\n              activeClassName=\"activeSidebar\"\n              onClick={props.onClick}\n              to=\"/faucet\"\n            >\n              Faucet\n            </StyledLink>\n          )}\n        </TopMenu>\n        <BottomMenu className=\"bottom-divider\">\n          <StyledLinkHref href=\"https://docs.arth.loans/\" target={'_blank'}>\n            <div className={'single-line-center-start'}>\n              <p>Documentation</p>\n              <IconLoader iconName={'ArrowLinkColored'} iconType={'arrow'} />\n            </div>\n          </StyledLinkHref>\n          {/*<StyledLinkHref\n            href=\"https://www.youtube.com/watch?v=8lFdzDkRXhw&list=PL2bcCoQ5RXeGh-Gkh1QZE_SjevMIDdtgN&index=9\"\n            target={'_blank'}\n          >\n            <div className={'single-line-center-start'}>\n              <p>Video Tutorials</p>\n              <IconLoader iconName={'ArrowLinkColored'} iconType={'arrow'} />\n            </div>\n          </StyledLinkHref>\n          <StyledLinkHref href=\"https://forms.gle/XNWxUs5AKgbZeED26\" target={'_blank'}>\n            <div className={'single-line-center-start'}>\n              <p>Report a Bug</p>\n              <IconLoader iconName={'ArrowLinkColored'} iconType={'arrow'} />\n            </div>\n          </StyledLinkHref>*/}\n          {/*<StyledLinkHref href=\"https://oldv2.arthcoin.com/\" target={'_blank'}>\n            <div className={'single-line-center-start'}>\n              <p>Old Interface</p>\n              <IconLoader iconName={'ArrowLinkColored'} iconType={'arrow'} />\n            </div>\n          </StyledLinkHref>*/}\n          {/* <StyledLinkHref href=\"https://defillama.com/protocol/mahadao\" target={'_blank'}>\n            <div className={'single-line-center-start'}>\n              <p>TVL</p>\n              <IconLoader iconName={'ArrowLinkColored'} iconType={'arrow'} />\n            </div>\n          </StyledLinkHref> */}\n        </BottomMenu>\n      </StyledNav>\n    </div>\n  );\n};\n\nconst StyledNav = styled.nav`\n  align-items: center;\n  display: flex;\n  flex-direction: column;\n  position: fixed;\n  top: 70px;\n  width: 100%;\n  left: 0;\n  background: #1e1d1d;\n  border-top: 1px solid rgba(255, 255, 255, 0.08);\n  height: calc(100vh - 72px);\n  overflow-y: scroll;\n  transition: 0.2s ease-out;\n  z-index: 111;\n`;\n\nconst TopMenu = styled.div`\n  padding: 24px 12px 16px 12px;\n  width: 100%;\n`;\n\nconst BottomMenu = styled.div`\n  padding: 24px 12px 16px 12px;\n  width: 100%;\n`;\n\nconst WalletButton = styled.div`\n  padding: 24px 12px 16px 12px;\n  width: 100%;\n`;\n\nconst StyledLink = styled(NavLink)`\n  padding: 8px 16px;\n  width: 100%;\n  border-radius: 2px;\n  display: block;\n  font-style: normal;\n  font-weight: 600;\n  font-size: 14px;\n  line-height: 20px;\n  color: #ffffff88;\n  margin-bottom: 8px;\n\n  &:hover {\n    outline: 1px solid rgba(255, 255, 255, 0.08);\n    color: #ffffff88;\n    opacity: 1;\n  }\n`;\n\nconst StyledLinkHref = styled.a`\n  padding: 8px 16px;\n  width: 100%;\n  border-radius: 2px;\n  display: block;\n  font-style: normal;\n  font-weight: 600;\n  font-size: 14px;\n  line-height: 20px;\n  color: #ffffff88;\n  margin-bottom: 8px;\n\n  &:hover {\n    outline: 1px solid rgba(255, 255, 255, 0.08);\n    color: #ffffff88;\n    opacity: 1;\n  }\n\n  &:active {\n    background: rgba(255, 255, 255, 0.01);\n    border-radius: 2px;\n    width: 100%;\n    color: #ffffff88;\n    opacity: 1;\n  }\n`;\n\nconst WrongNetworkButton = styled.div`\n  padding: 10px 22px;\n  width: 100%;\n  background: ${theme.color.red[300]};\n  border-radius: 6px;\n  height: 44px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n`;\n\nconst ExpandableMenu = styled.div`\n  padding: 8px 16px;\n  width: 100%;\n  border-radius: 2px;\n  display: block;\n  font-style: normal;\n  font-weight: 600;\n  font-size: 14px;\n  line-height: 20px;\n  color: #ffffff88;\n  margin-bottom: 8px;\n  cursor: pointer;\n\n  &:hover {\n    outline: 1px solid rgba(255, 255, 255, 0.08);\n    color: #ffffff88;\n    opacity: 1;\n  }\n\n  &:active {\n    background: rgba(255, 255, 255, 0.01);\n    border-radius: 2px;\n    width: 100%;\n    color: #ffffff88;\n    opacity: 1;\n  }\n`;\n\nconst ExpandedSection = styled.div<{ visible: boolean }>`\n  padding: 12px;\n  border-radius: 4px;\n  background: rgba(255, 255, 255, 0.02);\n  height: ${(props) => (props.visible ? 'auto' : '0px')};\n  display: ${(props) => (props.visible ? 'block' : 'none')};\n  transition: 0.5s ease-in-out;\n`;\n\nexport default MobileNav;\n","import React from 'react';\nimport styled from 'styled-components';\n\nimport TxModal from './TxModal';\n\ninterface Iprops {\n  openModal: boolean;\n  onDismiss: () => void;\n}\n\nconst DesktopTransactionInfo = (props: Iprops) => {\n  const { openModal, onDismiss } = props;\n\n  if (!openModal) return null;\n\n  return (\n    <MainDiv>\n      <BackgroundAbsolute onClick={() => onDismiss()} />\n      <PositionDiv>\n        <WalletDiv id={'desktop_tx_modal'}>\n          <TxModal openModal={openModal} onDismiss={() => onDismiss()} />\n        </WalletDiv>\n      </PositionDiv>\n    </MainDiv>\n  );\n};\n\nexport default DesktopTransactionInfo;\n\nconst BackgroundAbsolute = styled.div`\n  position: absolute;\n  top: 0;\n  left: 0;\n  background: transparent;\n  width: 100vw;\n  height: 100vh;\n  z-index: 1;\n`;\n\nconst MainDiv = styled.div`\n  position: absolute;\n  top: 0;\n  left: 0;\n  background: transparent;\n  width: 100vw;\n  height: 100vh;\n`;\n\nconst PositionDiv = styled.div`\n  box-sizing: border-box;\n  margin: 0 auto;\n  padding: 0 24px;\n  width: 100%;\n  position: relative;\n`;\n\nconst WalletDiv = styled.div`\n  position: absolute;\n  background: linear-gradient(180deg, #48423e 0%, #373030 100%);\n  border-radius: 6px;\n  right: 60px;\n  top: 72px;\n  width: 380px;\n  z-index: 10;\n  transition: 1s ease-in-out;\n  padding: 16px 24px 24px 24px;\n  @media (max-width: 600px) {\n    width: 100vw;\n    left: 0;\n    right: 0;\n  }\n`;\n","import { ConnectButton } from '@rainbow-me/rainbowkit';\nimport React, { useEffect, useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport styled from 'styled-components';\n\nimport { Box } from '@material-ui/core';\n\nimport useCore from '../../hooks/useCore';\nimport '../../scripts/headerWarning.js';\nimport IconLoader from '../../theme/components/IconLoader';\nimport TextWrapper from '../../theme/components/TextWrapper';\nimport { useGetAccount, useGetChainId } from '../../utils/NetworksCustomHooks';\n\nimport MobileNav from './components/MobileNav';\nimport DesktopTransactionInfo from './components/modal/Transaction/DesktopTransactionInfo';\n\n\nconst TopBar: React.FC = () => {\n  const core = useCore();\n  const account = useGetAccount();\n  const activeChainId = useGetChainId();\n  // const setAvailableChains = useUpdateAvailableChains();\n  const dispatch = useDispatch();\n\n  const [showTxModal, setShowTxModal] = useState<boolean>(false);\n  const [showMobileMenu, toggleMobileMenu] = useState<boolean>(false);\n\n  useEffect(() => {\n    if (core) {\n      core.updateActiveNetwork(activeChainId, dispatch);\n    }\n  }, [activeChainId, core, dispatch]);\n\n  // useEffect(() => {\n  //   setAvailableChains(getSupportedChains());\n  // }, [setAvailableChains]);\n\n  return (\n    <TopBarContainer>\n      <DesktopTransactionInfo openModal={showTxModal} onDismiss={() => setShowTxModal(false)} />\n      <StyledTopBar>\n        {/*<Box\n          py={0.8}\n          textAlign={'center'}\n          bgcolor={'rgb(66, 59, 56)'}\n          color={'rgb(252, 180, 0)'}\n          fontSize={14}\n        >\n          The ARTH protocol has completed it's{' '}\n          <a\n            className={'links'}\n            href=\"https://twitter.com/TheMahaDAO/status/1649434614895718400\"\n            target=\"_blank\"\n            rel=\"noreferrer\"\n          >\n            audits\n          </a>\n          .\n        </Box>*/}\n        <StyledTopBarInner>\n          <HideonPhone>\n            <div className=\"single-line-center-between\">\n              <div className={'single-line-center-start'}>\n                <IconLoader\n                  iconName={'ARTHlg'}\n                  iconType={'brandLogo'}\n                  onClick={() => window.open('https://mahadao.com/arth', '_self')}\n                />\n                <div className={'tags m-l-8 m-t-4'}>\n                  <TextWrapper text={'BETA'} fontSize={12} align={'center'} />\n                </div>\n              </div>\n              <div className=\"single-line-center-start\">\n                {!!account && (\n                  <IconLoader\n                    iconName={'Transaction'}\n                    className={'pointer m-r-12'}\n                    onClick={() => setShowTxModal(true)}\n                  />\n                )}\n                <ConnectButton />\n              </div>\n            </div>\n          </HideonPhone>\n          <HideOnBigScreen>\n            <div className=\"single-line-center-between\">\n              <IconLoader\n                iconName={!showMobileMenu ? 'Menu' : 'Cross'}\n                onClick={() => toggleMobileMenu(!showMobileMenu)}\n                className={'pointer'}\n              />\n              <div className={'single-line-center-start'}>\n                <IconLoader\n                  iconName={'ARTHlg'}\n                  iconType={'brandLogo'}\n                  onClick={() => window.open('https://mahadao.com/arth', '_self')}\n                />\n                <div className={'tags m-l-8 m-t-4'}>\n                  <TextWrapper text={'BETA'} fontSize={12} align={'center'} />\n                </div>\n              </div>\n            </div>\n          </HideOnBigScreen>\n          <HideOnBigScreen>\n            <MobileNav\n              openMenu={showMobileMenu}\n              onClick={() => toggleMobileMenu(!showMobileMenu)}\n            />\n          </HideOnBigScreen>\n        </StyledTopBarInner>\n      </StyledTopBar>\n    </TopBarContainer>\n  );\n};\n\nconst TopBarContainer = styled.div`\n  position: fixed;\n  z-index: 999;\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  top: 0;\n`;\n\nconst HideonPhone = styled.div`\n  width: 100%;\n  display: block;\n  @media (max-width: 800px) {\n    display: none;\n  } ;\n`;\n\nconst HideOnBigScreen = styled.div`\n  width: 100%;\n  display: none;\n  @media (max-width: 800px) {\n    display: block;\n  } ;\n`;\n\nconst StyledTopBar = styled.div`\n  box-sizing: border-box;\n  margin: 0 auto;\n  width: 100%;\n  background: rgba(0, 0, 0);\n  border-bottom: 1px solid rgba(255, 255, 255, 0.1);\n  backdrop-filter: blur(20px);\n`;\n\nconst StyledTopBarInner = styled.div`\n  align-content: center;\n  display: flex;\n  height: 72px;\n  justify-content: space-between;\n  width: 100%;\n  padding: 0 60px;\n  flex-wrap: wrap;\n  @media (max-width: 800px) {\n    padding: 0 16px;\n  }\n`;\n\nconst WarningMsg = styled.div`\n  display: block;\n  background-color: #2a2827;\n  padding: 12px 16px;\n`;\n\nexport default TopBar;\n","import { createAction } from '@reduxjs/toolkit';\nimport { BigNumber } from 'ethers';\n\nexport type DefaultPriceType = { val: BigNumber; collateral: string };\n\nexport const updateGMUPrice = createAction<DefaultPriceType>('analytics/updateGMUPrice');\n\nexport const getEntireSystemColl = createAction<DefaultPriceType>(\n  'analytics/getEntireSystemColl',\n);\n\nexport const getEntireSystemDebt = createAction<DefaultPriceType>(\n  'analytics/getEntireSystemDebt',\n);\n\nexport const getBorrowingRateWithDecay = createAction<DefaultPriceType>(\n  'analytics/getBorrowingRateWithDecay',\n);\n\nexport const getRedemptionRateWithDecay = createAction<DefaultPriceType>(\n  'analytics/getRedemptionRateWithDecay',\n);\n\nexport const getBorrowingRate = createAction<DefaultPriceType>('analytics/getBorrowingRate');\n\nexport const getRedemptionRate = createAction<DefaultPriceType>('analytics/getRedemptionRate');\n","import { createReducer } from '@reduxjs/toolkit';\nimport { BigNumber } from 'ethers';\n\nimport * as Actions from './actions';\n\nexport interface AnalyticsState {\n  gmuPrice: {\n    [collateral: string]: BigNumber;\n  };\n  entireSystemColl: {\n    [collateral: string]: BigNumber;\n  };\n  entireSystemDebt: {\n    [collateral: string]: BigNumber;\n  };\n  borrowingRateWithDecay: {\n    [collateral: string]: BigNumber;\n  };\n  borrowingRate: {\n    [collateral: string]: BigNumber;\n  };\n  redemptionRate: {\n    [collateral: string]: BigNumber;\n  };\n  redemptionRateWithDecay: {\n    [collateral: string]: BigNumber;\n  };\n}\n\nexport const initialState: AnalyticsState = {\n  gmuPrice: {},\n  entireSystemColl: {},\n  entireSystemDebt: {},\n  borrowingRateWithDecay: {},\n  borrowingRate: {},\n  redemptionRate: {},\n  redemptionRateWithDecay: {},\n};\n\nexport default createReducer(initialState, (builder) =>\n  builder\n    .addCase(\n      Actions.updateGMUPrice,\n      (t, { payload }: { payload: Actions.DefaultPriceType }) => {\n        t.gmuPrice = t.gmuPrice || {};\n        t.gmuPrice[payload.collateral] = payload.val;\n      },\n    )\n    .addCase(\n      Actions.getEntireSystemColl,\n      (t, { payload }: { payload: Actions.DefaultPriceType }) => {\n        t.entireSystemColl = t.entireSystemColl || {};\n        t.entireSystemColl[payload.collateral] = payload.val;\n      },\n    )\n    .addCase(\n      Actions.getEntireSystemDebt,\n      (t, { payload }: { payload: Actions.DefaultPriceType }) => {\n        t.entireSystemDebt = t.entireSystemDebt || {};\n        t.entireSystemDebt[payload.collateral] = payload.val;\n      },\n    )\n    .addCase(\n      Actions.getBorrowingRate,\n      (t, { payload }: { payload: Actions.DefaultPriceType }) => {\n        t.borrowingRate = t.borrowingRate || {};\n        t.borrowingRate[payload.collateral] = payload.val;\n      },\n    )\n    .addCase(\n      Actions.getBorrowingRateWithDecay,\n      (t, { payload }: { payload: Actions.DefaultPriceType }) => {\n        t.borrowingRateWithDecay = t.borrowingRateWithDecay || {};\n        t.borrowingRateWithDecay[payload.collateral] = payload.val;\n      },\n    )\n    .addCase(\n      Actions.getRedemptionRateWithDecay,\n      (t, { payload }: { payload: Actions.DefaultPriceType }) => {\n        t.redemptionRateWithDecay = t.redemptionRateWithDecay || {};\n        t.redemptionRateWithDecay[payload.collateral] = payload.val;\n      },\n    )\n    .addCase(\n      Actions.getRedemptionRate,\n      (t, { payload }: { payload: Actions.DefaultPriceType }) => {\n        t.redemptionRate = t.redemptionRate || {};\n        t.redemptionRate[payload.collateral] = payload.val;\n      },\n    ),\n);\n","import { createReducer, nanoid } from '@reduxjs/toolkit';\n\nimport {\n  PopupContent,\n  addPopup,\n  removePopup,\n  toggleSettingsMenu,\n  toggleWalletModal,\n  updateBlockNumber,\n} from './actions';\n\ntype PopupList = Array<{\n  key: string;\n  show: boolean;\n  content: PopupContent;\n  removeAfterMs: number | null;\n}>;\n\nexport interface ApplicationState {\n  blockNumber: { [chainId: number]: number };\n  popupList: PopupList;\n  walletModalOpen: boolean;\n  settingsMenuOpen: boolean;\n}\n\nconst initialState: ApplicationState = {\n  blockNumber: {},\n  popupList: [],\n  walletModalOpen: false,\n  settingsMenuOpen: false,\n};\n\nexport default createReducer(initialState, (builder) =>\n  builder\n    .addCase(updateBlockNumber, (state, action) => {\n      const { chainId, blockNumber } = action.payload;\n      if (typeof state.blockNumber[chainId] !== 'number') {\n        state.blockNumber[chainId] = blockNumber;\n      } else {\n        state.blockNumber[chainId] = Math.max(blockNumber, state.blockNumber[chainId]);\n      }\n    })\n    .addCase(toggleWalletModal, (state) => {\n      state.walletModalOpen = !state.walletModalOpen;\n    })\n    .addCase(toggleSettingsMenu, (state) => {\n      state.settingsMenuOpen = !state.settingsMenuOpen;\n    })\n    .addCase(addPopup, (state, { payload: { content, key, removeAfterMs = 15000 } }) => {\n      state.popupList = (key\n        ? state.popupList.filter((popup) => popup.key !== key)\n        : state.popupList\n      ).concat([\n        {\n          key: key || nanoid(),\n          show: true,\n          content,\n          removeAfterMs,\n        },\n      ]);\n    })\n    .addCase(removePopup, (state, { payload: { key } }) => {\n      state.popupList.forEach((p) => {\n        if (p.key === key) {\n          p.show = false;\n        }\n      });\n    }),\n);\n","import { createAction } from '@reduxjs/toolkit';\n\nexport const updateSlippage = createAction<{ id: number; value: number }>(\n  'slippage/updateSlippage',\n);\n","import { createReducer } from '@reduxjs/toolkit';\n\nimport { updateSlippage } from './actions';\n\nexport interface ApplicationState {\n  id: number;\n  value: number;\n}\n\nconst initialState: ApplicationState = {\n  id: 1,\n  value: 0.1,\n};\n\nexport default createReducer(initialState, (builder) =>\n  builder.addCase(updateSlippage, (state, action) => {\n    state.value = action.payload.value;\n    state.id = action.payload.id;\n  }),\n);\n","import { createReducer } from '@reduxjs/toolkit';\nimport { BigNumber } from 'ethers';\n\nimport * as Actions from './actions';\n\nexport interface TokenState {\n  updateARTHSupply?: BigNumber;\n}\n\nexport const initialState: TokenState = {\n  updateARTHSupply: undefined,\n};\n\nexport default createReducer(\n  initialState,\n  (builder) =>\n    builder.addCase(\n      Actions.updateARTHSupply,\n      (t, { payload }: { payload: Actions.UpdateARTHSupply }) => {\n        t.updateARTHSupply = payload.supply;\n      },\n    ),\n  // .addCase(\n  //   Actions.updateApprovalOf,\n  //   (t, { payload }: { payload: Actions.ApprovalOfType }) => {\n  //     t.approvals = t.approvals || {};\n  //     t.approvals[payload.token] = t.approvals[payload.token] || {};\n  //     t.approvals[payload.token][payload.from] =\n  //       t.approvals[payload.token][payload.from] || {};\n  //     t.approvals[payload.token][payload.from][payload.to] = payload.approval;\n  //   },\n  // ),\n);\n","import { createReducer } from '@reduxjs/toolkit';\nimport { BigNumber } from 'ethers';\n\nimport * as Actions from './actions';\n\nexport interface TokenState {\n  balanceOf: {\n    [token: string]: {\n      [who: string]: BigNumber;\n    };\n  };\n  approvals: {\n    [token: string]: {\n      [from: string]: {\n        [to: string]: BigNumber;\n      };\n    };\n  };\n}\n\nexport const initialState: TokenState = {\n  balanceOf: {},\n  approvals: {},\n};\n\nexport default createReducer(initialState, (builder) =>\n  builder\n    .addCase(Actions.updateBalanceOf, (t, { payload }: { payload: Actions.BalanceOfType }) => {\n      t.balanceOf = t.balanceOf || {};\n      t.balanceOf[payload.token] = t.balanceOf[payload.token] || {};\n      t.balanceOf[payload.token][payload.who] = payload.bal;\n    })\n    .addCase(\n      Actions.updateApprovalOf,\n      (t, { payload }: { payload: Actions.ApprovalOfType }) => {\n        t.approvals = t.approvals || {};\n        t.approvals[payload.token] = t.approvals[payload.token] || {};\n        t.approvals[payload.token][payload.from] =\n          t.approvals[payload.token][payload.from] || {};\n        t.approvals[payload.token][payload.from][payload.to] = payload.approval;\n      },\n    ),\n);\n","import { createReducer } from '@reduxjs/toolkit';\n\nimport {\n  SerializableTransactionReceipt,\n  addTransaction,\n  checkedTransaction,\n  clearAllTransactions,\n  finalizeTransaction,\n} from './actions';\n\nconst now = () => new Date().getTime();\n\nexport interface TransactionDetails {\n  hash: string;\n  approval?: { tokenAddress: string; spender: string };\n  summary?: string;\n  receipt?: SerializableTransactionReceipt;\n  lastCheckedBlockNumber?: number;\n  addedTime: number;\n  confirmedTime?: number;\n  from: string;\n}\n\nexport interface TransactionState {\n  [chainId: number]: {\n    [txHash: string]: TransactionDetails;\n  };\n}\n\nexport const initialState: TransactionState = {};\n\nexport default createReducer(initialState, (builder) =>\n  builder\n    .addCase(\n      addTransaction,\n      (transactions, { payload: { chainId, from, hash, approval, summary } }) => {\n        if (transactions[chainId]?.[hash]) {\n          throw Error('Attempted to add existing transaction.');\n        }\n        const txs = transactions[chainId] ?? {};\n        txs[hash] = { hash, approval, summary, from, addedTime: now() };\n        transactions[chainId] = txs;\n      },\n    )\n    .addCase(clearAllTransactions, (transactions, { payload: { chainId } }) => {\n      if (!transactions[chainId]) return;\n      transactions[chainId] = {};\n    })\n    .addCase(\n      checkedTransaction,\n      (transactions, { payload: { chainId, hash, blockNumber } }) => {\n        const tx = transactions[chainId]?.[hash];\n        if (!tx) {\n          return;\n        }\n        if (!tx.lastCheckedBlockNumber) {\n          tx.lastCheckedBlockNumber = blockNumber;\n        } else {\n          tx.lastCheckedBlockNumber = Math.max(blockNumber, tx.lastCheckedBlockNumber);\n        }\n      },\n    )\n    .addCase(finalizeTransaction, (transactions, { payload: { hash, chainId, receipt } }) => {\n      const tx = transactions[chainId]?.[hash];\n      if (!tx) {\n        return;\n      }\n      tx.receipt = receipt;\n      tx.confirmedTime = now();\n    }),\n);\n","import { createReducer } from '@reduxjs/toolkit';\nimport { BigNumber } from 'ethers';\n\nimport * as Actions from './actions';\n\nexport interface AnalyticsState {\n  hasPendingRewards: {\n    [collateral: string]: boolean;\n  };\n  pendingARTHDebtReward: {\n    [collateral: string]: BigNumber;\n  };\n  pendingETHReward: {\n    [collateral: string]: BigNumber;\n  };\n}\n\nexport const initialState: AnalyticsState = {\n  hasPendingRewards: {},\n  pendingARTHDebtReward: {},\n  pendingETHReward: {},\n};\n\nexport default createReducer(initialState, (builder) =>\n  builder\n    .addCase(\n      Actions.getPendingARTHDebtReward,\n      (t, { payload }: { payload: Actions.DefaultBNType }) => {\n        t.pendingARTHDebtReward = t.pendingARTHDebtReward || {};\n        t.pendingARTHDebtReward[payload.collateral] = payload.val;\n      },\n    )\n    .addCase(\n      Actions.getPendingETHReward,\n      (t, { payload }: { payload: Actions.DefaultBNType }) => {\n        t.pendingETHReward = t.pendingETHReward || {};\n        t.pendingETHReward[payload.collateral] = payload.val;\n      },\n    )\n    .addCase(\n      Actions.hasPendingRewards,\n      (t, { payload }: { payload: Actions.DefaultBoolType }) => {\n        t.hasPendingRewards = t.hasPendingRewards || {};\n        t.hasPendingRewards[payload.collateral] = payload.val;\n      },\n    ),\n);\n","import { configureStore, getDefaultMiddleware } from '@reduxjs/toolkit';\nimport { load, save } from 'redux-localstorage-simple';\n\nimport { isProduction } from '../analytics/Mixpanel';\n\nimport analytics from './analytics/reducer';\nimport application from './application/reducer';\n// import chains from './chains/reducer';\nimport slippage from './slippage/reducer';\nimport stats from './stats/reducer';\nimport token from './token/reducer';\nimport transactions from './transactions/reducer';\nimport trove from './trove/reducer';\n\n\nconst PERSISTED_KEYS: string[] = ['transactions', 'slippage', 'chains', 'stats'];\n\nconst store = configureStore({\n  reducer: {\n    application,\n    stats,\n    transactions,\n    trove,\n    token,\n    slippage,\n    analytics,\n  },\n  middleware: isProduction\n    ? [\n        ...getDefaultMiddleware({ serializableCheck: false, thunk: false }),\n        save({ states: PERSISTED_KEYS }),\n      ]\n    : [\n        ...getDefaultMiddleware({ serializableCheck: false, thunk: false }),\n        save({ states: PERSISTED_KEYS }),\n        // createLogger(),\n      ],\n  preloadedState: load({ states: PERSISTED_KEYS }),\n});\n\nexport default store;\n\nexport type AppState = ReturnType<typeof store.getState>;\nexport type AppDispatch = typeof store.dispatch;\n","import { useCallback, useEffect, useState } from 'react';\n\nconst VISIBILITY_STATE_SUPPORTED = 'visibilityState' in document;\n\nfunction isWindowVisible() {\n  return !VISIBILITY_STATE_SUPPORTED || document.visibilityState !== 'hidden';\n}\n\n/**\n * Returns whether the window is currently visible to the user.\n */\nexport default function useIsWindowVisible(): boolean {\n  const [focused, setFocused] = useState<boolean>(isWindowVisible());\n  const listener = useCallback(() => {\n    setFocused(isWindowVisible());\n  }, [setFocused]);\n\n  useEffect(() => {\n    if (!VISIBILITY_STATE_SUPPORTED) return undefined;\n\n    document.addEventListener('visibilitychange', listener);\n    return () => {\n      document.removeEventListener('visibilitychange', listener);\n    };\n  }, [listener]);\n\n  return focused;\n}\n","import { ethers } from 'ethers';\n\nimport { Configuration } from '../protocol/config';\nimport { web3ProviderFrom } from '../protocol/ether-utils';\n\nexport function getDefaultProvider(config: Configuration): ethers.providers.BaseProvider {\n  const _window: { ethereum?: any; web3?: any } = window;\n\n  // // Modern dapp browsers.\n  if (_window.ethereum) {\n    try {\n      // // Request account access\n      // const accounts = await window.ethereum.request({ method: 'eth_requestAccounts' })\n      // App.YOUR_ADDRESS = accounts[0];\n    } catch (error) {\n      // User denied account access...\n      console.error('User denied account access');\n    }\n\n    return new ethers.providers.Web3Provider(_window.ethereum);\n  }\n\n  // // Legacy dapp browsers...\n  if (_window.web3) {\n    return new ethers.providers.Web3Provider(_window.web3.currentProvider);\n  }\n\n  // If no injected web3 instance is detected, fall back to backup node\n  return new ethers.providers.JsonRpcProvider(config.defaultProvider);\n}\n\nexport function getGanacheProvider(config: Configuration): ethers.providers.JsonRpcProvider {\n  return new ethers.providers.JsonRpcProvider(\n    web3ProviderFrom(config.defaultProvider),\n    config.chainId,\n  );\n}\n","import { useCallback, useEffect, useState } from 'react';\nimport { useDispatch } from 'react-redux';\n\nimport config from '../../config';\nimport useDebounce from '../../hooks/useDebounce';\nimport useIsWindowVisible from '../../hooks/useIsWindowVisible';\nimport { useGetChainId } from '../../utils/NetworksCustomHooks';\nimport { getDefaultProvider } from '../../utils/provider';\n\n// import {  } from \"../chains/hooks\";\nimport { updateBlockNumber } from './actions';\n\nexport default function Updater(): null {\n  const chainId = useGetChainId();\n\n  const dispatch = useDispatch();\n  // const activeChainId = ();\n  const windowVisible = useIsWindowVisible();\n\n  const [state, setState] = useState<{\n    chainId: number | undefined;\n    blockNumber: number | null;\n  }>({\n    chainId,\n    blockNumber: null,\n  });\n\n  const blockNumberCallback = useCallback(\n    (blockNumber: number) => {\n      setState((state) => {\n        if (chainId === state.chainId) {\n          if (typeof state.blockNumber !== 'number') return { chainId, blockNumber };\n          return { chainId, blockNumber: Math.max(blockNumber, state.blockNumber) };\n        }\n        return state;\n      });\n    },\n    [chainId, setState],\n  );\n\n  // The attach/detach listeners.\n  useEffect(() => {\n    if (!chainId || !windowVisible) return undefined;\n    setState({ chainId, blockNumber: null });\n\n    const provider = getDefaultProvider(config[chainId]);\n    provider\n      .getBlockNumber()\n      .then(blockNumberCallback)\n      .catch((error: any) =>\n        console.error(`Failed to get block number for chainId: ${chainId}`, error),\n      );\n\n    provider.on('block', blockNumberCallback);\n    return () => {\n      provider.removeListener('block', blockNumberCallback);\n    };\n  }, [dispatch, chainId, blockNumberCallback, windowVisible]);\n\n  const debouncedState = useDebounce(state, 100);\n\n  useEffect(() => {\n    if (!debouncedState.chainId || !debouncedState.blockNumber || !windowVisible) return;\n    dispatch(\n      updateBlockNumber({\n        chainId: debouncedState.chainId,\n        blockNumber: debouncedState.blockNumber,\n      }),\n    );\n  }, [windowVisible, dispatch, debouncedState.blockNumber, debouncedState.chainId]);\n\n  return null;\n}\n","import { useEffect, useState } from \"react\";\n\n\n// modified from https://usehooks.com/useDebounce/\nexport default function useDebounce<T>(value: T, delay: number): T {\n  const [debouncedValue, setDebouncedValue] = useState<T>(value);\n\n  useEffect(() => {\n    // Update debounced value after delay\n    const handler = setTimeout(() => {\n      setDebouncedValue(value);\n    }, delay);\n\n    // Cancel the timeout if value changes (also on delay change or unmount)\n    // This is how we prevent debounced value from updating if value is changed ...\n    // .. within the delay period. Timeout gets cleared and restarted.\n    return () => {\n      clearTimeout(handler);\n    };\n  }, [value, delay]);\n\n  return debouncedValue;\n}\n","import { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport config from '../../config';\nimport { useGetChainId } from '../../utils/NetworksCustomHooks';\nimport { getDefaultProvider } from '../../utils/provider';\nimport { useAddPopup, useBlockNumber } from '../application/hooks';\n// import '../chains/hooks';\nimport { AppDispatch, AppState } from '../index';\n\nimport { checkedTransaction, finalizeTransaction } from './actions';\n\nexport function shouldCheck(\n  lastBlockNumber: number,\n  tx: { addedTime: number; receipt?: {}; lastCheckedBlockNumber?: number },\n): boolean {\n  if (tx.receipt) return false;\n  if (!tx.lastCheckedBlockNumber) return true;\n  const blocksSinceCheck = lastBlockNumber - tx.lastCheckedBlockNumber;\n  if (blocksSinceCheck < 1) return false;\n  const minutesPending = (new Date().getTime() - tx.addedTime) / 1000 / 60;\n  if (minutesPending > 60) {\n    // Every 10 blocks if pending for longer than an hour.\n    return blocksSinceCheck > 9;\n  } else if (minutesPending > 5) {\n    // Every 3 blocks if pending more than 5 minutes.\n    return blocksSinceCheck > 2;\n  } else {\n    // Otherwise every block.\n    return true;\n  }\n}\n\nexport default function Updater(): null {\n  const chainId = useGetChainId();\n\n  const lastBlockNumber = useBlockNumber();\n  const activeChainId = useGetChainId();\n\n  const dispatch = useDispatch<AppDispatch>();\n  const state = useSelector<AppState, AppState['transactions']>((state) => state.transactions);\n\n  const transactions = chainId ? state[chainId] ?? {} : {};\n\n  // Show d on confirm.\n  const addPopup = useAddPopup();\n\n  useEffect(() => {\n    if (!chainId || !lastBlockNumber) {\n      return;\n    }\n\n    const provider = getDefaultProvider(config[activeChainId]);\n    Object.keys(transactions)\n      .filter((hash) => shouldCheck(lastBlockNumber, transactions[hash]))\n      .forEach((hash) => {\n        provider\n          .getTransactionReceipt(hash)\n          .then((receipt) => {\n            if (receipt) {\n              dispatch(\n                finalizeTransaction({\n                  chainId,\n                  hash,\n                  receipt: {\n                    blockHash: receipt.blockHash,\n                    blockNumber: receipt.blockNumber,\n                    contractAddress: receipt.contractAddress,\n                    from: receipt.from,\n                    status: receipt.status,\n                    to: receipt.to,\n                    transactionHash: receipt.transactionHash,\n                    transactionIndex: receipt.transactionIndex,\n                  },\n                }),\n              );\n\n              addPopup(\n                {\n                  txn: {\n                    hash,\n                    success: receipt.status === 1,\n                    summary: transactions[hash]?.summary,\n                  },\n                },\n                hash,\n              );\n            } else {\n              dispatch(checkedTransaction({ chainId, hash, blockNumber: lastBlockNumber }));\n            }\n          })\n          .catch((error) => {\n            console.error(`failed to check transaction hash: ${hash}`, error);\n          });\n      });\n  }, [chainId, transactions, lastBlockNumber, dispatch, addPopup, activeChainId]);\n\n  return null;\n}\n","import React from 'react';\n\nimport ApplicationUpdater from './application/updater';\nimport TransactionUpdater from './transactions/updater';\n\nconst Updaters = () => (\n  <>\n    <ApplicationUpdater />\n    <TransactionUpdater />\n  </>\n);\n\nexport default Updaters;\n","import { Theme, darkTheme } from '@rainbow-me/rainbowkit';\n\nimport theme from '../theme';\n\nexport const myCustomTheme: Theme = {\n  blurs: {\n    ...darkTheme().blurs,\n  },\n  colors: {\n    ...darkTheme().colors,\n    accentColor: theme.color.gradients['orange_gradient'],\n  },\n  fonts: {\n    body: 'Inter',\n  },\n  radii: {\n    actionButton: '6px',\n    connectButton: '6px',\n    menuButton: '6px',\n    modal: '6px',\n    modalMobile: '6px',\n  },\n  shadows: {\n    ...darkTheme().shadows,\n  },\n};\n","import { RainbowKitProvider, getDefaultWallets } from '@rainbow-me/rainbowkit';\nimport '@rainbow-me/rainbowkit/styles.css';\nimport 'aos/dist/aos.css';\nimport { SnackbarProvider } from 'notistack';\nimport React, { useEffect } from 'react';\nimport { Provider, useDispatch } from 'react-redux';\nimport { HashRouter as Router } from 'react-router-dom';\nimport { ThemeProvider } from 'styled-components';\nimport { WagmiConfig, configureChains, createClient } from 'wagmi';\nimport { alchemyProvider } from 'wagmi/providers/alchemy';\nimport { publicProvider } from 'wagmi/providers/public';\n\nimport Navigation from './Navigation';\nimport { isProduction } from './analytics/Mixpanel';\nimport Disclaimer from './components/Disclaimer';\nimport Popups from './components/Popups';\nimport TopBar from './components/TopBar';\nimport { ConfigChains } from './config';\nimport { ProtocolProvider } from './contexts/ProtocolProvider';\nimport useCore from './hooks/useCore';\nimport store from './state';\nimport Updaters from './state/Updaters';\nimport * as analyticsState from './state/analytics/controller';\nimport theme from './theme';\nimport './theme.css';\nimport { useGetChainId } from './utils/NetworksCustomHooks';\nimport { myCustomTheme } from './utils/rainbowKitCustomTheme';\n\nconst Providers: React.FC = ({ children }) => {\n  return (\n    <ThemeProvider theme={theme}>\n      <Provider store={store}>\n        <RainbowProvider>\n          <ProtocolProvider>\n            <Updaters />\n            <AppContent>{children}</AppContent>\n          </ProtocolProvider>\n        </RainbowProvider>\n      </Provider>\n    </ThemeProvider>\n  );\n};\n\nconst RainbowProvider: React.FC = ({ children }) => {\n  const { chains, provider } = configureChains(ConfigChains, [\n    alchemyProvider({ apiKey: 'yFIea42iOou-1yrxEjr4tcxVXODp0uNs' }),\n    publicProvider(),\n  ]);\n\n  const { connectors } = getDefaultWallets({\n    appName: 'arth.mahadao.com',\n    chains,\n  });\n\n  const wagmiClient = createClient({\n    autoConnect: true,\n    connectors,\n    provider,\n  });\n\n  return (\n    <WagmiConfig client={wagmiClient}>\n      <RainbowKitProvider chains={chains} theme={myCustomTheme} showRecentTransactions={true}>\n        {children}\n      </RainbowKitProvider>\n    </WagmiConfig>\n  );\n};\n\nconst AppContent: React.FC = ({ children }) => {\n  const dispatch = useDispatch();\n  const chainId = useGetChainId();\n  const core = useCore();\n\n  useEffect(() => {\n    if (core) {\n      analyticsState.init(core, dispatch, chainId);\n    }\n  }, [core, dispatch, chainId]);\n\n  if (!core) return <div />;\n\n  return (\n    <SnackbarProvider\n      anchorOrigin={{\n        vertical: 'top',\n        horizontal: 'right',\n      }}\n      maxSnack={2}\n      autoHideDuration={2500}\n    >\n      <>\n        <Popups />\n        {children}\n      </>\n    </SnackbarProvider>\n  );\n};\n\nconst App: React.FC = () => {\n  return (\n    <Providers>\n      <Router>\n        <TopBar />\n        <Disclaimer />\n        <Navigation />\n      </Router>\n    </Providers>\n  );\n};\n// @ts-ignore\nexport default App;\n\nif (isProduction) console.log = function () {};\n","import { Dispatch } from '@reduxjs/toolkit';\nimport { BigNumber } from 'ethers';\n\nimport { IMulticallInput } from '../../protocol/Mulitcall';\nimport { Protocol } from '../../protocol/Protocol';\n\nimport * as Actions from './actions';\n\nexport const init = (core: Protocol, dispatch: Dispatch, chainId: number) => {\n  const _registerVariable = (fn: string, to: string, reduxAction: any, convertResult: any) => {\n    const input: IMulticallInput = {\n      key: `ANALYTICS:${fn}:${to}`,\n      target: to,\n      call: [fn],\n      convertResult,\n    };\n\n    core.multicall[chainId].on(input.key, (val) => {\n      dispatch(reduxAction(val));\n    });\n\n    return input;\n  };\n\n  const registerTroveManagerCalls = () => {\n    const calls: IMulticallInput[] = [];\n\n    const collaterals = core.getAllTroves(chainId);\n\n    collaterals.forEach((collateral) => {\n      const tm = core.getTroveManager(collateral, chainId);\n\n      calls.push(\n        _registerVariable(\n          'getEntireSystemColl()(uint256)',\n          tm.address,\n          Actions.getEntireSystemColl,\n          (val: BigNumber) => ({ val, collateral }),\n        ),\n        _registerVariable(\n          'getEntireSystemDebt()(uint256)',\n          tm.address,\n          Actions.getEntireSystemDebt,\n          (val: BigNumber) => ({ val, collateral }),\n        ),\n        _registerVariable(\n          'getBorrowingRateWithDecay()(uint256)',\n          tm.address,\n          Actions.getBorrowingRateWithDecay,\n          (val: BigNumber) => ({ val, collateral }),\n        ),\n        _registerVariable(\n          'getRedemptionRateWithDecay()(uint256)',\n          tm.address,\n          Actions.getRedemptionRateWithDecay,\n          (val: BigNumber) => ({ val, collateral }),\n        ),\n        _registerVariable(\n          'getBorrowingRate()(uint256)',\n          tm.address,\n          Actions.getBorrowingRate,\n          (val: BigNumber) => ({ val, collateral }),\n        ),\n        _registerVariable(\n          'getRedemptionRate()(uint256)',\n          tm.address,\n          Actions.getRedemptionRate,\n          (val: BigNumber) => ({ val, collateral }),\n        ),\n      );\n    });\n\n    return calls;\n  };\n\n  const calls = [...registerTroveManagerCalls()];\n  core.multicall[chainId].addCalls(calls);\n};\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/),\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA',\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.',\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log('No internet connection found. App is running in offline mode.');\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error(error.message);\n      });\n  }\n}\n","import * as Sentry from '@sentry/react';\nimport { BrowserTracing } from '@sentry/tracing';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\nimport { isProduction } from './analytics/Mixpanel';\nimport './index.css';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\nSentry.init({\n  dsn: isProduction ? 'https://73675ba0be4040348c1ab71ad283e1d5@sentry.mahadao.com/5' : '',\n  integrations: [new BrowserTracing()],\n\n  // Set tracesSampleRate to 1.0 to capture 100%\n  // of transactions for performance monitoring.\n  // We recommend adjusting this value in production\n  tracesSampleRate: 1.0,\n});\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}